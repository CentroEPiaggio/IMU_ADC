C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 1   


C51 COMPILER V9.51, COMPILATION OF MODULE COMMAND_PROCESSING
OBJECT MODULE PLACED IN .\DP8051_Keil_951\Debug\command_processing.obj
COMPILER INVOKED BY: C:\Program Files (x86)\Cypress\PSoC Creator\4.2\PSoC Creator\import\keil\pk51\9.51\C51\BIN\c51.exe 
                    -command_processing.c NOIV LARGE MODDP2 OMF2 VB(1) NOIP INCDIR(.,Generated_Source\PSoC3) FF(3) DB WL(2) PR(.\DP8051_Keil_
                    -951\Debug/command_processing.lst) CD OT(2,SIZE) OJ(.\DP8051_Keil_951\Debug\command_processing.obj)

line level    source

   1          // ----------------------------------------------------------------------------
   2          // BSD 3-Clause License
   3          
   4          // Copyright (c) 2016, qbrobotics
   5          // Copyright (c) 2017-2018, Centro "E.Piaggio"
   6          // All rights reserved.
   7          
   8          // Redistribution and use in source and binary forms, with or without
   9          // modification, are permitted provided that the following conditions are met:
  10          
  11          // * Redistributions of source code must retain the above copyright notice, this
  12          //   list of conditions and the following disclaimer.
  13          
  14          // * Redistributions in binary form must reproduce the above copyright notice,
  15          //   this list of conditions and the following disclaimer in the documentation
  16          //   and/or other materials provided with the distribution.
  17          
  18          // * Neither the name of the copyright holder nor the names of its
  19          //   contributors may be used to endorse or promote products derived from
  20          //   this software without specific prior written permission.
  21          
  22          // THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  23          // AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  24          // IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  25          // DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  26          // FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  27          // DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  28          // SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  29          // CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  30          // OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  31          // OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  32          // POSSIBILITY OF SUCH DAMAGE.
  33          // ----------------------------------------------------------------------------
  34          
  35          /**
  36          * \file         command_processing.c
  37          *
  38          
  39          * \brief        Command processing functions.
  40          * \date         February 01, 2018
  41          * \author       _Centro "E.Piaggio"_
  42          * \copyright    (C) 2012-2016 qbrobotics. All rights reserved.
  43          * \copyright    (C) 2017-2018 Centro "E.Piaggio". All rights reserved.
  44          */
  45          
  46          //=================================================================     includes
  47          #include "command_processing.h"
  48          #include "interruptions.h"
  49          #include "utils.h"
  50          #include "globals.h"
  51          #include "commands.h"
  52          #include "IMU_functions.h"
  53          #include <STDIO.H>
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 2   

  54          
  55          //================================================================     variables
  56          
  57          reg8 * EEPROM_ADDR = (reg8 *) CYDEV_EE_BASE;
  58          
  59          //==============================================================================
  60          //                                                            RX DATA PROCESSING
  61          //==============================================================================
  62          //  This function checks for the availability of a data packet and process it:
  63          //      - Verify checksum;
  64          //      - Process commands;
  65          //==============================================================================
  66          
  67          void commProcess(){
  68   1      
  69   1          uint8 CYDATA rx_cmd;
  70   1      
  71   1          rx_cmd = g_rx.buffer[0];
  72   1      
  73   1      //==========================================================     verify checksum
  74   1      
  75   1          if (!(LCRChecksum(g_rx.buffer, g_rx.length - 1) == g_rx.buffer[g_rx.length - 1])){
  76   2              // Wrong checksum
  77   2              g_rx.ready = 0;
  78   2              return;
  79   2          }
  80   1      
  81   1      
  82   1          switch(rx_cmd) {
  83   2             
  84   2      //=========================================================     CMD_SET_BAUDRATE
  85   2                  
  86   2              case CMD_SET_BAUDRATE:
  87   2                  cmd_set_baudrate();
  88   2                  break;  
  89   2                  
  90   2      //=============================================================     CMD_GET_INFO
  91   2      
  92   2              case CMD_GET_INFO:
  93   2                  infoGet( *((uint16 *) &g_rx.buffer[1]));
  94   2                  break;
  95   2      
  96   2      //============================================================     CMD_GET_PARAM
  97   2                  
  98   2              case CMD_GET_PARAM_LIST:
  99   2                  get_param_list( *((uint16 *) &g_rx.buffer[1]));
 100   2                  break;
 101   2      
 102   2      //=================================================================     CMD_PING
 103   2                  
 104   2              case CMD_PING:
 105   2                  cmd_ping();
 106   2                  break;
 107   2      
 108   2      //=========================================================     CMD_STORE_PARAMS
 109   2                  
 110   2              case CMD_STORE_PARAMS:
 111   2                  cmd_store_params();
 112   2                  break;
 113   2      
 114   2      //=================================================     CMD_STORE_DEFAULT_PARAMS
 115   2      
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 3   

 116   2              case CMD_STORE_DEFAULT_PARAMS:
 117   2                  if(memStore(DEFAULT_EEPROM_DISPLACEMENT))
 118   2                      sendAcknowledgment(ACK_OK);
 119   2                  else
 120   2                      sendAcknowledgment(ACK_ERROR);
 121   2                  break;
 122   2      
 123   2      //=======================================================     CMD_RESTORE_PARAMS
 124   2      
 125   2              case CMD_RESTORE_PARAMS:
 126   2                  if(memRestore())
 127   2                      sendAcknowledgment(ACK_OK);
 128   2                  else
 129   2                      sendAcknowledgment(ACK_ERROR);
 130   2                  break;
 131   2      
 132   2      //=============================================================     CMD_INIT_MEM
 133   2      
 134   2              case CMD_INIT_MEM:
 135   2                  if(memInit())
 136   2                      sendAcknowledgment(ACK_OK);
 137   2                  else
 138   2                      sendAcknowledgment(ACK_ERROR);
 139   2                  break;
 140   2      
 141   2      //===========================================================     CMD_BOOTLOADER
 142   2      
 143   2              case CMD_BOOTLOADER:
 144   2                  //Not sure if ACK_OK is correct, should check
 145   2                  sendAcknowledgment(ACK_OK);
 146   2                  CyDelay(1000);
 147   2                  FTDI_ENABLE_REG_Write(0x00);
 148   2                  CyDelay(1000);
 149   2                  Bootloadable_Load();
 150   2                  break;
 151   2      
 152   2      //=====================================================     CMD_GET_IMU_READINGS
 153   2      
 154   2              case CMD_GET_IMU_READINGS:
 155   2                  cmd_get_imu_readings();
 156   2                  break;                
 157   2      
 158   2      //============================================================     CMD_GET_PARAM
 159   2                  
 160   2              case CMD_GET_IMU_PARAM:
 161   2                  get_param_list( *((uint16 *) &g_rx.buffer[1]));
 162   2                  break;
 163   2                  
 164   2      //=====================================================     CMD_GET_SENSORS
 165   2      
 166   2              case CMD_GET_ADC_RAW:
 167   2                  cmd_get_sensors();
 168   2                  break;                
 169   2                  
 170   2      //=========================================================== ALL OTHER COMMANDS
 171   2              default:
 172   2                  break;
 173   2                  
 174   2          }
 175   1      }
 176          
 177          
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 4   

 178          //==============================================================================
 179          //                                                                     INFO SEND
 180          //==============================================================================
 181          
 182          void infoSend(){
 183   1          unsigned char packet_string[1100];
 184   1          infoPrepare(packet_string);
 185   1          UART_RS485_PutString(packet_string);
 186   1      }
 187          
 188          
 189          //==============================================================================
 190          //                                                              COMMAND GET INFO
 191          //==============================================================================
 192          
 193          void infoGet(uint16 info_type) {
 194   1          static unsigned char packet_string[1100];
 195   1      
 196   1          //==================================     choose info type and prepare string
 197   1      
 198   1          switch (info_type) {
 199   2              case INFO_ALL:
 200   2                  infoPrepare(packet_string);
 201   2                  UART_RS485_PutString(packet_string);  
 202   2                  break;
 203   2              case INFO_READING:                        
 204   2                  infoReading(packet_string);
 205   2                  UART_RS485_PutString(packet_string);
 206   2                  break;
 207   2              default:
 208   2                  break;
 209   2          }
 210   1      }
 211          
 212          //==============================================================================
 213          //                                                            GET PARAMETER LIST
 214          //==============================================================================
 215          
 216          void get_param_list(uint16 index)
 217          {
 218   1          //Package to be sent variables
 219   1          uint8 packet_data[  PARAM_BYTE_SLOT   +     // Number of connected IMUs
 220   1                              6*PARAM_BYTE_SLOT +     // IMUs ID
 221   1                              9*PARAM_BYTE_SLOT +     // Mag cal parameters
 222   1                              PARAM_BYTE_SLOT   +     // 1 - Device ID
 223   1                              PARAM_BYTE_SLOT*N_IMU_MAX + // IMU configurations
 224   1                              PARAM_BYTE_SLOT   +     // SPI read delay
 225   1                              PARAM_MENU_SLOT   + PARAM_BYTE_SLOT + 1 ] = "";
 226   1          uint16 num_imus_id_params = 6;
 227   1          uint16 num_mag_cal_params = 0;
 228   1          uint16 first_imu_parameter = 2;
 229   1          uint16 packet_length = PARAM_BYTE_SLOT +
 230   1                                 num_imus_id_params*PARAM_BYTE_SLOT +
 231   1                                 num_mag_cal_params*PARAM_BYTE_SLOT +
 232   1                                 PARAM_BYTE_SLOT   + 
 233   1                                 (uint16)(PARAM_BYTE_SLOT*N_IMU_Connected) +
 234   1                                 PARAM_BYTE_SLOT + PARAM_MENU_SLOT + PARAM_BYTE_SLOT + 1;
 235   1      
 236   1          //Auxiliary variables
 237   1          uint16 CYDATA i, j, k, h;
 238   1          uint16 start_byte = 0;
 239   1      
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 5   

 240   1          //Parameters menu string definitions
 241   1          char n_imu_str[26]          = "Number of connected IMUs:";
 242   1          char ids_str[11]            = "";
 243   1          char mag_param_str[20]      = "Mag cal parameters:";
 244   1          char id_str[16]             = "";
 245   1          char imu_table_str[42]      = "";
 246   1          char spi_read_delay_str[26] = "";
 247   1          
 248   1          //Strings lenghts
 249   1          uint8 CYDATA id_str_len = strlen(id_str);
 250   1          uint8 CYDATA n_imu_str_len = strlen(n_imu_str);
 251   1          uint8 CYDATA ids_str_len = strlen(ids_str);
 252   1          uint8 CYDATA mag_param_str_len = strlen(mag_param_str);
 253   1          uint8 CYDATA imu_table_str_len = strlen(imu_table_str);
 254   1          uint8 CYDATA spi_read_delay_str_len = strlen(spi_read_delay_str);
 255   1          
 256   1          char spi_delay_menu[118]    = "";
 257   1          uint8 CYDATA spi_delay_menu_len;
 258   1          
 259   1          sprintf(spi_delay_menu, "0 -> None\n1 -> Low (%u us delay for each 8-bit register read)\n2 -> High (%u
             - us delay for each 8-bit register read)\n", (int)SPI_DELAY_LOW, (int)SPI_DELAY_HIGH);
 260   1          spi_delay_menu_len = strlen(spi_delay_menu);
 261   1      
 262   1          // Compute number of read parameters depending on N_IMU_Connected and
 263   1          // update packet_length
 264   1          num_mag_cal_params = (uint16)(N_IMU_Connected / 2);
 265   1          if ( (N_IMU_Connected - num_mag_cal_params*2) > 0 ) num_mag_cal_params++;
 266   1          
 267   1          packet_length = PARAM_BYTE_SLOT +
 268   1                          num_imus_id_params*PARAM_BYTE_SLOT +
 269   1                          num_mag_cal_params*PARAM_BYTE_SLOT +
 270   1                          PARAM_BYTE_SLOT   + 
 271   1                          (uint16)(PARAM_BYTE_SLOT*N_IMU_Connected) +
 272   1                          PARAM_MENU_SLOT + PARAM_BYTE_SLOT + 1;
 273   1      
 274   1          first_imu_parameter = 1 + num_imus_id_params + num_mag_cal_params + 2;
 275   1          packet_data[0] = CMD_GET_PARAM_LIST;
 276   1          packet_data[1] = 1 + num_imus_id_params + num_mag_cal_params + 1 + (uint8)N_IMU_Connected + 1;        
             -// NUM_PARAMS
 277   1      
 278   1          switch(index) {
 279   2              case 0:         //List of all parameters with relative types
 280   2                  /*-------------N IMU--------------*/
 281   2                  start_byte = 0;
 282   2                  packet_data[2] = TYPE_UINT8;
 283   2                  packet_data[3] = 1;
 284   2                  packet_data[4] = (uint8)N_IMU_Connected;
 285   2                  for(i = n_imu_str_len; i != 0; i--)
 286   2                      packet_data[5 + n_imu_str_len - i] = n_imu_str[n_imu_str_len - i];
 287   2                      
 288   2                  /*-------------IMUS ID--------------*/
 289   2                  start_byte = start_byte + PARAM_BYTE_SLOT;
 290   2                  i = 0;
 291   2                  for (k = 0; k < num_imus_id_params; k++){
 292   3                      sprintf(ids_str, "Port %u ID:", k);
 293   3                      h = 4;
 294   3                      ids_str_len = strlen(ids_str);
 295   3                      packet_data[2+start_byte + PARAM_BYTE_SLOT*k] = TYPE_UINT8;
 296   3                      packet_data[3+start_byte + PARAM_BYTE_SLOT*k] = 3;
 297   3                      
 298   3                      for (j = 3*k; j <= 3*k+2; j++) {  // for each possible imu on port k
 299   4                          if (IMU_connected[i] == j) {
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 6   

 300   5                              packet_data[h+start_byte + PARAM_BYTE_SLOT*k] = (uint8)IMU_connected[i];          
             -     
 301   5                              i++;
 302   5                          } 
 303   4                          else {
 304   5                              packet_data[h+start_byte + PARAM_BYTE_SLOT*k] = 255;
 305   5                          }
 306   4                          h++;
 307   4                      }
 308   3      
 309   3                      //if (IMU_connected[i] >= 3*k && IMU_connected[i] <= 3*k + 2)
 310   3                      for(j = ids_str_len; j != 0; j--)
 311   3                          packet_data[7+start_byte + PARAM_BYTE_SLOT*k + ids_str_len - j] = ids_str[ids_str_len 
             -- j];
 312   3                  }
 313   2                  
 314   2                  /*-------------GET MAG PARAM--------------*/
 315   2                  start_byte = start_byte + PARAM_BYTE_SLOT*num_imus_id_params;
 316   2                  for (k = 0; k < num_mag_cal_params; k++){
 317   3                      packet_data[2+start_byte + PARAM_BYTE_SLOT*k] = TYPE_UINT8;
 318   3                      
 319   3                      packet_data[3+start_byte + PARAM_BYTE_SLOT*k] = 3;
 320   3                      packet_data[4+start_byte + PARAM_BYTE_SLOT*k] = (uint8) MagCal[IMU_connected[2*k]][0];
 321   3                      packet_data[5+start_byte + PARAM_BYTE_SLOT*k] = (uint8) MagCal[IMU_connected[2*k]][1];
 322   3                      packet_data[6+start_byte + PARAM_BYTE_SLOT*k] = (uint8) MagCal[IMU_connected[2*k]][2];
 323   3                      
 324   3                      // check if there is a second value
 325   3                      if ( N_IMU_Connected < 2*(k+1) ) {
 326   4                          // there is only one value
 327   4                          for(j = mag_param_str_len; j != 0; j--)
 328   4                              packet_data[7+start_byte + PARAM_BYTE_SLOT*k + mag_param_str_len - j] = mag_param_
             -str[mag_param_str_len - j];
 329   4                      }
 330   3                      else {
 331   4                          // fill the second value
 332   4                          packet_data[3+start_byte + PARAM_BYTE_SLOT*k] = 6;
 333   4                          packet_data[7+start_byte + PARAM_BYTE_SLOT*k] = (uint8) MagCal[IMU_connected[2*k+1]][0
             -];
 334   4                          packet_data[8+start_byte + PARAM_BYTE_SLOT*k] = (uint8) MagCal[IMU_connected[2*k+1]][1
             -];
 335   4                          packet_data[9+start_byte + PARAM_BYTE_SLOT*k] = (uint8) MagCal[IMU_connected[2*k+1]][2
             -];
 336   4                      
 337   4                          for(j = mag_param_str_len; j != 0; j--)
 338   4                              packet_data[10+start_byte + PARAM_BYTE_SLOT*k + mag_param_str_len - j] = mag_param
             -_str[mag_param_str_len - j];
 339   4                      }
 340   3                  }
 341   2                  
 342   2                  /*-----------------ID-----------------*/
 343   2                  
 344   2                  start_byte = start_byte + PARAM_BYTE_SLOT*num_mag_cal_params;
 345   2                  sprintf(id_str, "%u - Device ID:", first_imu_parameter-1);
 346   2                  id_str_len = strlen(id_str);
 347   2                  packet_data[2+start_byte] = TYPE_UINT8;
 348   2                  packet_data[3+start_byte] = 1;
 349   2                  packet_data[4+start_byte] = c_mem.id;
 350   2                  for(i = id_str_len; i != 0; i--)
 351   2                      packet_data[5+start_byte + id_str_len - i] = id_str[id_str_len - i];
 352   2                      
 353   2                  /*-------------GET IMUS MODE-------------*/
 354   2                  
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 7   

 355   2                  start_byte = start_byte + PARAM_BYTE_SLOT;
 356   2                  for (i = 0; i < (uint8)N_IMU_Connected; i++){
 357   3                      sprintf(imu_table_str, "%u - IMU %d configuration:", first_imu_parameter + i, (int) IMU_co
             -nnected[i]);
 358   3                      imu_table_str_len = strlen(imu_table_str);
 359   3                  
 360   3                      packet_data[(uint16)(2 + start_byte + PARAM_BYTE_SLOT*i)] = TYPE_UINT8;
 361   3                      packet_data[(uint16)(3 + start_byte + PARAM_BYTE_SLOT*i)] = 5;
 362   3                      
 363   3                      packet_data[(uint16)(4 + start_byte + PARAM_BYTE_SLOT*i)] = (uint8)(c_mem.IMU_conf[IMU_con
             -nected[i]][0]);
 364   3                      packet_data[(uint16)(5 + start_byte + PARAM_BYTE_SLOT*i)] = (uint8)(c_mem.IMU_conf[IMU_con
             -nected[i]][1]);
 365   3                      packet_data[(uint16)(6 + start_byte + PARAM_BYTE_SLOT*i)] = (uint8)(c_mem.IMU_conf[IMU_con
             -nected[i]][2]);
 366   3                      packet_data[(uint16)(7 + start_byte + PARAM_BYTE_SLOT*i)] = (uint8)(c_mem.IMU_conf[IMU_con
             -nected[i]][3]);
 367   3                      packet_data[(uint16)(8 + start_byte + PARAM_BYTE_SLOT*i)] = (uint8)(c_mem.IMU_conf[IMU_con
             -nected[i]][4]);
 368   3      
 369   3                      for(j = imu_table_str_len; j != 0; j--)
 370   3                          packet_data[(uint16)(9 + start_byte + PARAM_BYTE_SLOT*i + imu_table_str_len - j)] = im
             -u_table_str[imu_table_str_len - j];
 371   3                  }  
 372   2                
 373   2      
 374   2                  /*-----------------SPI DELAY-----------------*/
 375   2                  
 376   2                  start_byte = start_byte + (uint16)(PARAM_BYTE_SLOT*N_IMU_Connected) ;
 377   2                  sprintf(spi_read_delay_str, "%u - SPI read delay:", first_imu_parameter+N_IMU_Connected);
 378   2                  packet_data[2+start_byte] = TYPE_FLAG;
 379   2                  packet_data[3+start_byte] = 1;
 380   2                  packet_data[4+start_byte] = c_mem.SPI_read_delay;
 381   2                  switch(c_mem.SPI_read_delay) {
 382   3                      case 0: 
 383   3                          strcat(spi_read_delay_str, " None"); 
 384   3                          spi_read_delay_str_len = 26;
 385   3                          break;
 386   3                      case 1: 
 387   3                          strcat(spi_read_delay_str, " Low"); 
 388   3                          spi_read_delay_str_len = 25;
 389   3                          break;
 390   3                      case 2: 
 391   3                          strcat(spi_read_delay_str, " High");
 392   3                          spi_read_delay_str_len = 26;
 393   3                          break;
 394   3                      default:
 395   3                          break;
 396   3                  }            
 397   2                  for(i = spi_read_delay_str_len; i != 0; i--)
 398   2                      packet_data[5+start_byte + spi_read_delay_str_len - i] = spi_read_delay_str[spi_read_delay
             -_str_len - i];
 399   2                  //The following byte indicates the number of menus at the end of the packet to send
 400   2                  packet_data[5+start_byte + spi_read_delay_str_len] = 1;
 401   2                        
 402   2                  
 403   2                  /*------------PARAMETERS MENU-----------*/
 404   2                  start_byte = start_byte + PARAM_BYTE_SLOT;
 405   2                  for(i = spi_delay_menu_len; i!= 0; i--)
 406   2                      packet_data[(uint16)(2 + start_byte) + spi_delay_menu_len - i] = spi_delay_menu[spi_delay_
             -menu_len - i];
 407   2      
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 8   

 408   2                  packet_data[packet_length - 1] = LCRChecksum(packet_data,packet_length - 1);
 409   2                  commWrite(packet_data, packet_length);
 410   2                  UART_RS485_ClearTxBuffer();
 411   2              break;
 412   2      
 413   2      //=========================================================     other_params
 414   2              default: 
 415   2                  
 416   2                  if (index < first_imu_parameter-1)
 417   2                      break;
 418   2                  
 419   2                  if (index == first_imu_parameter+N_IMU_Connected) {
 420   3                      g_mem.SPI_read_delay = g_rx.buffer[3];  //SPI read delay - uint8
 421   3                      break;
 422   3                  }
 423   2                  
 424   2                  if (index == first_imu_parameter-1) {
 425   3                      g_mem.id = g_rx.buffer[3];          //ID - uint8
 426   3                  }
 427   2                  else {
 428   3                  
 429   3                      //Set Imu table (index > = first_imu_parameter)
 430   3                      g_mem.IMU_conf[IMU_connected[index-first_imu_parameter]][0] = g_rx.buffer[3];
 431   3                      g_mem.IMU_conf[IMU_connected[index-first_imu_parameter]][1] = g_rx.buffer[4];
 432   3                      g_mem.IMU_conf[IMU_connected[index-first_imu_parameter]][2] = g_rx.buffer[5];
 433   3                      g_mem.IMU_conf[IMU_connected[index-first_imu_parameter]][3] = g_rx.buffer[6];
 434   3                      g_mem.IMU_conf[IMU_connected[index-first_imu_parameter]][4] = g_rx.buffer[7];
 435   3                      
 436   3                      // Recompute IMU packets dimension
 437   3                      imus_data_size = 1; //header    
 438   3                      for (i = 0; i < N_IMU_Connected; i++)
 439   3                      {
 440   4                          single_imu_size[IMU_connected[i]] = 1 + 6*g_mem.IMU_conf[IMU_connected[i]][0] + 6*g_me
             -m.IMU_conf[IMU_connected[i]][1] + 6*g_mem.IMU_conf[IMU_connected[i]][2] + 16*g_mem.IMU_conf[IMU_connected[i]][3] + 2*g_m
             -em.IMU_conf[IMU_connected[i]][4]+ 1;
 441   4                          imus_data_size = imus_data_size + single_imu_size[IMU_connected[i]];
 442   4                      }
 443   3                      imus_data_size = imus_data_size + 1;    //checksum
 444   3                  
 445   3                  }
 446   2                  
 447   2              break;
 448   2          }
 449   1      }
 450          
 451          
 452          //==============================================================================
 453          //                                                           PREPARE DEVICE INFO
 454          //==============================================================================
 455          
 456          void infoPrepare(unsigned char *info_string)
 457          {
 458   1          int i;
 459   1          unsigned char str[100];
 460   1          if(c_mem.id != 250){                //To avoid dummy board ping
 461   2              strcpy(info_string, "");
 462   2              strcat(info_string, "\r\n");
 463   2              strcat(info_string, "Firmware version: ");
 464   2      #ifdef SOMA
                      strcat(info_string, SoMa);
              #else        
 467   2              strcat(info_string, VERSION);
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 9   

 468   2      #endif        
 469   2              strcat(info_string, "\r\n\r\n");
 470   2      
 471   2              strcat(info_string, "DEVICE INFO\r\n");
 472   2              sprintf(str, "ID: %d\r\n", (int) c_mem.id);
 473   2              strcat(info_string, str);
 474   2      
 475   2      #ifdef SOMA
                      strcat(info_string, "Low pass filter frequency for accelerometers: 184 Hz\r\n");
              #else
 478   2              strcat(info_string, "Low pass filter frequency for accelerometers: 10 Hz\r\n");
 479   2      #endif
 480   2      
 481   2              sprintf(str, "IMU Connected: %d\r\n", (int) N_IMU_Connected);
 482   2              strcat(info_string, str);
 483   2              
 484   2              strcat(info_string, "\r\n");
 485   2              
 486   2              strcat(info_string, "IMUs CONFIGURATION\r\n");
 487   2              for (i=0; i<N_IMU_Connected; i++){
 488   3                  sprintf(str, "Imu %d \r\n\tID: %d\r\n", i, (int) IMU_connected[i]);
 489   3                  strcat(info_string, str);
 490   3                  
 491   3                  sprintf(str, "\tAccelerometers: ");
 492   3                  if ((c_mem.IMU_conf[IMU_connected[i]][0]))
 493   3                      strcat(str, "YES\r\n");
 494   3                  else
 495   3                      strcat(str, "NO\r\n"); 
 496   3                  strcat(str, "\tGyroscopes: ");
 497   3                  if ((c_mem.IMU_conf[IMU_connected[i]][1]))
 498   3                      strcat(str, "YES\r\n");
 499   3                  else
 500   3                      strcat(str, "NO\r\n"); 
 501   3                  strcat(str, "\tMagnetometers: ");
 502   3                  if ((c_mem.IMU_conf[IMU_connected[i]][2]))
 503   3                      strcat(str, "YES\r\n");
 504   3                  else
 505   3                      strcat(str, "NO\r\n");
 506   3                  strcat(str, "\tQuaternion: ");                
 507   3                  if ((c_mem.IMU_conf[IMU_connected[i]][3]))
 508   3                      strcat(str, "YES\r\n");
 509   3                  else
 510   3                      strcat(str, "NO\r\n");
 511   3                  strcat(str, "\tTemperature: ");
 512   3                  if ((c_mem.IMU_conf[IMU_connected[i]][4]))
 513   3                      strcat(str, "YES\r\n");
 514   3                  else
 515   3                      strcat(str, "NO\r\n");
 516   3                       
 517   3                  strcat(info_string, str);
 518   3              }       
 519   2              
 520   2              strcat(info_string, "\r\n");
 521   2              
 522   2              sprintf(str, "Time between two reading cycles: %.3f ms", (float)(((uint32)timer_value0 - (uint32)t
             -imer_value)/1000.0));
 523   2              strcat(info_string, str);
 524   2              strcat(info_string, "\r\n");
 525   2              strcat(info_string, "\r\n");
 526   2              
 527   2              sprintf(str, "debug: %ld", (uint32)timer_value0 - (uint32)timer_value); //5000001
 528   2              strcat(info_string, str);
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 10  

 529   2              strcat(info_string, "\r\n");
 530   2              strcat(info_string, "\r\n");
 531   2          }
 532   1      }
 533          
 534          
 535          void infoReading(unsigned char* info_string)
 536          {
 537   1          int i;
 538   1          unsigned char str[100];
 539   1          
 540   1          strcpy(info_string, "");
 541   1          strcat(info_string, "\r\n");           
 542   1          strcat(info_string, "SENSORS INFO\r\n");
 543   1          for (i=0; i<N_IMU_Connected; i++){
 544   2              sprintf(str, "Imu %d \r\n\tID: %d\r\n", i, (int) IMU_connected[i]);
 545   2              strcat(info_string, str);
 546   2              
 547   2              if ((c_mem.IMU_conf[IMU_connected[i]][0])){
 548   3                  sprintf(str, "\tAcc: %d\t%d\t%d\r\n", (int16) g_imu[i].accel_value[0], (int16) g_imu[i].accel_
             -value[1],(int16) g_imu[i].accel_value[2]);
 549   3                  strcat(info_string, str);
 550   3              }
 551   2      
 552   2              if ((c_mem.IMU_conf[IMU_connected[i]][1])){
 553   3                  sprintf(str, "\tGyro: %d\t%d\t%d\r\n", (int16) g_imu[i].gyro_value[0], (int16) g_imu[i].gyro_v
             -alue[1],(int16) g_imu[i].gyro_value[2]);
 554   3                  strcat(info_string, str);
 555   3              }
 556   2      
 557   2              if ((c_mem.IMU_conf[IMU_connected[i]][2])){
 558   3                  sprintf(str, "\tMag: %d\t%d\t%d\r\n", (int16) g_imu[i].mag_value[0], (int16) g_imu[i].mag_valu
             -e[1],(int16) g_imu[i].mag_value[2]);
 559   3                  strcat(info_string, str);
 560   3              }
 561   2              
 562   2              if ((c_mem.IMU_conf[IMU_connected[i]][3])){
 563   3                  sprintf(str, "\tQuat: %.3f\t%.3f\t%.3f\t%.3f\r\n", (float) g_imu[i].quat_value[0], (float) g_i
             -mu[i].quat_value[1],(float) g_imu[i].quat_value[2], (float) g_imu[i].quat_value[3]);
 564   3                  strcat(info_string, str);
 565   3              }
 566   2              
 567   2              if ((c_mem.IMU_conf[IMU_connected[i]][4])){
 568   3                  sprintf(str, "\tTemperature: %d\r\n", (int16) g_imu[i].temp_value);
 569   3                  strcat(info_string, str);
 570   3              }
 571   2          }
 572   1      }
 573          //==============================================================================
 574          //                                                      WRITE FUNCTION FOR RS485
 575          //==============================================================================
 576          
 577          void commWrite(uint8 *packet_data, const uint16 packet_lenght)
 578          {
 579   1          uint16 CYDATA index;
 580   1      
 581   1          // frame - start
 582   1          UART_RS485_PutChar(':');
 583   1          UART_RS485_PutChar(':');
 584   1          
 585   1          // frame - ID
 586   1          UART_RS485_PutChar(g_mem.id);
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 11  

 587   1          
 588   1          // frame - length
 589   1          UART_RS485_PutChar((uint8)packet_lenght);
 590   1          
 591   1          // frame - packet data
 592   1          for(index = 0; index < packet_lenght; ++index)
 593   1              UART_RS485_PutChar(packet_data[index]);
 594   1          
 595   1          index = 0;
 596   1      
 597   1          while(!(UART_RS485_ReadTxStatus() & UART_RS485_TX_STS_COMPLETE) && index++ <= 1000){}
 598   1      
 599   1          RS485_CTS_Write(1);
 600   1          RS485_CTS_Write(0);
 601   1      }
 602          
 603          
 604          //==============================================================================
 605          //                                                             CHECKSUM FUNCTION
 606          //==============================================================================
 607          
 608          // Performs a XOR byte by byte on the entire vector
 609          
 610          uint8 LCRChecksum(uint8 *data_array, uint8 data_length) {
 611   1          
 612   1          uint8 CYDATA i;
 613   1          uint8 CYDATA checksum = 0x00;
 614   1          
 615   1          for(i = 0; i < data_length; ++i)
 616   1             checksum ^= data_array[i];
 617   1        
 618   1          return checksum;
 619   1      }
 620          
 621          //==============================================================================
 622          //                                                       ACKNOWLEDGMENT FUNCTION
 623          //==============================================================================
 624          
 625          void sendAcknowledgment(const uint8 value) {
 626   1          int packet_lenght = 2;
 627   1          uint8 packet_data[2];
 628   1      
 629   1          packet_data[0] = value;
 630   1          packet_data[1] = value;
 631   1      
 632   1          commWrite(packet_data, packet_lenght);
 633   1      }
 634          
 635          //==============================================================================
 636          //                                                                  STORE MEMORY
 637          //==============================================================================
 638          
 639          /**
 640          * This function stores current memory settings on the eeprom with the specified
 641          * displacement
 642          **/
 643          
 644          uint8 memStore(int displacement)
 645          {
 646   1          int i;  // iterator
 647   1          uint8 writeStatus;
 648   1          int pages;
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 12  

 649   1          uint8 ret_val = 1;
 650   1      
 651   1          // Disable Interrupt
 652   1          ISR_RS485_RX_Disable();
 653   1      
 654   1      
 655   1          // Retrieve temperature for better writing performance
 656   1          CySetTemp();
 657   1      
 658   1          memcpy( &c_mem, &g_mem, sizeof(g_mem) );
 659   1      
 660   1          pages = sizeof(g_mem) / 16 + (sizeof(g_mem) % 16 > 0);
 661   1      
 662   1          for(i = 0; i < pages; ++i) {
 663   2              writeStatus = EEPROM_Write(&g_mem.flag + 16 * i, i + displacement);
 664   2              if(writeStatus != CYRET_SUCCESS) {
 665   3                  ret_val = 0;
 666   3                  break;
 667   3              }
 668   2          }
 669   1      
 670   1          memcpy( &g_mem, &c_mem, sizeof(g_mem) );
 671   1      
 672   1          // Re-Enable Interrupt
 673   1          ISR_RS485_RX_Enable();
 674   1      
 675   1          return ret_val;
 676   1      }
 677          
 678          
 679          //==============================================================================
 680          //                                                                 RECALL MEMORY
 681          //==============================================================================
 682          
 683          /**
 684          * This function loads user settings from the eeprom.
 685          **/
 686          
 687          void memRecall()
 688          {
 689   1          uint16 i;
 690   1      
 691   1          for (i = 0; i < sizeof(g_mem); i++) {
 692   2              ((reg8 *) &g_mem.flag)[i] = EEPROM_ADDR[i];
 693   2          }
 694   1      
 695   1          //check for initialization
 696   1          if (g_mem.flag == FALSE) {
 697   2              memRestore();
 698   2          } else {
 699   2              memcpy( &c_mem, &g_mem, sizeof(g_mem) );
 700   2          }
 701   1      }
 702          
 703          
 704          //==============================================================================
 705          //                                                                RESTORE MEMORY
 706          //==============================================================================
 707          
 708          /**
 709          * This function loads default settings from the eeprom.
 710          **/
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 13  

 711          
 712          uint8 memRestore() {
 713   1          uint16 i;
 714   1      
 715   1          for (i = 0; i < sizeof(g_mem); i++) {
 716   2              ((reg8 *) &g_mem.flag)[i] = EEPROM_ADDR[i + (DEFAULT_EEPROM_DISPLACEMENT * 16)];
 717   2          }
 718   1      
 719   1          //check for initialization
 720   1          if (g_mem.flag == FALSE) {
 721   2              return memInit();
 722   2          } else {
 723   2              return memStore(0);
 724   2          }
 725   1      }
 726          
 727          //==============================================================================
 728          //                                                                   MEMORY INIT
 729          //==============================================================================
 730          
 731          /**
 732          * This function initialize memory when eeprom is compromised.
 733          **/
 734          
 735          uint8 memInit()
 736          {
 737   1          uint8 i;
 738   1          //uint8 j;
 739   1          
 740   1          //initialize memory settings
 741   1          g_mem.id            = 1;
 742   1      
 743   1          
 744   1          // set the initialized flag to show EEPROM has been populated
 745   1          g_mem.flag = TRUE;
 746   1          
 747   1          // Default value
 748   1          for (i = 0; i< N_IMU_MAX; i++){
 749   2              g_mem.IMU_conf[i][0] = 1;
 750   2              g_mem.IMU_conf[i][1] = 1;
 751   2              g_mem.IMU_conf[i][2] = 0;
 752   2              g_mem.IMU_conf[i][3] = 0;
 753   2              g_mem.IMU_conf[i][4] = 0;
 754   2              //for (j=0; j< NUM_OF_DATA; j++) {
 755   2              //    g_mem.IMU_conf[i][j] = 0;
 756   2              //}
 757   2          }
 758   1          
 759   1          //write that configuration to EEPROM
 760   1          return ( memStore(0) && memStore(DEFAULT_EEPROM_DISPLACEMENT) );
 761   1      }
 762          
 763          //==============================================================================
 764          //                                                    ROUTINE INTERRUPT FUNCTION
 765          //==============================================================================
 766          /**
 767          * Bunch of functions used on request from UART communication
 768          **/
 769          
 770          void cmd_set_baudrate(){
 771   1          
 772   1          // Set BaudRate
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 14  

 773   1          c_mem.baud_rate = g_rx.buffer[1];
 774   1          
 775   1          switch(g_rx.buffer[1]){
 776   2              case 13:
 777   2                  CLOCK_UART_SetDividerValue(13);
 778   2                  break;
 779   2              default:
 780   2                  CLOCK_UART_SetDividerValue(3);
 781   2          }
 782   1      }
 783          
 784          void cmd_ping(){
 785   1      
 786   1          uint8 packet_data[2];
 787   1      
 788   1          // Header
 789   1          packet_data[0] = CMD_PING;
 790   1          
 791   1          // Load Payload
 792   1          packet_data[1] = CMD_PING;
 793   1      
 794   1          // Send Package to uart
 795   1          commWrite(packet_data, 2);
 796   1      }
 797          
 798          void cmd_store_params(){
 799   1         
 800   1          if(memStore(0))
 801   1              sendAcknowledgment(ACK_OK);
 802   1          else
 803   1              sendAcknowledgment(ACK_ERROR);
 804   1      }
 805          
 806          void cmd_get_imu_readings(){
 807   1          //Retrieve accelerometers, gyroscopes and magnetometers readings
 808   1          
 809   1          uint8 k_imu;
 810   1          uint8 c = 1;
 811   1          uint8 k = 0;
 812   1          uint8 gl_c = 1;
 813   1          
 814   1          // Packet: header + imu id(uint8) + imu flags(uint8) + crc  
 815   1          uint8 packet_data[350];
 816   1          uint8 single_packet[22];
 817   1          
 818   1          //Header package 
 819   1          packet_data[0] = CMD_GET_IMU_READINGS;
 820   1       
 821   1          for (k_imu = 0; k_imu < N_IMU_Connected; k_imu++) 
 822   1          {   
 823   2              
 824   2              single_packet[0] = (uint8) 0x3A; //':';
 825   2              if (c_mem.IMU_conf[IMU_connected[k_imu]][0]){
 826   3                  *((int16 *) &single_packet[c]) = (int16) g_imu[k_imu].accel_value[0];
 827   3                  *((int16 *) &single_packet[c+2]) = (int16) g_imu[k_imu].accel_value[1];
 828   3                  *((int16 *) &single_packet[c+4]) = (int16) g_imu[k_imu].accel_value[2];
 829   3                  c = c + 6;
 830   3              }
 831   2              if (c_mem.IMU_conf[IMU_connected[k_imu]][1]){
 832   3                  *((int16 *) &single_packet[c])   = (int16) g_imu[k_imu].gyro_value[0];
 833   3                  *((int16 *) &single_packet[c+2]) = (int16) g_imu[k_imu].gyro_value[1];
 834   3                  *((int16 *) &single_packet[c+4]) = (int16) g_imu[k_imu].gyro_value[2];
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 15  

 835   3                  c = c + 6;
 836   3              }
 837   2              if (c_mem.IMU_conf[IMU_connected[k_imu]][2]){
 838   3                  *((int16 *) &single_packet[c])   = (int16) g_imu[k_imu].mag_value[0];
 839   3                  *((int16 *) &single_packet[c+2]) = (int16) g_imu[k_imu].mag_value[1];
 840   3                  *((int16 *) &single_packet[c+4]) = (int16) g_imu[k_imu].mag_value[2];
 841   3                  c = c + 6;
 842   3              }
 843   2              if (c_mem.IMU_conf[IMU_connected[k_imu]][3]){
 844   3                  *((float *) &single_packet[c])   = (float) g_imu[k_imu].quat_value[0];
 845   3                  *((float *) &single_packet[c+4]) = (float) g_imu[k_imu].quat_value[1];
 846   3                  *((float *) &single_packet[c+8]) = (float) g_imu[k_imu].quat_value[2];
 847   3                  *((float *) &single_packet[c+12]) = (float) g_imu[k_imu].quat_value[3];
 848   3                  c = c + 16;
 849   3              }
 850   2              if (c_mem.IMU_conf[IMU_connected[k_imu]][4]){
 851   3                  *((int16 *) &single_packet[c])   = (int16) g_imu[k_imu].temp_value;
 852   3                  c = c + 2;
 853   3              }
 854   2              single_packet[single_imu_size[IMU_connected[k_imu]] - 1] = (uint8) 0x3A; //':';
 855   2              c = 1;
 856   2                     
 857   2              for(k=0; k < single_imu_size[IMU_connected[k_imu]]; k++) {
 858   3                  packet_data[gl_c + k] = (uint8) single_packet[k]; 
 859   3              }
 860   2              gl_c = gl_c + single_imu_size[IMU_connected[k_imu]];  
 861   2              
 862   2              memset(&single_packet, 0, sizeof(single_packet));     
 863   2              
 864   2          }
 865   1      
 866   1          // Calculate Checksum and send message to UART 
 867   1          packet_data[imus_data_size-1] = LCRChecksum (packet_data, imus_data_size-1);
 868   1          commWrite(packet_data, imus_data_size);
 869   1      }
 870          
 871          void cmd_get_sensors(){
 872   1          
 873   1          uint8 packet_data[6];
 874   1      
 875   1          // Header        
 876   1          packet_data[0] = CMD_GET_ADC_RAW;
 877   1          
 878   1          *((int16 *) &packet_data[1]) = (int16) sensor_value_1;
 879   1          *((int16 *) &packet_data[3]) = (int16) sensor_value_2;
 880   1      
 881   1          packet_data[5] = LCRChecksum (packet_data, 5);
 882   1      
 883   1          commWrite(packet_data, 6);
 884   1      
 885   1      }
 886          
 887          
 888          /* [] END OF FILE */
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 16  

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION commProcess (BEGIN)
                                           ; SOURCE LINE # 67
                                           ; SOURCE LINE # 71
0000 900000      E     MOV     DPTR,#g_rx
0003 E0                MOVX    A,@DPTR
0004 FF                MOV     R7,A
0005 8F00        R     MOV     rx_cmd,R7
                                           ; SOURCE LINE # 75
0007 7B01              MOV     R3,#01H
0009 7A00        E     MOV     R2,#HIGH g_rx
000B 7900        E     MOV     R1,#LOW g_rx
000D 900000      E     MOV     DPTR,#g_rx+080H
0010 E0                MOVX    A,@DPTR
0011 FE                MOV     R6,A
0012 A3                INC     DPTR
0013 E0                MOVX    A,@DPTR
0014 FF                MOV     R7,A
0015 EF                MOV     A,R7
0016 14                DEC     A
0017 FD                MOV     R5,A
0018 120000      R     LCALL   _LCRChecksum
001B 900000      E     MOV     DPTR,#g_rx+080H
001E E0                MOVX    A,@DPTR
001F FC                MOV     R4,A
0020 A3                INC     DPTR
0021 E0                MOVX    A,@DPTR
0022 FD                MOV     R5,A
0023 7400        E     MOV     A,#LOW g_rx+0FFFFH
0025 2D                ADD     A,R5
0026 F582              MOV     DPL,A
0028 7400        E     MOV     A,#HIGH g_rx+0FFFFH
002A 3C                ADDC    A,R4
002B F583              MOV     DPH,A
002D E0                MOVX    A,@DPTR
002E FE                MOV     R6,A
002F EF                MOV     A,R7
0030 B50603            CJNE    A,AR6,?C0002
0033 D3                SETB    C
0034 8001              SJMP    ?C0003
0036         ?C0002:
0036 C3                CLR     C
0037         ?C0003:
0037 4006              JC      ?C0001
                                           ; SOURCE LINE # 77
0039 900000      E     MOV     DPTR,#g_rx+084H
003C E4                CLR     A
003D F0                MOVX    @DPTR,A
003E 22                RET     
                                           ; SOURCE LINE # 79
003F         ?C0001:
                                           ; SOURCE LINE # 82
003F E500        R     MOV     A,rx_cmd
0041 120000      E     LCALL   ?C?CCASE
0044 0000        R     DW      ?C0009
0046 00                DB      00H
0047 0000        R     DW      ?C0010
0049 03                DB      03H
004A 0000        R     DW      ?C0011
004C 04                DB      04H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 17  

004D 0000        R     DW      ?C0014
004F 05                DB      05H
0050 0000        R     DW      ?C0007
0052 06                DB      06H
0053 0000        R     DW      ?C0020
0055 09                DB      09H
0056 0000        R     DW      ?C0017
0058 0A                DB      0AH
0059 0000        R     DW      ?C0008
005B 0C                DB      0CH
005C 0000        R     DW      ?C0023
005E 88                DB      088H
005F 0000        R     DW      ?C0006
0061 8B                DB      08BH
0062 0000        R     DW      ?C0021
0064 A1                DB      0A1H
0065 0000        R     DW      ?C0022
0067 A2                DB      0A2H
0068 0000              DW      00H
006A 0000        R     DW      ?C0004
                                           ; SOURCE LINE # 86
006C         ?C0006:
                                           ; SOURCE LINE # 87
006C 120000      R     LCALL   cmd_set_baudrate
                                           ; SOURCE LINE # 88
006F 22                RET     
                                           ; SOURCE LINE # 92
0070         ?C0007:
                                           ; SOURCE LINE # 93
0070 900000      E     MOV     DPTR,#g_rx+01H
0073 E0                MOVX    A,@DPTR
0074 FE                MOV     R6,A
0075 A3                INC     DPTR
0076 E0                MOVX    A,@DPTR
0077 FF                MOV     R7,A
0078 120000      R     LCALL   _infoGet
                                           ; SOURCE LINE # 94
007B 22                RET     
                                           ; SOURCE LINE # 98
007C         ?C0008:
                                           ; SOURCE LINE # 99
007C 900000      E     MOV     DPTR,#g_rx+01H
007F E0                MOVX    A,@DPTR
0080 FE                MOV     R6,A
0081 A3                INC     DPTR
0082 E0                MOVX    A,@DPTR
0083 FF                MOV     R7,A
0084 120000      R     LCALL   _get_param_list
                                           ; SOURCE LINE # 100
0087 22                RET     
                                           ; SOURCE LINE # 104
0088         ?C0009:
                                           ; SOURCE LINE # 105
0088 120000      R     LCALL   cmd_ping
                                           ; SOURCE LINE # 106
008B 22                RET     
                                           ; SOURCE LINE # 110
008C         ?C0010:
                                           ; SOURCE LINE # 111
008C 120000      R     LCALL   cmd_store_params
                                           ; SOURCE LINE # 112
008F 22                RET     
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 18  

                                           ; SOURCE LINE # 116
0090         ?C0011:
                                           ; SOURCE LINE # 117
0090 7F32              MOV     R7,#032H
0092 7E00              MOV     R6,#00H
0094 120000      R     LCALL   _memStore
0097 EF                MOV     A,R7
0098 6006              JZ      ?C0012
                                           ; SOURCE LINE # 118
009A 7F01              MOV     R7,#01H
009C 120000      R     LCALL   _sendAcknowledgment
009F 22                RET     
00A0         ?C0012:
                                           ; SOURCE LINE # 120
00A0 7F00              MOV     R7,#00H
00A2 120000      R     LCALL   _sendAcknowledgment
                                           ; SOURCE LINE # 121
00A5 22                RET     
                                           ; SOURCE LINE # 125
00A6         ?C0014:
                                           ; SOURCE LINE # 126
00A6 120000      R     LCALL   memRestore
00A9 EF                MOV     A,R7
00AA 6006              JZ      ?C0015
                                           ; SOURCE LINE # 127
00AC 7F01              MOV     R7,#01H
00AE 120000      R     LCALL   _sendAcknowledgment
00B1 22                RET     
00B2         ?C0015:
                                           ; SOURCE LINE # 129
00B2 7F00              MOV     R7,#00H
00B4 120000      R     LCALL   _sendAcknowledgment
                                           ; SOURCE LINE # 130
00B7 22                RET     
                                           ; SOURCE LINE # 134
00B8         ?C0017:
                                           ; SOURCE LINE # 135
00B8 120000      R     LCALL   memInit
00BB EF                MOV     A,R7
00BC 6006              JZ      ?C0018
                                           ; SOURCE LINE # 136
00BE 7F01              MOV     R7,#01H
00C0 120000      R     LCALL   _sendAcknowledgment
00C3 22                RET     
00C4         ?C0018:
                                           ; SOURCE LINE # 138
00C4 7F00              MOV     R7,#00H
00C6 120000      R     LCALL   _sendAcknowledgment
                                           ; SOURCE LINE # 139
00C9 22                RET     
                                           ; SOURCE LINE # 143
00CA         ?C0020:
                                           ; SOURCE LINE # 145
00CA 7F01              MOV     R7,#01H
00CC 120000      R     LCALL   _sendAcknowledgment
                                           ; SOURCE LINE # 146
00CF 7FE8              MOV     R7,#0E8H
00D1 7E03              MOV     R6,#03H
00D3 7D00              MOV     R5,#00H
00D5 7C00              MOV     R4,#00H
00D7 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 147
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 19  

00DA 7F00              MOV     R7,#00H
00DC 120000      E     LCALL   _FTDI_ENABLE_REG_Write
                                           ; SOURCE LINE # 148
00DF 7FE8              MOV     R7,#0E8H
00E1 7E03              MOV     R6,#03H
00E3 7D00              MOV     R5,#00H
00E5 7C00              MOV     R4,#00H
00E7 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 149
00EA 120000      E     LCALL   Bootloadable_Load
                                           ; SOURCE LINE # 150
00ED 22                RET     
                                           ; SOURCE LINE # 154
00EE         ?C0021:
                                           ; SOURCE LINE # 155
00EE 120000      R     LCALL   cmd_get_imu_readings
                                           ; SOURCE LINE # 156
00F1 22                RET     
                                           ; SOURCE LINE # 160
00F2         ?C0022:
                                           ; SOURCE LINE # 161
00F2 900000      E     MOV     DPTR,#g_rx+01H
00F5 E0                MOVX    A,@DPTR
00F6 FE                MOV     R6,A
00F7 A3                INC     DPTR
00F8 E0                MOVX    A,@DPTR
00F9 FF                MOV     R7,A
00FA 120000      R     LCALL   _get_param_list
                                           ; SOURCE LINE # 162
00FD 22                RET     
                                           ; SOURCE LINE # 166
00FE         ?C0023:
                                           ; SOURCE LINE # 167
00FE 120000      R     LCALL   cmd_get_sensors
                                           ; SOURCE LINE # 168
                                           ; SOURCE LINE # 171
                                           ; SOURCE LINE # 172
                                           ; SOURCE LINE # 174
                                           ; SOURCE LINE # 175
0101         ?C0004:
0101 22                RET     
             ; FUNCTION commProcess (END)

             ; FUNCTION infoSend (BEGIN)
                                           ; SOURCE LINE # 182
                                           ; SOURCE LINE # 184
0000 7B01              MOV     R3,#01H
0002 7A00        R     MOV     R2,#HIGH packet_string
0004 7900        R     MOV     R1,#LOW packet_string
0006 120000      R     LCALL   _infoPrepare
                                           ; SOURCE LINE # 185
0009 7B01              MOV     R3,#01H
000B 7A00        R     MOV     R2,#HIGH packet_string
000D 7900        R     MOV     R1,#LOW packet_string
000F 120000      E     LCALL   _UART_RS485_PutString
                                           ; SOURCE LINE # 186
0012 22                RET     
             ; FUNCTION infoSend (END)

             ; FUNCTION _infoGet (BEGIN)
                                           ; SOURCE LINE # 193
0000 900000      R     MOV     DPTR,#info_type
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 20  

0003 EE                MOV     A,R6
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EF                MOV     A,R7
0007 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 198
0008 900000      R     MOV     DPTR,#info_type
000B E0                MOVX    A,@DPTR
000C FE                MOV     R6,A
000D A3                INC     DPTR
000E E0                MOVX    A,@DPTR
000F FF                MOV     R7,A
0010 EF                MOV     A,R7
0011 8EF0              MOV     B,R6
0013 120000      E     LCALL   ?C?ICASE
0016 0000        R     DW      ?C0027
0018 0000              DW      00H
001A 0000        R     DW      ?C0028
001C 0001              DW      01H
001E 0000              DW      00H
0020 0000        R     DW      ?C0030
                                           ; SOURCE LINE # 199
0022         ?C0027:
                                           ; SOURCE LINE # 200
0022 7B01              MOV     R3,#01H
0024 7A00        R     MOV     R2,#HIGH packet_string
0026 7900        R     MOV     R1,#LOW packet_string
0028 120000      R     LCALL   _infoPrepare
                                           ; SOURCE LINE # 201
002B 7B01              MOV     R3,#01H
002D 7A00        R     MOV     R2,#HIGH packet_string
002F 7900        R     MOV     R1,#LOW packet_string
0031 120000      E     LCALL   _UART_RS485_PutString
                                           ; SOURCE LINE # 202
0034 22                RET     
                                           ; SOURCE LINE # 203
0035         ?C0028:
                                           ; SOURCE LINE # 204
0035 7B01              MOV     R3,#01H
0037 7A00        R     MOV     R2,#HIGH packet_string
0039 7900        R     MOV     R1,#LOW packet_string
003B 120000      R     LCALL   _infoReading
                                           ; SOURCE LINE # 205
003E 7B01              MOV     R3,#01H
0040 7A00        R     MOV     R2,#HIGH packet_string
0042 7900        R     MOV     R1,#LOW packet_string
0044 120000      E     LCALL   _UART_RS485_PutString
                                           ; SOURCE LINE # 206
                                           ; SOURCE LINE # 207
                                           ; SOURCE LINE # 208
                                           ; SOURCE LINE # 209
                                           ; SOURCE LINE # 210
0047         ?C0030:
0047 22                RET     
             ; FUNCTION _infoGet (END)

             ; FUNCTION _get_param_list (BEGIN)
                                           ; SOURCE LINE # 216
0000 900000      R     MOV     DPTR,#index
0003 EE                MOV     A,R6
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 21  

0006 EF                MOV     A,R7
0007 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 217
                                           ; SOURCE LINE # 225
0008 7BFF              MOV     R3,#0FFH
000A 7A00        R     MOV     R2,#HIGH _?ix1000
000C 7900        R     MOV     R1,#LOW _?ix1000
000E C003              PUSH    AR3
0010 C002              PUSH    AR2
0012 C001              PUSH    AR1
0014 7B01              MOV     R3,#01H
0016 7A00        R     MOV     R2,#HIGH packet_data
0018 7900        R     MOV     R1,#LOW packet_data
001A A801              MOV     R0,AR1
001C AC02              MOV     R4,AR2
001E AD03              MOV     R5,AR3
0020 D001              POP     AR1
0022 D002              POP     AR2
0024 D003              POP     AR3
0026 7E07              MOV     R6,#07H
0028 7F9F              MOV     R7,#09FH
002A 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 226
002D 900000      R     MOV     DPTR,#num_imus_id_params
0030 E4                CLR     A
0031 F0                MOVX    @DPTR,A
0032 A3                INC     DPTR
0033 7406              MOV     A,#06H
0035 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 227
0036 900000      R     MOV     DPTR,#num_mag_cal_params
0039 E4                CLR     A
003A F0                MOVX    @DPTR,A
003B A3                INC     DPTR
003C E4                CLR     A
003D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 228
003E 900000      R     MOV     DPTR,#first_imu_parameter
0041 E4                CLR     A
0042 F0                MOVX    @DPTR,A
0043 A3                INC     DPTR
0044 7402              MOV     A,#02H
0046 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 229
0047 900000      R     MOV     DPTR,#num_mag_cal_params
004A E0                MOVX    A,@DPTR
004B FE                MOV     R6,A
004C A3                INC     DPTR
004D E0                MOVX    A,@DPTR
004E FF                MOV     R7,A
004F 7C00              MOV     R4,#00H
0051 7D32              MOV     R5,#032H
0053 120000      E     LCALL   ?C?IMUL
0056 AA06              MOV     R2,AR6
0058 AB07              MOV     R3,AR7
005A 900000      R     MOV     DPTR,#num_imus_id_params
005D E0                MOVX    A,@DPTR
005E FE                MOV     R6,A
005F A3                INC     DPTR
0060 E0                MOVX    A,@DPTR
0061 FF                MOV     R7,A
0062 7C00              MOV     R4,#00H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 22  

0064 7D32              MOV     R5,#032H
0066 120000      E     LCALL   ?C?IMUL
0069 EF                MOV     A,R7
006A 2B                ADD     A,R3
006B FD                MOV     R5,A
006C EE                MOV     A,R6
006D 3A                ADDC    A,R2
006E FC                MOV     R4,A
006F 900000      E     MOV     DPTR,#N_IMU_Connected
0072 E0                MOVX    A,@DPTR
0073 FF                MOV     R7,A
0074 7E32              MOV     R6,#032H
0076 EF                MOV     A,R7
0077 8EF0              MOV     B,R6
0079 A4                MUL     AB
007A FF                MOV     R7,A
007B AEF0              MOV     R6,B
007D ED                MOV     A,R5
007E 2F                ADD     A,R7
007F FF                MOV     R7,A
0080 EC                MOV     A,R4
0081 3E                ADDC    A,R6
0082 FE                MOV     R6,A
0083 EF                MOV     A,R7
0084 245F              ADD     A,#05FH
0086 FF                MOV     R7,A
0087 EE                MOV     A,R6
0088 3401              ADDC    A,#01H
008A FE                MOV     R6,A
008B 900000      R     MOV     DPTR,#packet_length
008E EE                MOV     A,R6
008F F0                MOVX    @DPTR,A
0090 A3                INC     DPTR
0091 EF                MOV     A,R7
0092 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 238
0093 900000      R     MOV     DPTR,#start_byte
0096 E4                CLR     A
0097 F0                MOVX    @DPTR,A
0098 A3                INC     DPTR
0099 E4                CLR     A
009A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 241
009B 7BFF              MOV     R3,#0FFH
009D 7A00        R     MOV     R2,#HIGH _?ix1001
009F 7900        R     MOV     R1,#LOW _?ix1001
00A1 C003              PUSH    AR3
00A3 C002              PUSH    AR2
00A5 C001              PUSH    AR1
00A7 7B01              MOV     R3,#01H
00A9 7A00        R     MOV     R2,#HIGH n_imu_str
00AB 7900        R     MOV     R1,#LOW n_imu_str
00AD A801              MOV     R0,AR1
00AF AC02              MOV     R4,AR2
00B1 AD03              MOV     R5,AR3
00B3 D001              POP     AR1
00B5 D002              POP     AR2
00B7 D003              POP     AR3
00B9 7E00              MOV     R6,#00H
00BB 7F1A              MOV     R7,#01AH
00BD 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 242
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 23  

00C0 7BFF              MOV     R3,#0FFH
00C2 7A00        R     MOV     R2,#HIGH _?ix1002
00C4 7900        R     MOV     R1,#LOW _?ix1002
00C6 C003              PUSH    AR3
00C8 C002              PUSH    AR2
00CA C001              PUSH    AR1
00CC 7B01              MOV     R3,#01H
00CE 7A00        R     MOV     R2,#HIGH ids_str
00D0 7900        R     MOV     R1,#LOW ids_str
00D2 A801              MOV     R0,AR1
00D4 AC02              MOV     R4,AR2
00D6 AD03              MOV     R5,AR3
00D8 D001              POP     AR1
00DA D002              POP     AR2
00DC D003              POP     AR3
00DE 7E00              MOV     R6,#00H
00E0 7F0B              MOV     R7,#0BH
00E2 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 243
00E5 7BFF              MOV     R3,#0FFH
00E7 7A00        R     MOV     R2,#HIGH _?ix1003
00E9 7900        R     MOV     R1,#LOW _?ix1003
00EB C003              PUSH    AR3
00ED C002              PUSH    AR2
00EF C001              PUSH    AR1
00F1 7B01              MOV     R3,#01H
00F3 7A00        R     MOV     R2,#HIGH mag_param_str
00F5 7900        R     MOV     R1,#LOW mag_param_str
00F7 A801              MOV     R0,AR1
00F9 AC02              MOV     R4,AR2
00FB AD03              MOV     R5,AR3
00FD D001              POP     AR1
00FF D002              POP     AR2
0101 D003              POP     AR3
0103 7E00              MOV     R6,#00H
0105 7F14              MOV     R7,#014H
0107 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 244
010A 7BFF              MOV     R3,#0FFH
010C 7A00        R     MOV     R2,#HIGH _?ix1004
010E 7900        R     MOV     R1,#LOW _?ix1004
0110 C003              PUSH    AR3
0112 C002              PUSH    AR2
0114 C001              PUSH    AR1
0116 7B01              MOV     R3,#01H
0118 7A00        R     MOV     R2,#HIGH id_str
011A 7900        R     MOV     R1,#LOW id_str
011C A801              MOV     R0,AR1
011E AC02              MOV     R4,AR2
0120 AD03              MOV     R5,AR3
0122 D001              POP     AR1
0124 D002              POP     AR2
0126 D003              POP     AR3
0128 7E00              MOV     R6,#00H
012A 7F10              MOV     R7,#010H
012C 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 245
012F 7BFF              MOV     R3,#0FFH
0131 7A00        R     MOV     R2,#HIGH _?ix1005
0133 7900        R     MOV     R1,#LOW _?ix1005
0135 C003              PUSH    AR3
0137 C002              PUSH    AR2
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 24  

0139 C001              PUSH    AR1
013B 7B01              MOV     R3,#01H
013D 7A00        R     MOV     R2,#HIGH imu_table_str
013F 7900        R     MOV     R1,#LOW imu_table_str
0141 A801              MOV     R0,AR1
0143 AC02              MOV     R4,AR2
0145 AD03              MOV     R5,AR3
0147 D001              POP     AR1
0149 D002              POP     AR2
014B D003              POP     AR3
014D 7E00              MOV     R6,#00H
014F 7F2A              MOV     R7,#02AH
0151 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 246
0154 7BFF              MOV     R3,#0FFH
0156 7A00        R     MOV     R2,#HIGH _?ix1006
0158 7900        R     MOV     R1,#LOW _?ix1006
015A C003              PUSH    AR3
015C C002              PUSH    AR2
015E C001              PUSH    AR1
0160 7B01              MOV     R3,#01H
0162 7A00        R     MOV     R2,#HIGH spi_read_delay_str
0164 7900        R     MOV     R1,#LOW spi_read_delay_str
0166 A801              MOV     R0,AR1
0168 AC02              MOV     R4,AR2
016A AD03              MOV     R5,AR3
016C D001              POP     AR1
016E D002              POP     AR2
0170 D003              POP     AR3
0172 7E00              MOV     R6,#00H
0174 7F1A              MOV     R7,#01AH
0176 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 249
0179 7B01              MOV     R3,#01H
017B 7A00        R     MOV     R2,#HIGH id_str
017D 7900        R     MOV     R1,#LOW id_str
017F 120000      E     LCALL   _strlen
0182 8F00        R     MOV     id_str_len,R7
                                           ; SOURCE LINE # 250
0184 7B01              MOV     R3,#01H
0186 7A00        R     MOV     R2,#HIGH n_imu_str
0188 7900        R     MOV     R1,#LOW n_imu_str
018A 120000      E     LCALL   _strlen
018D 8F00        R     MOV     n_imu_str_len,R7
                                           ; SOURCE LINE # 251
018F 7B01              MOV     R3,#01H
0191 7A00        R     MOV     R2,#HIGH ids_str
0193 7900        R     MOV     R1,#LOW ids_str
0195 120000      E     LCALL   _strlen
0198 8F00        R     MOV     ids_str_len,R7
                                           ; SOURCE LINE # 252
019A 7B01              MOV     R3,#01H
019C 7A00        R     MOV     R2,#HIGH mag_param_str
019E 7900        R     MOV     R1,#LOW mag_param_str
01A0 120000      E     LCALL   _strlen
01A3 8F00        R     MOV     mag_param_str_len,R7
                                           ; SOURCE LINE # 253
01A5 7B01              MOV     R3,#01H
01A7 7A00        R     MOV     R2,#HIGH imu_table_str
01A9 7900        R     MOV     R1,#LOW imu_table_str
01AB 120000      E     LCALL   _strlen
01AE 8F00        R     MOV     imu_table_str_len,R7
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 25  

                                           ; SOURCE LINE # 254
01B0 7B01              MOV     R3,#01H
01B2 7A00        R     MOV     R2,#HIGH spi_read_delay_str
01B4 7900        R     MOV     R1,#LOW spi_read_delay_str
01B6 120000      E     LCALL   _strlen
01B9 8F00        R     MOV     spi_read_delay_str_len,R7
                                           ; SOURCE LINE # 256
01BB 7BFF              MOV     R3,#0FFH
01BD 7A00        R     MOV     R2,#HIGH _?ix1007
01BF 7900        R     MOV     R1,#LOW _?ix1007
01C1 C003              PUSH    AR3
01C3 C002              PUSH    AR2
01C5 C001              PUSH    AR1
01C7 7B01              MOV     R3,#01H
01C9 7A00        R     MOV     R2,#HIGH spi_delay_menu
01CB 7900        R     MOV     R1,#LOW spi_delay_menu
01CD A801              MOV     R0,AR1
01CF AC02              MOV     R4,AR2
01D1 AD03              MOV     R5,AR3
01D3 D001              POP     AR1
01D5 D002              POP     AR2
01D7 D003              POP     AR3
01D9 7E00              MOV     R6,#00H
01DB 7F76              MOV     R7,#076H
01DD 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 259
01E0 7B01              MOV     R3,#01H
01E2 7A00        R     MOV     R2,#HIGH spi_delay_menu
01E4 7900        R     MOV     R1,#LOW spi_delay_menu
01E6 C003              PUSH    AR3
01E8 C002              PUSH    AR2
01EA C001              PUSH    AR1
01EC 7BFF              MOV     R3,#0FFH
01EE 7A00        R     MOV     R2,#HIGH ?SC_0
01F0 7900        R     MOV     R1,#LOW ?SC_0
01F2 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
01F5 120000      E     LCALL   ?C?PSTXDATA
01F8 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
01FB E4                CLR     A
01FC F0                MOVX    @DPTR,A
01FD A3                INC     DPTR
01FE 740A              MOV     A,#0AH
0200 F0                MOVX    @DPTR,A
0201 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
0204 E4                CLR     A
0205 F0                MOVX    @DPTR,A
0206 A3                INC     DPTR
0207 7464              MOV     A,#064H
0209 F0                MOVX    @DPTR,A
020A D001              POP     AR1
020C D002              POP     AR2
020E D003              POP     AR3
0210 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 260
0213 7B01              MOV     R3,#01H
0215 7A00        R     MOV     R2,#HIGH spi_delay_menu
0217 7900        R     MOV     R1,#LOW spi_delay_menu
0219 120000      E     LCALL   _strlen
021C 8F00        R     MOV     spi_delay_menu_len,R7
                                           ; SOURCE LINE # 264
021E 900000      E     MOV     DPTR,#N_IMU_Connected
0221 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 26  

0222 FF                MOV     R7,A
0223 EF                MOV     A,R7
0224 C3                CLR     C
0225 13                RRC     A
0226 FF                MOV     R7,A
0227 7E00              MOV     R6,#00H
0229 900000      R     MOV     DPTR,#num_mag_cal_params
022C EE                MOV     A,R6
022D F0                MOVX    @DPTR,A
022E A3                INC     DPTR
022F EF                MOV     A,R7
0230 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 265
0231 900000      R     MOV     DPTR,#num_mag_cal_params
0234 E0                MOVX    A,@DPTR
0235 FE                MOV     R6,A
0236 A3                INC     DPTR
0237 E0                MOVX    A,@DPTR
0238 FF                MOV     R7,A
0239 EF                MOV     A,R7
023A 25E0              ADD     A,ACC
023C FF                MOV     R7,A
023D EE                MOV     A,R6
023E 33                RLC     A
023F FE                MOV     R6,A
0240 900000      E     MOV     DPTR,#N_IMU_Connected
0243 E0                MOVX    A,@DPTR
0244 FD                MOV     R5,A
0245 7C00              MOV     R4,#00H
0247 C3                CLR     C
0248 ED                MOV     A,R5
0249 9F                SUBB    A,R7
024A FF                MOV     R7,A
024B EC                MOV     A,R4
024C 9E                SUBB    A,R6
024D FE                MOV     R6,A
024E D3                SETB    C
024F EF                MOV     A,R7
0250 9400              SUBB    A,#00H
0252 EE                MOV     A,R6
0253 9400              SUBB    A,#00H
0255 400A              JC      ?C0031
0257 900000      R     MOV     DPTR,#num_mag_cal_params
025A E4                CLR     A
025B 75F001            MOV     B,#01H
025E 120000      E     LCALL   ?C?IILDX
0261         ?C0031:
                                           ; SOURCE LINE # 271
0261 900000      R     MOV     DPTR,#num_mag_cal_params
0264 E0                MOVX    A,@DPTR
0265 FE                MOV     R6,A
0266 A3                INC     DPTR
0267 E0                MOVX    A,@DPTR
0268 FF                MOV     R7,A
0269 7C00              MOV     R4,#00H
026B 7D32              MOV     R5,#032H
026D 120000      E     LCALL   ?C?IMUL
0270 AA06              MOV     R2,AR6
0272 AB07              MOV     R3,AR7
0274 900000      R     MOV     DPTR,#num_imus_id_params
0277 E0                MOVX    A,@DPTR
0278 FE                MOV     R6,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 27  

0279 A3                INC     DPTR
027A E0                MOVX    A,@DPTR
027B FF                MOV     R7,A
027C 7C00              MOV     R4,#00H
027E 7D32              MOV     R5,#032H
0280 120000      E     LCALL   ?C?IMUL
0283 EF                MOV     A,R7
0284 2B                ADD     A,R3
0285 FD                MOV     R5,A
0286 EE                MOV     A,R6
0287 3A                ADDC    A,R2
0288 FC                MOV     R4,A
0289 900000      E     MOV     DPTR,#N_IMU_Connected
028C E0                MOVX    A,@DPTR
028D FF                MOV     R7,A
028E 7E32              MOV     R6,#032H
0290 EF                MOV     A,R7
0291 8EF0              MOV     B,R6
0293 A4                MUL     AB
0294 FF                MOV     R7,A
0295 AEF0              MOV     R6,B
0297 ED                MOV     A,R5
0298 2F                ADD     A,R7
0299 FF                MOV     R7,A
029A EC                MOV     A,R4
029B 3E                ADDC    A,R6
029C FE                MOV     R6,A
029D EF                MOV     A,R7
029E 242D              ADD     A,#02DH
02A0 FF                MOV     R7,A
02A1 EE                MOV     A,R6
02A2 3401              ADDC    A,#01H
02A4 FE                MOV     R6,A
02A5 900000      R     MOV     DPTR,#packet_length
02A8 EE                MOV     A,R6
02A9 F0                MOVX    @DPTR,A
02AA A3                INC     DPTR
02AB EF                MOV     A,R7
02AC F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 274
02AD 900000      R     MOV     DPTR,#num_mag_cal_params
02B0 E0                MOVX    A,@DPTR
02B1 FE                MOV     R6,A
02B2 A3                INC     DPTR
02B3 E0                MOVX    A,@DPTR
02B4 FF                MOV     R7,A
02B5 900000      R     MOV     DPTR,#num_imus_id_params
02B8 E0                MOVX    A,@DPTR
02B9 FC                MOV     R4,A
02BA A3                INC     DPTR
02BB E0                MOVX    A,@DPTR
02BC FD                MOV     R5,A
02BD ED                MOV     A,R5
02BE 2F                ADD     A,R7
02BF FF                MOV     R7,A
02C0 EC                MOV     A,R4
02C1 3E                ADDC    A,R6
02C2 FE                MOV     R6,A
02C3 EF                MOV     A,R7
02C4 2403              ADD     A,#03H
02C6 FF                MOV     R7,A
02C7 EE                MOV     A,R6
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 28  

02C8 3400              ADDC    A,#00H
02CA FE                MOV     R6,A
02CB 900000      R     MOV     DPTR,#first_imu_parameter
02CE EE                MOV     A,R6
02CF F0                MOVX    @DPTR,A
02D0 A3                INC     DPTR
02D1 EF                MOV     A,R7
02D2 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 275
02D3 900000      R     MOV     DPTR,#packet_data
02D6 740C              MOV     A,#0CH
02D8 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 276
02D9 900000      R     MOV     DPTR,#num_mag_cal_params
02DC E0                MOVX    A,@DPTR
02DD FE                MOV     R6,A
02DE A3                INC     DPTR
02DF E0                MOVX    A,@DPTR
02E0 FF                MOV     R7,A
02E1 900000      R     MOV     DPTR,#num_imus_id_params
02E4 E0                MOVX    A,@DPTR
02E5 FC                MOV     R4,A
02E6 A3                INC     DPTR
02E7 E0                MOVX    A,@DPTR
02E8 FD                MOV     R5,A
02E9 AE05              MOV     R6,AR5
02EB EE                MOV     A,R6
02EC 2F                ADD     A,R7
02ED FF                MOV     R7,A
02EE 900000      E     MOV     DPTR,#N_IMU_Connected
02F1 E0                MOVX    A,@DPTR
02F2 FE                MOV     R6,A
02F3 EF                MOV     A,R7
02F4 2E                ADD     A,R6
02F5 FF                MOV     R7,A
02F6 EF                MOV     A,R7
02F7 2403              ADD     A,#03H
02F9 FF                MOV     R7,A
02FA 900000      R     MOV     DPTR,#packet_data+01H
02FD EF                MOV     A,R7
02FE F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 278
02FF 900000      R     MOV     DPTR,#index
0302 E0                MOVX    A,@DPTR
0303 FE                MOV     R6,A
0304 A3                INC     DPTR
0305 E0                MOVX    A,@DPTR
0306 FF                MOV     R7,A
0307 EF                MOV     A,R7
0308 8EF0              MOV     B,R6
030A 120000      E     LCALL   ?C?ICASE
030D 0000        R     DW      ?C0033
030F 0000              DW      00H
0311 0000              DW      00H
0313 0000        R     DW      ?C0079
                                           ; SOURCE LINE # 279
0315         ?C0033:
                                           ; SOURCE LINE # 281
0315 900000      R     MOV     DPTR,#start_byte
0318 E4                CLR     A
0319 F0                MOVX    @DPTR,A
031A A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 29  

031B E4                CLR     A
031C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 282
031D 900000      R     MOV     DPTR,#packet_data+02H
0320 7402              MOV     A,#02H
0322 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 283
0323 900000      R     MOV     DPTR,#packet_data+03H
0326 7401              MOV     A,#01H
0328 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 284
0329 900000      E     MOV     DPTR,#N_IMU_Connected
032C E0                MOVX    A,@DPTR
032D FF                MOV     R7,A
032E 900000      R     MOV     DPTR,#packet_data+04H
0331 EF                MOV     A,R7
0332 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 285
0333 AF00        R     MOV     R7,n_imu_str_len
0335 7E00              MOV     R6,#00H
0337 8E00        R     MOV     i,R6
0339 8F00        R     MOV     i+01H,R7
033B         ?C0034:
033B E500        R     MOV     A,i+01H
033D 4500        R     ORL     A,i
033F 603E              JZ      ?C0035
                                           ; SOURCE LINE # 286
0341 AF00        R     MOV     R7,n_imu_str_len
0343 7E00              MOV     R6,#00H
0345 C3                CLR     C
0346 EF                MOV     A,R7
0347 9500        R     SUBB    A,i+01H
0349 FF                MOV     R7,A
034A EE                MOV     A,R6
034B 9500        R     SUBB    A,i
034D FE                MOV     R6,A
034E 7400        R     MOV     A,#LOW n_imu_str
0350 2F                ADD     A,R7
0351 F582              MOV     DPL,A
0353 7400        R     MOV     A,#HIGH n_imu_str
0355 3E                ADDC    A,R6
0356 F583              MOV     DPH,A
0358 E0                MOVX    A,@DPTR
0359 FF                MOV     R7,A
035A AE00        R     MOV     R6,n_imu_str_len
035C EE                MOV     A,R6
035D FD                MOV     R5,A
035E 7C00              MOV     R4,#00H
0360 C3                CLR     C
0361 ED                MOV     A,R5
0362 9500        R     SUBB    A,i+01H
0364 FD                MOV     R5,A
0365 EC                MOV     A,R4
0366 9500        R     SUBB    A,i
0368 FC                MOV     R4,A
0369 7400        R     MOV     A,#LOW packet_data+05H
036B 2D                ADD     A,R5
036C F582              MOV     DPL,A
036E 7400        R     MOV     A,#HIGH packet_data+05H
0370 3C                ADDC    A,R4
0371 F583              MOV     DPH,A
0373 EF                MOV     A,R7
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 30  

0374 F0                MOVX    @DPTR,A
0375 E500        R     MOV     A,i+01H
0377 1500        R     DEC     i+01H
0379 7002              JNZ     ?C0167
037B 1500        R     DEC     i
037D         ?C0167:
037D 80BC              SJMP    ?C0034
037F         ?C0035:
                                           ; SOURCE LINE # 289
037F 900000      R     MOV     DPTR,#start_byte
0382 E4                CLR     A
0383 75F032            MOV     B,#032H
0386 120000      E     LCALL   ?C?IILDX
                                           ; SOURCE LINE # 290
0389 750000      R     MOV     i,#00H
038C 750000      R     MOV     i+01H,#00H
                                           ; SOURCE LINE # 291
038F 750000      R     MOV     k,#00H
0392 750000      R     MOV     k+01H,#00H
0395         ?C0037:
0395 900000      R     MOV     DPTR,#num_imus_id_params
0398 E0                MOVX    A,@DPTR
0399 FE                MOV     R6,A
039A A3                INC     DPTR
039B E0                MOVX    A,@DPTR
039C FF                MOV     R7,A
039D C3                CLR     C
039E E500        R     MOV     A,k+01H
03A0 9F                SUBB    A,R7
03A1 E500        R     MOV     A,k
03A3 9E                SUBB    A,R6
03A4 4003              JC      $ + 5H
03A6 020000      R     LJMP    ?C0038
                                           ; SOURCE LINE # 292
03A9 7B01              MOV     R3,#01H
03AB 7A00        R     MOV     R2,#HIGH ids_str
03AD 7900        R     MOV     R1,#LOW ids_str
03AF C003              PUSH    AR3
03B1 C002              PUSH    AR2
03B3 C001              PUSH    AR1
03B5 7BFF              MOV     R3,#0FFH
03B7 7A00        R     MOV     R2,#HIGH ?SC_116
03B9 7900        R     MOV     R1,#LOW ?SC_116
03BB 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
03BE 120000      E     LCALL   ?C?PSTXDATA
03C1 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
03C4 E500        R     MOV     A,k
03C6 F0                MOVX    @DPTR,A
03C7 A3                INC     DPTR
03C8 E500        R     MOV     A,k+01H
03CA F0                MOVX    @DPTR,A
03CB D001              POP     AR1
03CD D002              POP     AR2
03CF D003              POP     AR3
03D1 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 293
03D4 750000      R     MOV     h,#00H
03D7 750004      R     MOV     h+01H,#04H
                                           ; SOURCE LINE # 294
03DA 7B01              MOV     R3,#01H
03DC 7A00        R     MOV     R2,#HIGH ids_str
03DE 7900        R     MOV     R1,#LOW ids_str
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 31  

03E0 120000      E     LCALL   _strlen
03E3 8F00        R     MOV     ids_str_len,R7
                                           ; SOURCE LINE # 295
03E5 900000      R     MOV     DPTR,#start_byte
03E8 E0                MOVX    A,@DPTR
03E9 FE                MOV     R6,A
03EA A3                INC     DPTR
03EB E0                MOVX    A,@DPTR
03EC FF                MOV     R7,A
03ED AC00        R     MOV     R4,k
03EF AD00        R     MOV     R5,k+01H
03F1 8D82              MOV     DPL,R5
03F3 8C83              MOV     DPH,R4
03F5 7432              MOV     A,#032H
03F7 120000      E     LCALL   ?C?OFFX256
03FA E582              MOV     A,DPL
03FC 2F                ADD     A,R7
03FD F582              MOV     DPL,A
03FF E583              MOV     A,DPH
0401 3E                ADDC    A,R6
0402 F583              MOV     DPH,A
0404 E582              MOV     A,DPL
0406 2400        R     ADD     A,#LOW packet_data+02H
0408 F582              MOV     DPL,A
040A E583              MOV     A,DPH
040C 3400        R     ADDC    A,#HIGH packet_data+02H
040E F583              MOV     DPH,A
0410 7402              MOV     A,#02H
0412 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 296
0413 900000      R     MOV     DPTR,#start_byte
0416 E0                MOVX    A,@DPTR
0417 FE                MOV     R6,A
0418 A3                INC     DPTR
0419 E0                MOVX    A,@DPTR
041A FF                MOV     R7,A
041B AC00        R     MOV     R4,k
041D AD00        R     MOV     R5,k+01H
041F 8D82              MOV     DPL,R5
0421 8C83              MOV     DPH,R4
0423 7432              MOV     A,#032H
0425 120000      E     LCALL   ?C?OFFX256
0428 E582              MOV     A,DPL
042A 2F                ADD     A,R7
042B F582              MOV     DPL,A
042D E583              MOV     A,DPH
042F 3E                ADDC    A,R6
0430 F583              MOV     DPH,A
0432 E582              MOV     A,DPL
0434 2400        R     ADD     A,#LOW packet_data+03H
0436 F582              MOV     DPL,A
0438 E583              MOV     A,DPH
043A 3400        R     ADDC    A,#HIGH packet_data+03H
043C F583              MOV     DPH,A
043E 7403              MOV     A,#03H
0440 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 298
0441 AE00        R     MOV     R6,k
0443 AF00        R     MOV     R7,k+01H
0445 7C00              MOV     R4,#00H
0447 7D03              MOV     R5,#03H
0449 120000      E     LCALL   ?C?IMUL
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 32  

044C 8E00        R     MOV     j,R6
044E 8F00        R     MOV     j+01H,R7
0450         ?C0040:
0450 AE00        R     MOV     R6,k
0452 AF00        R     MOV     R7,k+01H
0454 7C00              MOV     R4,#00H
0456 7D03              MOV     R5,#03H
0458 120000      E     LCALL   ?C?IMUL
045B EF                MOV     A,R7
045C 2402              ADD     A,#02H
045E FF                MOV     R7,A
045F EE                MOV     A,R6
0460 3400              ADDC    A,#00H
0462 FE                MOV     R6,A
0463 D3                SETB    C
0464 E500        R     MOV     A,j+01H
0466 9F                SUBB    A,R7
0467 E500        R     MOV     A,j
0469 9E                SUBB    A,R6
046A 4003              JC      $ + 5H
046C 020000      R     LJMP    ?C0041
                                           ; SOURCE LINE # 299
046F AE00        R     MOV     R6,i
0471 AF00        R     MOV     R7,i+01H
0473 7400        E     MOV     A,#LOW IMU_connected
0475 2F                ADD     A,R7
0476 F582              MOV     DPL,A
0478 7400        E     MOV     A,#HIGH IMU_connected
047A 3E                ADDC    A,R6
047B F583              MOV     DPH,A
047D E0                MOVX    A,@DPTR
047E FF                MOV     R7,A
047F 7E00              MOV     R6,#00H
0481 EF                MOV     A,R7
0482 B50053            CJNE    A,j+01H,?C0043
0485 EE                MOV     A,R6
0486 B5004F            CJNE    A,j,?C0043
                                           ; SOURCE LINE # 300
0489 AE00        R     MOV     R6,i
048B AF00        R     MOV     R7,i+01H
048D 7400        E     MOV     A,#LOW IMU_connected
048F 2F                ADD     A,R7
0490 F582              MOV     DPL,A
0492 7400        E     MOV     A,#HIGH IMU_connected
0494 3E                ADDC    A,R6
0495 F583              MOV     DPH,A
0497 E0                MOVX    A,@DPTR
0498 FF                MOV     R7,A
0499 900000      R     MOV     DPTR,#start_byte
049C E0                MOVX    A,@DPTR
049D FC                MOV     R4,A
049E A3                INC     DPTR
049F E0                MOVX    A,@DPTR
04A0 FD                MOV     R5,A
04A1 E500        R     MOV     A,h+01H
04A3 2D                ADD     A,R5
04A4 FD                MOV     R5,A
04A5 E500        R     MOV     A,h
04A7 3C                ADDC    A,R4
04A8 FC                MOV     R4,A
04A9 AA00        R     MOV     R2,k
04AB AB00        R     MOV     R3,k+01H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 33  

04AD 8B82              MOV     DPL,R3
04AF 8A83              MOV     DPH,R2
04B1 7432              MOV     A,#032H
04B3 120000      E     LCALL   ?C?OFFX256
04B6 E582              MOV     A,DPL
04B8 2D                ADD     A,R5
04B9 F582              MOV     DPL,A
04BB E583              MOV     A,DPH
04BD 3C                ADDC    A,R4
04BE F583              MOV     DPH,A
04C0 E582              MOV     A,DPL
04C2 2400        R     ADD     A,#LOW packet_data
04C4 F582              MOV     DPL,A
04C6 E583              MOV     A,DPH
04C8 3400        R     ADDC    A,#HIGH packet_data
04CA F583              MOV     DPH,A
04CC EF                MOV     A,R7
04CD F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 301
04CE 0500        R     INC     i+01H
04D0 E500        R     MOV     A,i+01H
04D2 7002              JNZ     ?C0169
04D4 0500        R     INC     i
04D6         ?C0169:
                                           ; SOURCE LINE # 302
04D6 8036              SJMP    ?C0044
04D8         ?C0043:
                                           ; SOURCE LINE # 303
                                           ; SOURCE LINE # 304
04D8 900000      R     MOV     DPTR,#start_byte
04DB E0                MOVX    A,@DPTR
04DC FE                MOV     R6,A
04DD A3                INC     DPTR
04DE E0                MOVX    A,@DPTR
04DF FF                MOV     R7,A
04E0 E500        R     MOV     A,h+01H
04E2 2F                ADD     A,R7
04E3 FF                MOV     R7,A
04E4 E500        R     MOV     A,h
04E6 3E                ADDC    A,R6
04E7 FE                MOV     R6,A
04E8 AC00        R     MOV     R4,k
04EA AD00        R     MOV     R5,k+01H
04EC 8D82              MOV     DPL,R5
04EE 8C83              MOV     DPH,R4
04F0 7432              MOV     A,#032H
04F2 120000      E     LCALL   ?C?OFFX256
04F5 E582              MOV     A,DPL
04F7 2F                ADD     A,R7
04F8 F582              MOV     DPL,A
04FA E583              MOV     A,DPH
04FC 3E                ADDC    A,R6
04FD F583              MOV     DPH,A
04FF E582              MOV     A,DPL
0501 2400        R     ADD     A,#LOW packet_data
0503 F582              MOV     DPL,A
0505 E583              MOV     A,DPH
0507 3400        R     ADDC    A,#HIGH packet_data
0509 F583              MOV     DPH,A
050B 74FF              MOV     A,#0FFH
050D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 305
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 34  

050E         ?C0044:
                                           ; SOURCE LINE # 306
050E 0500        R     INC     h+01H
0510 E500        R     MOV     A,h+01H
0512 7002              JNZ     ?C0170
0514 0500        R     INC     h
0516         ?C0170:
                                           ; SOURCE LINE # 307
0516 0500        R     INC     j+01H
0518 E500        R     MOV     A,j+01H
051A 7002              JNZ     ?C0171
051C 0500        R     INC     j
051E         ?C0171:
051E 020000      R     LJMP    ?C0040
0521         ?C0041:
                                           ; SOURCE LINE # 310
0521 AF00        R     MOV     R7,ids_str_len
0523 7E00              MOV     R6,#00H
0525 8E00        R     MOV     j,R6
0527 8F00        R     MOV     j+01H,R7
0529         ?C0045:
0529 E500        R     MOV     A,j+01H
052B 4500        R     ORL     A,j
052D 605B              JZ      ?C0039
                                           ; SOURCE LINE # 311
052F AF00        R     MOV     R7,ids_str_len
0531 7E00              MOV     R6,#00H
0533 C3                CLR     C
0534 EF                MOV     A,R7
0535 9500        R     SUBB    A,j+01H
0537 FF                MOV     R7,A
0538 EE                MOV     A,R6
0539 9500        R     SUBB    A,j
053B FE                MOV     R6,A
053C 7400        R     MOV     A,#LOW ids_str
053E 2F                ADD     A,R7
053F F582              MOV     DPL,A
0541 7400        R     MOV     A,#HIGH ids_str
0543 3E                ADDC    A,R6
0544 F583              MOV     DPH,A
0546 E0                MOVX    A,@DPTR
0547 FB                MOV     R3,A
0548 AE00        R     MOV     R6,k
054A AF00        R     MOV     R7,k+01H
054C 7C00              MOV     R4,#00H
054E 7D32              MOV     R5,#032H
0550 120000      E     LCALL   ?C?IMUL
0553 900000      R     MOV     DPTR,#start_byte
0556 E0                MOVX    A,@DPTR
0557 FC                MOV     R4,A
0558 A3                INC     DPTR
0559 E0                MOVX    A,@DPTR
055A FD                MOV     R5,A
055B EF                MOV     A,R7
055C 2D                ADD     A,R5
055D FF                MOV     R7,A
055E EE                MOV     A,R6
055F 3C                ADDC    A,R4
0560 FE                MOV     R6,A
0561 AD00        R     MOV     R5,ids_str_len
0563 7C00              MOV     R4,#00H
0565 EF                MOV     A,R7
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 35  

0566 2D                ADD     A,R5
0567 FF                MOV     R7,A
0568 EE                MOV     A,R6
0569 3C                ADDC    A,R4
056A FE                MOV     R6,A
056B C3                CLR     C
056C EF                MOV     A,R7
056D 9500        R     SUBB    A,j+01H
056F FF                MOV     R7,A
0570 EE                MOV     A,R6
0571 9500        R     SUBB    A,j
0573 FE                MOV     R6,A
0574 7400        R     MOV     A,#LOW packet_data+07H
0576 2F                ADD     A,R7
0577 F582              MOV     DPL,A
0579 7400        R     MOV     A,#HIGH packet_data+07H
057B 3E                ADDC    A,R6
057C F583              MOV     DPH,A
057E EB                MOV     A,R3
057F F0                MOVX    @DPTR,A
0580 E500        R     MOV     A,j+01H
0582 1500        R     DEC     j+01H
0584 7002              JNZ     ?C0172
0586 1500        R     DEC     j
0588         ?C0172:
0588 809F              SJMP    ?C0045
                                           ; SOURCE LINE # 312
058A         ?C0039:
058A 0500        R     INC     k+01H
058C E500        R     MOV     A,k+01H
058E 7002              JNZ     ?C0173
0590 0500        R     INC     k
0592         ?C0173:
0592 020000      R     LJMP    ?C0037
0595         ?C0038:
                                           ; SOURCE LINE # 315
0595 900000      R     MOV     DPTR,#num_imus_id_params
0598 E0                MOVX    A,@DPTR
0599 FE                MOV     R6,A
059A A3                INC     DPTR
059B E0                MOVX    A,@DPTR
059C FF                MOV     R7,A
059D 7C00              MOV     R4,#00H
059F 7D32              MOV     R5,#032H
05A1 120000      E     LCALL   ?C?IMUL
05A4 900000      R     MOV     DPTR,#start_byte
05A7 EE                MOV     A,R6
05A8 8FF0              MOV     B,R7
05AA 120000      E     LCALL   ?C?IILDX
                                           ; SOURCE LINE # 316
05AD 750000      R     MOV     k,#00H
05B0 750000      R     MOV     k+01H,#00H
05B3         ?C0048:
05B3 900000      R     MOV     DPTR,#num_mag_cal_params
05B6 E0                MOVX    A,@DPTR
05B7 FE                MOV     R6,A
05B8 A3                INC     DPTR
05B9 E0                MOVX    A,@DPTR
05BA FF                MOV     R7,A
05BB C3                CLR     C
05BC E500        R     MOV     A,k+01H
05BE 9F                SUBB    A,R7
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 36  

05BF E500        R     MOV     A,k
05C1 9E                SUBB    A,R6
05C2 4003              JC      $ + 5H
05C4 020000      R     LJMP    ?C0049
                                           ; SOURCE LINE # 317
05C7 900000      R     MOV     DPTR,#start_byte
05CA E0                MOVX    A,@DPTR
05CB FE                MOV     R6,A
05CC A3                INC     DPTR
05CD E0                MOVX    A,@DPTR
05CE FF                MOV     R7,A
05CF AC00        R     MOV     R4,k
05D1 AD00        R     MOV     R5,k+01H
05D3 8D82              MOV     DPL,R5
05D5 8C83              MOV     DPH,R4
05D7 7432              MOV     A,#032H
05D9 120000      E     LCALL   ?C?OFFX256
05DC E582              MOV     A,DPL
05DE 2F                ADD     A,R7
05DF F582              MOV     DPL,A
05E1 E583              MOV     A,DPH
05E3 3E                ADDC    A,R6
05E4 F583              MOV     DPH,A
05E6 E582              MOV     A,DPL
05E8 2400        R     ADD     A,#LOW packet_data+02H
05EA F582              MOV     DPL,A
05EC E583              MOV     A,DPH
05EE 3400        R     ADDC    A,#HIGH packet_data+02H
05F0 F583              MOV     DPH,A
05F2 7402              MOV     A,#02H
05F4 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 319
05F5 900000      R     MOV     DPTR,#start_byte
05F8 E0                MOVX    A,@DPTR
05F9 FE                MOV     R6,A
05FA A3                INC     DPTR
05FB E0                MOVX    A,@DPTR
05FC FF                MOV     R7,A
05FD AC00        R     MOV     R4,k
05FF AD00        R     MOV     R5,k+01H
0601 8D82              MOV     DPL,R5
0603 8C83              MOV     DPH,R4
0605 7432              MOV     A,#032H
0607 120000      E     LCALL   ?C?OFFX256
060A E582              MOV     A,DPL
060C 2F                ADD     A,R7
060D F582              MOV     DPL,A
060F E583              MOV     A,DPH
0611 3E                ADDC    A,R6
0612 F583              MOV     DPH,A
0614 E582              MOV     A,DPL
0616 2400        R     ADD     A,#LOW packet_data+03H
0618 F582              MOV     DPL,A
061A E583              MOV     A,DPH
061C 3400        R     ADDC    A,#HIGH packet_data+03H
061E F583              MOV     DPH,A
0620 7403              MOV     A,#03H
0622 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 320
0623 E500        R     MOV     A,k+01H
0625 25E0              ADD     A,ACC
0627 FF                MOV     R7,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 37  

0628 E500        R     MOV     A,k
062A 33                RLC     A
062B FE                MOV     R6,A
062C 7400        E     MOV     A,#LOW IMU_connected
062E 2F                ADD     A,R7
062F F582              MOV     DPL,A
0631 7400        E     MOV     A,#HIGH IMU_connected
0633 3E                ADDC    A,R6
0634 F583              MOV     DPH,A
0636 E0                MOVX    A,@DPTR
0637 FF                MOV     R7,A
0638 EF                MOV     A,R7
0639 75F003            MOV     B,#03H
063C A4                MUL     AB
063D 2400        E     ADD     A,#LOW MagCal
063F F582              MOV     DPL,A
0641 E4                CLR     A
0642 3400        E     ADDC    A,#HIGH MagCal
0644 F583              MOV     DPH,A
0646 E0                MOVX    A,@DPTR
0647 FF                MOV     R7,A
0648 900000      R     MOV     DPTR,#start_byte
064B E0                MOVX    A,@DPTR
064C FC                MOV     R4,A
064D A3                INC     DPTR
064E E0                MOVX    A,@DPTR
064F FD                MOV     R5,A
0650 AA00        R     MOV     R2,k
0652 AB00        R     MOV     R3,k+01H
0654 8B82              MOV     DPL,R3
0656 8A83              MOV     DPH,R2
0658 7432              MOV     A,#032H
065A 120000      E     LCALL   ?C?OFFX256
065D E582              MOV     A,DPL
065F 2D                ADD     A,R5
0660 F582              MOV     DPL,A
0662 E583              MOV     A,DPH
0664 3C                ADDC    A,R4
0665 F583              MOV     DPH,A
0667 E582              MOV     A,DPL
0669 2400        R     ADD     A,#LOW packet_data+04H
066B F582              MOV     DPL,A
066D E583              MOV     A,DPH
066F 3400        R     ADDC    A,#HIGH packet_data+04H
0671 F583              MOV     DPH,A
0673 EF                MOV     A,R7
0674 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 321
0675 E500        R     MOV     A,k+01H
0677 25E0              ADD     A,ACC
0679 FF                MOV     R7,A
067A E500        R     MOV     A,k
067C 33                RLC     A
067D FE                MOV     R6,A
067E 7400        E     MOV     A,#LOW IMU_connected
0680 2F                ADD     A,R7
0681 F582              MOV     DPL,A
0683 7400        E     MOV     A,#HIGH IMU_connected
0685 3E                ADDC    A,R6
0686 F583              MOV     DPH,A
0688 E0                MOVX    A,@DPTR
0689 FF                MOV     R7,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 38  

068A EF                MOV     A,R7
068B 75F003            MOV     B,#03H
068E A4                MUL     AB
068F 2400        E     ADD     A,#LOW MagCal+01H
0691 F582              MOV     DPL,A
0693 E4                CLR     A
0694 3400        E     ADDC    A,#HIGH MagCal+01H
0696 F583              MOV     DPH,A
0698 E0                MOVX    A,@DPTR
0699 FF                MOV     R7,A
069A 900000      R     MOV     DPTR,#start_byte
069D E0                MOVX    A,@DPTR
069E FC                MOV     R4,A
069F A3                INC     DPTR
06A0 E0                MOVX    A,@DPTR
06A1 FD                MOV     R5,A
06A2 AA00        R     MOV     R2,k
06A4 AB00        R     MOV     R3,k+01H
06A6 8B82              MOV     DPL,R3
06A8 8A83              MOV     DPH,R2
06AA 7432              MOV     A,#032H
06AC 120000      E     LCALL   ?C?OFFX256
06AF E582              MOV     A,DPL
06B1 2D                ADD     A,R5
06B2 F582              MOV     DPL,A
06B4 E583              MOV     A,DPH
06B6 3C                ADDC    A,R4
06B7 F583              MOV     DPH,A
06B9 E582              MOV     A,DPL
06BB 2400        R     ADD     A,#LOW packet_data+05H
06BD F582              MOV     DPL,A
06BF E583              MOV     A,DPH
06C1 3400        R     ADDC    A,#HIGH packet_data+05H
06C3 F583              MOV     DPH,A
06C5 EF                MOV     A,R7
06C6 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 322
06C7 E500        R     MOV     A,k+01H
06C9 25E0              ADD     A,ACC
06CB FF                MOV     R7,A
06CC E500        R     MOV     A,k
06CE 33                RLC     A
06CF FE                MOV     R6,A
06D0 7400        E     MOV     A,#LOW IMU_connected
06D2 2F                ADD     A,R7
06D3 F582              MOV     DPL,A
06D5 7400        E     MOV     A,#HIGH IMU_connected
06D7 3E                ADDC    A,R6
06D8 F583              MOV     DPH,A
06DA E0                MOVX    A,@DPTR
06DB FF                MOV     R7,A
06DC EF                MOV     A,R7
06DD 75F003            MOV     B,#03H
06E0 A4                MUL     AB
06E1 2400        E     ADD     A,#LOW MagCal+02H
06E3 F582              MOV     DPL,A
06E5 E4                CLR     A
06E6 3400        E     ADDC    A,#HIGH MagCal+02H
06E8 F583              MOV     DPH,A
06EA E0                MOVX    A,@DPTR
06EB FF                MOV     R7,A
06EC 900000      R     MOV     DPTR,#start_byte
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 39  

06EF E0                MOVX    A,@DPTR
06F0 FC                MOV     R4,A
06F1 A3                INC     DPTR
06F2 E0                MOVX    A,@DPTR
06F3 FD                MOV     R5,A
06F4 AA00        R     MOV     R2,k
06F6 AB00        R     MOV     R3,k+01H
06F8 8B82              MOV     DPL,R3
06FA 8A83              MOV     DPH,R2
06FC 7432              MOV     A,#032H
06FE 120000      E     LCALL   ?C?OFFX256
0701 E582              MOV     A,DPL
0703 2D                ADD     A,R5
0704 F582              MOV     DPL,A
0706 E583              MOV     A,DPH
0708 3C                ADDC    A,R4
0709 F583              MOV     DPH,A
070B E582              MOV     A,DPL
070D 2400        R     ADD     A,#LOW packet_data+06H
070F F582              MOV     DPL,A
0711 E583              MOV     A,DPH
0713 3400        R     ADDC    A,#HIGH packet_data+06H
0715 F583              MOV     DPH,A
0717 EF                MOV     A,R7
0718 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 325
0719 E500        R     MOV     A,k+01H
071B 2401              ADD     A,#01H
071D FF                MOV     R7,A
071E E500        R     MOV     A,k
0720 3400              ADDC    A,#00H
0722 FE                MOV     R6,A
0723 EF                MOV     A,R7
0724 25E0              ADD     A,ACC
0726 FF                MOV     R7,A
0727 EE                MOV     A,R6
0728 33                RLC     A
0729 FE                MOV     R6,A
072A 900000      E     MOV     DPTR,#N_IMU_Connected
072D E0                MOVX    A,@DPTR
072E FD                MOV     R5,A
072F 7C00              MOV     R4,#00H
0731 C3                CLR     C
0732 ED                MOV     A,R5
0733 9F                SUBB    A,R7
0734 EC                MOV     A,R4
0735 9E                SUBB    A,R6
0736 506C              JNC     ?C0051
                                           ; SOURCE LINE # 327
0738 AF00        R     MOV     R7,mag_param_str_len
073A 7E00              MOV     R6,#00H
073C 8E00        R     MOV     j,R6
073E 8F00        R     MOV     j+01H,R7
0740         ?C0052:
0740 E500        R     MOV     A,j+01H
0742 4500        R     ORL     A,j
0744 7003              JNZ     $ + 5H
0746 020000      R     LJMP    ?C0050
                                           ; SOURCE LINE # 328
0749 AF00        R     MOV     R7,mag_param_str_len
074B 7E00              MOV     R6,#00H
074D C3                CLR     C
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 40  

074E EF                MOV     A,R7
074F 9500        R     SUBB    A,j+01H
0751 FF                MOV     R7,A
0752 EE                MOV     A,R6
0753 9500        R     SUBB    A,j
0755 FE                MOV     R6,A
0756 7400        R     MOV     A,#LOW mag_param_str
0758 2F                ADD     A,R7
0759 F582              MOV     DPL,A
075B 7400        R     MOV     A,#HIGH mag_param_str
075D 3E                ADDC    A,R6
075E F583              MOV     DPH,A
0760 E0                MOVX    A,@DPTR
0761 FB                MOV     R3,A
0762 AE00        R     MOV     R6,k
0764 AF00        R     MOV     R7,k+01H
0766 7C00              MOV     R4,#00H
0768 7D32              MOV     R5,#032H
076A 120000      E     LCALL   ?C?IMUL
076D 900000      R     MOV     DPTR,#start_byte
0770 E0                MOVX    A,@DPTR
0771 FC                MOV     R4,A
0772 A3                INC     DPTR
0773 E0                MOVX    A,@DPTR
0774 FD                MOV     R5,A
0775 EF                MOV     A,R7
0776 2D                ADD     A,R5
0777 FF                MOV     R7,A
0778 EE                MOV     A,R6
0779 3C                ADDC    A,R4
077A FE                MOV     R6,A
077B AD00        R     MOV     R5,mag_param_str_len
077D 7C00              MOV     R4,#00H
077F EF                MOV     A,R7
0780 2D                ADD     A,R5
0781 FF                MOV     R7,A
0782 EE                MOV     A,R6
0783 3C                ADDC    A,R4
0784 FE                MOV     R6,A
0785 C3                CLR     C
0786 EF                MOV     A,R7
0787 9500        R     SUBB    A,j+01H
0789 FF                MOV     R7,A
078A EE                MOV     A,R6
078B 9500        R     SUBB    A,j
078D FE                MOV     R6,A
078E 7400        R     MOV     A,#LOW packet_data+07H
0790 2F                ADD     A,R7
0791 F582              MOV     DPL,A
0793 7400        R     MOV     A,#HIGH packet_data+07H
0795 3E                ADDC    A,R6
0796 F583              MOV     DPH,A
0798 EB                MOV     A,R3
0799 F0                MOVX    @DPTR,A
079A E500        R     MOV     A,j+01H
079C 1500        R     DEC     j+01H
079E 7002              JNZ     ?C0174
07A0 1500        R     DEC     j
07A2         ?C0174:
07A2 809C              SJMP    ?C0052
                                           ; SOURCE LINE # 329
07A4         ?C0051:
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 41  

                                           ; SOURCE LINE # 330
                                           ; SOURCE LINE # 332
07A4 900000      R     MOV     DPTR,#start_byte
07A7 E0                MOVX    A,@DPTR
07A8 FE                MOV     R6,A
07A9 A3                INC     DPTR
07AA E0                MOVX    A,@DPTR
07AB FF                MOV     R7,A
07AC AC00        R     MOV     R4,k
07AE AD00        R     MOV     R5,k+01H
07B0 8D82              MOV     DPL,R5
07B2 8C83              MOV     DPH,R4
07B4 7432              MOV     A,#032H
07B6 120000      E     LCALL   ?C?OFFX256
07B9 E582              MOV     A,DPL
07BB 2F                ADD     A,R7
07BC F582              MOV     DPL,A
07BE E583              MOV     A,DPH
07C0 3E                ADDC    A,R6
07C1 F583              MOV     DPH,A
07C3 E582              MOV     A,DPL
07C5 2400        R     ADD     A,#LOW packet_data+03H
07C7 F582              MOV     DPL,A
07C9 E583              MOV     A,DPH
07CB 3400        R     ADDC    A,#HIGH packet_data+03H
07CD F583              MOV     DPH,A
07CF 7406              MOV     A,#06H
07D1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 333
07D2 E500        R     MOV     A,k+01H
07D4 25E0              ADD     A,ACC
07D6 FF                MOV     R7,A
07D7 E500        R     MOV     A,k
07D9 33                RLC     A
07DA FE                MOV     R6,A
07DB 7400        E     MOV     A,#LOW IMU_connected+01H
07DD 2F                ADD     A,R7
07DE F582              MOV     DPL,A
07E0 7400        E     MOV     A,#HIGH IMU_connected+01H
07E2 3E                ADDC    A,R6
07E3 F583              MOV     DPH,A
07E5 E0                MOVX    A,@DPTR
07E6 FF                MOV     R7,A
07E7 EF                MOV     A,R7
07E8 75F003            MOV     B,#03H
07EB A4                MUL     AB
07EC 2400        E     ADD     A,#LOW MagCal
07EE F582              MOV     DPL,A
07F0 E4                CLR     A
07F1 3400        E     ADDC    A,#HIGH MagCal
07F3 F583              MOV     DPH,A
07F5 E0                MOVX    A,@DPTR
07F6 FF                MOV     R7,A
07F7 900000      R     MOV     DPTR,#start_byte
07FA E0                MOVX    A,@DPTR
07FB FC                MOV     R4,A
07FC A3                INC     DPTR
07FD E0                MOVX    A,@DPTR
07FE FD                MOV     R5,A
07FF AA00        R     MOV     R2,k
0801 AB00        R     MOV     R3,k+01H
0803 8B82              MOV     DPL,R3
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 42  

0805 8A83              MOV     DPH,R2
0807 7432              MOV     A,#032H
0809 120000      E     LCALL   ?C?OFFX256
080C E582              MOV     A,DPL
080E 2D                ADD     A,R5
080F F582              MOV     DPL,A
0811 E583              MOV     A,DPH
0813 3C                ADDC    A,R4
0814 F583              MOV     DPH,A
0816 E582              MOV     A,DPL
0818 2400        R     ADD     A,#LOW packet_data+07H
081A F582              MOV     DPL,A
081C E583              MOV     A,DPH
081E 3400        R     ADDC    A,#HIGH packet_data+07H
0820 F583              MOV     DPH,A
0822 EF                MOV     A,R7
0823 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 334
0824 E500        R     MOV     A,k+01H
0826 25E0              ADD     A,ACC
0828 FF                MOV     R7,A
0829 E500        R     MOV     A,k
082B 33                RLC     A
082C FE                MOV     R6,A
082D 7400        E     MOV     A,#LOW IMU_connected+01H
082F 2F                ADD     A,R7
0830 F582              MOV     DPL,A
0832 7400        E     MOV     A,#HIGH IMU_connected+01H
0834 3E                ADDC    A,R6
0835 F583              MOV     DPH,A
0837 E0                MOVX    A,@DPTR
0838 FF                MOV     R7,A
0839 EF                MOV     A,R7
083A 75F003            MOV     B,#03H
083D A4                MUL     AB
083E 2400        E     ADD     A,#LOW MagCal+01H
0840 F582              MOV     DPL,A
0842 E4                CLR     A
0843 3400        E     ADDC    A,#HIGH MagCal+01H
0845 F583              MOV     DPH,A
0847 E0                MOVX    A,@DPTR
0848 FF                MOV     R7,A
0849 900000      R     MOV     DPTR,#start_byte
084C E0                MOVX    A,@DPTR
084D FC                MOV     R4,A
084E A3                INC     DPTR
084F E0                MOVX    A,@DPTR
0850 FD                MOV     R5,A
0851 AA00        R     MOV     R2,k
0853 AB00        R     MOV     R3,k+01H
0855 8B82              MOV     DPL,R3
0857 8A83              MOV     DPH,R2
0859 7432              MOV     A,#032H
085B 120000      E     LCALL   ?C?OFFX256
085E E582              MOV     A,DPL
0860 2D                ADD     A,R5
0861 F582              MOV     DPL,A
0863 E583              MOV     A,DPH
0865 3C                ADDC    A,R4
0866 F583              MOV     DPH,A
0868 E582              MOV     A,DPL
086A 2400        R     ADD     A,#LOW packet_data+08H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 43  

086C F582              MOV     DPL,A
086E E583              MOV     A,DPH
0870 3400        R     ADDC    A,#HIGH packet_data+08H
0872 F583              MOV     DPH,A
0874 EF                MOV     A,R7
0875 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 335
0876 E500        R     MOV     A,k+01H
0878 25E0              ADD     A,ACC
087A FF                MOV     R7,A
087B E500        R     MOV     A,k
087D 33                RLC     A
087E FE                MOV     R6,A
087F 7400        E     MOV     A,#LOW IMU_connected+01H
0881 2F                ADD     A,R7
0882 F582              MOV     DPL,A
0884 7400        E     MOV     A,#HIGH IMU_connected+01H
0886 3E                ADDC    A,R6
0887 F583              MOV     DPH,A
0889 E0                MOVX    A,@DPTR
088A FF                MOV     R7,A
088B EF                MOV     A,R7
088C 75F003            MOV     B,#03H
088F A4                MUL     AB
0890 2400        E     ADD     A,#LOW MagCal+02H
0892 F582              MOV     DPL,A
0894 E4                CLR     A
0895 3400        E     ADDC    A,#HIGH MagCal+02H
0897 F583              MOV     DPH,A
0899 E0                MOVX    A,@DPTR
089A FF                MOV     R7,A
089B 900000      R     MOV     DPTR,#start_byte
089E E0                MOVX    A,@DPTR
089F FC                MOV     R4,A
08A0 A3                INC     DPTR
08A1 E0                MOVX    A,@DPTR
08A2 FD                MOV     R5,A
08A3 AA00        R     MOV     R2,k
08A5 AB00        R     MOV     R3,k+01H
08A7 8B82              MOV     DPL,R3
08A9 8A83              MOV     DPH,R2
08AB 7432              MOV     A,#032H
08AD 120000      E     LCALL   ?C?OFFX256
08B0 E582              MOV     A,DPL
08B2 2D                ADD     A,R5
08B3 F582              MOV     DPL,A
08B5 E583              MOV     A,DPH
08B7 3C                ADDC    A,R4
08B8 F583              MOV     DPH,A
08BA E582              MOV     A,DPL
08BC 2400        R     ADD     A,#LOW packet_data+09H
08BE F582              MOV     DPL,A
08C0 E583              MOV     A,DPH
08C2 3400        R     ADDC    A,#HIGH packet_data+09H
08C4 F583              MOV     DPH,A
08C6 EF                MOV     A,R7
08C7 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 337
08C8 AF00        R     MOV     R7,mag_param_str_len
08CA 7E00              MOV     R6,#00H
08CC 8E00        R     MOV     j,R6
08CE 8F00        R     MOV     j+01H,R7
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 44  

08D0         ?C0056:
08D0 E500        R     MOV     A,j+01H
08D2 4500        R     ORL     A,j
08D4 605B              JZ      ?C0050
                                           ; SOURCE LINE # 338
08D6 AF00        R     MOV     R7,mag_param_str_len
08D8 7E00              MOV     R6,#00H
08DA C3                CLR     C
08DB EF                MOV     A,R7
08DC 9500        R     SUBB    A,j+01H
08DE FF                MOV     R7,A
08DF EE                MOV     A,R6
08E0 9500        R     SUBB    A,j
08E2 FE                MOV     R6,A
08E3 7400        R     MOV     A,#LOW mag_param_str
08E5 2F                ADD     A,R7
08E6 F582              MOV     DPL,A
08E8 7400        R     MOV     A,#HIGH mag_param_str
08EA 3E                ADDC    A,R6
08EB F583              MOV     DPH,A
08ED E0                MOVX    A,@DPTR
08EE FB                MOV     R3,A
08EF AE00        R     MOV     R6,k
08F1 AF00        R     MOV     R7,k+01H
08F3 7C00              MOV     R4,#00H
08F5 7D32              MOV     R5,#032H
08F7 120000      E     LCALL   ?C?IMUL
08FA 900000      R     MOV     DPTR,#start_byte
08FD E0                MOVX    A,@DPTR
08FE FC                MOV     R4,A
08FF A3                INC     DPTR
0900 E0                MOVX    A,@DPTR
0901 FD                MOV     R5,A
0902 EF                MOV     A,R7
0903 2D                ADD     A,R5
0904 FF                MOV     R7,A
0905 EE                MOV     A,R6
0906 3C                ADDC    A,R4
0907 FE                MOV     R6,A
0908 AD00        R     MOV     R5,mag_param_str_len
090A 7C00              MOV     R4,#00H
090C EF                MOV     A,R7
090D 2D                ADD     A,R5
090E FF                MOV     R7,A
090F EE                MOV     A,R6
0910 3C                ADDC    A,R4
0911 FE                MOV     R6,A
0912 C3                CLR     C
0913 EF                MOV     A,R7
0914 9500        R     SUBB    A,j+01H
0916 FF                MOV     R7,A
0917 EE                MOV     A,R6
0918 9500        R     SUBB    A,j
091A FE                MOV     R6,A
091B 7400        R     MOV     A,#LOW packet_data+0AH
091D 2F                ADD     A,R7
091E F582              MOV     DPL,A
0920 7400        R     MOV     A,#HIGH packet_data+0AH
0922 3E                ADDC    A,R6
0923 F583              MOV     DPH,A
0925 EB                MOV     A,R3
0926 F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 45  

0927 E500        R     MOV     A,j+01H
0929 1500        R     DEC     j+01H
092B 7002              JNZ     ?C0175
092D 1500        R     DEC     j
092F         ?C0175:
092F 809F              SJMP    ?C0056
                                           ; SOURCE LINE # 339
                                           ; SOURCE LINE # 340
0931         ?C0050:
0931 0500        R     INC     k+01H
0933 E500        R     MOV     A,k+01H
0935 7002              JNZ     ?C0176
0937 0500        R     INC     k
0939         ?C0176:
0939 020000      R     LJMP    ?C0048
093C         ?C0049:
                                           ; SOURCE LINE # 344
093C 900000      R     MOV     DPTR,#num_mag_cal_params
093F E0                MOVX    A,@DPTR
0940 FE                MOV     R6,A
0941 A3                INC     DPTR
0942 E0                MOVX    A,@DPTR
0943 FF                MOV     R7,A
0944 7C00              MOV     R4,#00H
0946 7D32              MOV     R5,#032H
0948 120000      E     LCALL   ?C?IMUL
094B 900000      R     MOV     DPTR,#start_byte
094E EE                MOV     A,R6
094F 8FF0              MOV     B,R7
0951 120000      E     LCALL   ?C?IILDX
                                           ; SOURCE LINE # 345
0954 7B01              MOV     R3,#01H
0956 7A00        R     MOV     R2,#HIGH id_str
0958 7900        R     MOV     R1,#LOW id_str
095A C003              PUSH    AR3
095C C002              PUSH    AR2
095E C001              PUSH    AR1
0960 7BFF              MOV     R3,#0FFH
0962 7A00        R     MOV     R2,#HIGH ?SC_128
0964 7900        R     MOV     R1,#LOW ?SC_128
0966 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0969 120000      E     LCALL   ?C?PSTXDATA
096C 900000      R     MOV     DPTR,#first_imu_parameter
096F E0                MOVX    A,@DPTR
0970 FE                MOV     R6,A
0971 A3                INC     DPTR
0972 E0                MOVX    A,@DPTR
0973 FF                MOV     R7,A
0974 EF                MOV     A,R7
0975 24FF              ADD     A,#0FFH
0977 FF                MOV     R7,A
0978 EE                MOV     A,R6
0979 34FF              ADDC    A,#0FFH
097B FE                MOV     R6,A
097C 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
097F EE                MOV     A,R6
0980 F0                MOVX    @DPTR,A
0981 A3                INC     DPTR
0982 EF                MOV     A,R7
0983 F0                MOVX    @DPTR,A
0984 D001              POP     AR1
0986 D002              POP     AR2
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 46  

0988 D003              POP     AR3
098A 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 346
098D 7B01              MOV     R3,#01H
098F 7A00        R     MOV     R2,#HIGH id_str
0991 7900        R     MOV     R1,#LOW id_str
0993 120000      E     LCALL   _strlen
0996 8F00        R     MOV     id_str_len,R7
                                           ; SOURCE LINE # 347
0998 900000      R     MOV     DPTR,#start_byte
099B E0                MOVX    A,@DPTR
099C FE                MOV     R6,A
099D A3                INC     DPTR
099E E0                MOVX    A,@DPTR
099F FF                MOV     R7,A
09A0 7400        R     MOV     A,#LOW packet_data+02H
09A2 2F                ADD     A,R7
09A3 F582              MOV     DPL,A
09A5 7400        R     MOV     A,#HIGH packet_data+02H
09A7 3E                ADDC    A,R6
09A8 F583              MOV     DPH,A
09AA 7402              MOV     A,#02H
09AC F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 348
09AD 900000      R     MOV     DPTR,#start_byte
09B0 E0                MOVX    A,@DPTR
09B1 FE                MOV     R6,A
09B2 A3                INC     DPTR
09B3 E0                MOVX    A,@DPTR
09B4 FF                MOV     R7,A
09B5 7400        R     MOV     A,#LOW packet_data+03H
09B7 2F                ADD     A,R7
09B8 F582              MOV     DPL,A
09BA 7400        R     MOV     A,#HIGH packet_data+03H
09BC 3E                ADDC    A,R6
09BD F583              MOV     DPH,A
09BF 7401              MOV     A,#01H
09C1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 349
09C2 900000      E     MOV     DPTR,#c_mem+01H
09C5 E0                MOVX    A,@DPTR
09C6 FF                MOV     R7,A
09C7 900000      R     MOV     DPTR,#start_byte
09CA E0                MOVX    A,@DPTR
09CB FC                MOV     R4,A
09CC A3                INC     DPTR
09CD E0                MOVX    A,@DPTR
09CE FD                MOV     R5,A
09CF 7400        R     MOV     A,#LOW packet_data+04H
09D1 2D                ADD     A,R5
09D2 F582              MOV     DPL,A
09D4 7400        R     MOV     A,#HIGH packet_data+04H
09D6 3C                ADDC    A,R4
09D7 F583              MOV     DPH,A
09D9 EF                MOV     A,R7
09DA F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 350
09DB AF00        R     MOV     R7,id_str_len
09DD 7E00              MOV     R6,#00H
09DF 8E00        R     MOV     i,R6
09E1 8F00        R     MOV     i+01H,R7
09E3         ?C0059:
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 47  

09E3 E500        R     MOV     A,i+01H
09E5 4500        R     ORL     A,i
09E7 604C              JZ      ?C0060
                                           ; SOURCE LINE # 351
09E9 AF00        R     MOV     R7,id_str_len
09EB 7E00              MOV     R6,#00H
09ED C3                CLR     C
09EE EF                MOV     A,R7
09EF 9500        R     SUBB    A,i+01H
09F1 FF                MOV     R7,A
09F2 EE                MOV     A,R6
09F3 9500        R     SUBB    A,i
09F5 FE                MOV     R6,A
09F6 7400        R     MOV     A,#LOW id_str
09F8 2F                ADD     A,R7
09F9 F582              MOV     DPL,A
09FB 7400        R     MOV     A,#HIGH id_str
09FD 3E                ADDC    A,R6
09FE F583              MOV     DPH,A
0A00 E0                MOVX    A,@DPTR
0A01 FF                MOV     R7,A
0A02 AE00        R     MOV     R6,id_str_len
0A04 EE                MOV     A,R6
0A05 FD                MOV     R5,A
0A06 7C00              MOV     R4,#00H
0A08 900000      R     MOV     DPTR,#start_byte
0A0B E0                MOVX    A,@DPTR
0A0C FA                MOV     R2,A
0A0D A3                INC     DPTR
0A0E E0                MOVX    A,@DPTR
0A0F FB                MOV     R3,A
0A10 ED                MOV     A,R5
0A11 2B                ADD     A,R3
0A12 FD                MOV     R5,A
0A13 EC                MOV     A,R4
0A14 3A                ADDC    A,R2
0A15 FC                MOV     R4,A
0A16 C3                CLR     C
0A17 ED                MOV     A,R5
0A18 9500        R     SUBB    A,i+01H
0A1A FD                MOV     R5,A
0A1B EC                MOV     A,R4
0A1C 9500        R     SUBB    A,i
0A1E FC                MOV     R4,A
0A1F 7400        R     MOV     A,#LOW packet_data+05H
0A21 2D                ADD     A,R5
0A22 F582              MOV     DPL,A
0A24 7400        R     MOV     A,#HIGH packet_data+05H
0A26 3C                ADDC    A,R4
0A27 F583              MOV     DPH,A
0A29 EF                MOV     A,R7
0A2A F0                MOVX    @DPTR,A
0A2B E500        R     MOV     A,i+01H
0A2D 1500        R     DEC     i+01H
0A2F 7002              JNZ     ?C0177
0A31 1500        R     DEC     i
0A33         ?C0177:
0A33 80AE              SJMP    ?C0059
0A35         ?C0060:
                                           ; SOURCE LINE # 355
0A35 900000      R     MOV     DPTR,#start_byte
0A38 E4                CLR     A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 48  

0A39 75F032            MOV     B,#032H
0A3C 120000      E     LCALL   ?C?IILDX
                                           ; SOURCE LINE # 356
0A3F 750000      R     MOV     i,#00H
0A42 750000      R     MOV     i+01H,#00H
0A45         ?C0062:
0A45 900000      E     MOV     DPTR,#N_IMU_Connected
0A48 E0                MOVX    A,@DPTR
0A49 FF                MOV     R7,A
0A4A 7E00              MOV     R6,#00H
0A4C C3                CLR     C
0A4D E500        R     MOV     A,i+01H
0A4F 9F                SUBB    A,R7
0A50 E500        R     MOV     A,i
0A52 9E                SUBB    A,R6
0A53 4003              JC      $ + 5H
0A55 020000      R     LJMP    ?C0063
                                           ; SOURCE LINE # 357
0A58 7B01              MOV     R3,#01H
0A5A 7A00        R     MOV     R2,#HIGH imu_table_str
0A5C 7900        R     MOV     R1,#LOW imu_table_str
0A5E C003              PUSH    AR3
0A60 C002              PUSH    AR2
0A62 C001              PUSH    AR1
0A64 7BFF              MOV     R3,#0FFH
0A66 7A00        R     MOV     R2,#HIGH ?SC_144
0A68 7900        R     MOV     R1,#LOW ?SC_144
0A6A 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0A6D 120000      E     LCALL   ?C?PSTXDATA
0A70 900000      R     MOV     DPTR,#first_imu_parameter
0A73 E0                MOVX    A,@DPTR
0A74 FE                MOV     R6,A
0A75 A3                INC     DPTR
0A76 E0                MOVX    A,@DPTR
0A77 FF                MOV     R7,A
0A78 EF                MOV     A,R7
0A79 2500        R     ADD     A,i+01H
0A7B FF                MOV     R7,A
0A7C EE                MOV     A,R6
0A7D 3500        R     ADDC    A,i
0A7F FE                MOV     R6,A
0A80 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0A83 EE                MOV     A,R6
0A84 F0                MOVX    @DPTR,A
0A85 A3                INC     DPTR
0A86 EF                MOV     A,R7
0A87 F0                MOVX    @DPTR,A
0A88 AE00        R     MOV     R6,i
0A8A AF00        R     MOV     R7,i+01H
0A8C 7400        E     MOV     A,#LOW IMU_connected
0A8E 2F                ADD     A,R7
0A8F F582              MOV     DPL,A
0A91 7400        E     MOV     A,#HIGH IMU_connected
0A93 3E                ADDC    A,R6
0A94 F583              MOV     DPH,A
0A96 E0                MOVX    A,@DPTR
0A97 FF                MOV     R7,A
0A98 7E00              MOV     R6,#00H
0A9A 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
0A9D EE                MOV     A,R6
0A9E F0                MOVX    @DPTR,A
0A9F A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 49  

0AA0 EF                MOV     A,R7
0AA1 F0                MOVX    @DPTR,A
0AA2 D001              POP     AR1
0AA4 D002              POP     AR2
0AA6 D003              POP     AR3
0AA8 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 358
0AAB 7B01              MOV     R3,#01H
0AAD 7A00        R     MOV     R2,#HIGH imu_table_str
0AAF 7900        R     MOV     R1,#LOW imu_table_str
0AB1 120000      E     LCALL   _strlen
0AB4 8F00        R     MOV     imu_table_str_len,R7
                                           ; SOURCE LINE # 360
0AB6 900000      R     MOV     DPTR,#start_byte
0AB9 E0                MOVX    A,@DPTR
0ABA FE                MOV     R6,A
0ABB A3                INC     DPTR
0ABC E0                MOVX    A,@DPTR
0ABD FF                MOV     R7,A
0ABE AC00        R     MOV     R4,i
0AC0 AD00        R     MOV     R5,i+01H
0AC2 8D82              MOV     DPL,R5
0AC4 8C83              MOV     DPH,R4
0AC6 7432              MOV     A,#032H
0AC8 120000      E     LCALL   ?C?OFFX256
0ACB E582              MOV     A,DPL
0ACD 2F                ADD     A,R7
0ACE F582              MOV     DPL,A
0AD0 E583              MOV     A,DPH
0AD2 3E                ADDC    A,R6
0AD3 F583              MOV     DPH,A
0AD5 E582              MOV     A,DPL
0AD7 2400        R     ADD     A,#LOW packet_data+02H
0AD9 F582              MOV     DPL,A
0ADB E583              MOV     A,DPH
0ADD 3400        R     ADDC    A,#HIGH packet_data+02H
0ADF F583              MOV     DPH,A
0AE1 7402              MOV     A,#02H
0AE3 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 361
0AE4 900000      R     MOV     DPTR,#start_byte
0AE7 E0                MOVX    A,@DPTR
0AE8 FE                MOV     R6,A
0AE9 A3                INC     DPTR
0AEA E0                MOVX    A,@DPTR
0AEB FF                MOV     R7,A
0AEC AC00        R     MOV     R4,i
0AEE AD00        R     MOV     R5,i+01H
0AF0 8D82              MOV     DPL,R5
0AF2 8C83              MOV     DPH,R4
0AF4 7432              MOV     A,#032H
0AF6 120000      E     LCALL   ?C?OFFX256
0AF9 E582              MOV     A,DPL
0AFB 2F                ADD     A,R7
0AFC F582              MOV     DPL,A
0AFE E583              MOV     A,DPH
0B00 3E                ADDC    A,R6
0B01 F583              MOV     DPH,A
0B03 E582              MOV     A,DPL
0B05 2400        R     ADD     A,#LOW packet_data+03H
0B07 F582              MOV     DPL,A
0B09 E583              MOV     A,DPH
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 50  

0B0B 3400        R     ADDC    A,#HIGH packet_data+03H
0B0D F583              MOV     DPH,A
0B0F 7405              MOV     A,#05H
0B11 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 363
0B12 AE00        R     MOV     R6,i
0B14 AF00        R     MOV     R7,i+01H
0B16 7400        E     MOV     A,#LOW IMU_connected
0B18 2F                ADD     A,R7
0B19 F582              MOV     DPL,A
0B1B 7400        E     MOV     A,#HIGH IMU_connected
0B1D 3E                ADDC    A,R6
0B1E F583              MOV     DPH,A
0B20 E0                MOVX    A,@DPTR
0B21 FF                MOV     R7,A
0B22 EF                MOV     A,R7
0B23 75F005            MOV     B,#05H
0B26 A4                MUL     AB
0B27 2400        E     ADD     A,#LOW c_mem+04H
0B29 F582              MOV     DPL,A
0B2B E4                CLR     A
0B2C 3400        E     ADDC    A,#HIGH c_mem+04H
0B2E F583              MOV     DPH,A
0B30 E0                MOVX    A,@DPTR
0B31 FF                MOV     R7,A
0B32 900000      R     MOV     DPTR,#start_byte
0B35 E0                MOVX    A,@DPTR
0B36 FC                MOV     R4,A
0B37 A3                INC     DPTR
0B38 E0                MOVX    A,@DPTR
0B39 FD                MOV     R5,A
0B3A AA00        R     MOV     R2,i
0B3C AB00        R     MOV     R3,i+01H
0B3E 8B82              MOV     DPL,R3
0B40 8A83              MOV     DPH,R2
0B42 7432              MOV     A,#032H
0B44 120000      E     LCALL   ?C?OFFX256
0B47 E582              MOV     A,DPL
0B49 2D                ADD     A,R5
0B4A F582              MOV     DPL,A
0B4C E583              MOV     A,DPH
0B4E 3C                ADDC    A,R4
0B4F F583              MOV     DPH,A
0B51 E582              MOV     A,DPL
0B53 2400        R     ADD     A,#LOW packet_data+04H
0B55 F582              MOV     DPL,A
0B57 E583              MOV     A,DPH
0B59 3400        R     ADDC    A,#HIGH packet_data+04H
0B5B F583              MOV     DPH,A
0B5D EF                MOV     A,R7
0B5E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 364
0B5F AE00        R     MOV     R6,i
0B61 AF00        R     MOV     R7,i+01H
0B63 7400        E     MOV     A,#LOW IMU_connected
0B65 2F                ADD     A,R7
0B66 F582              MOV     DPL,A
0B68 7400        E     MOV     A,#HIGH IMU_connected
0B6A 3E                ADDC    A,R6
0B6B F583              MOV     DPH,A
0B6D E0                MOVX    A,@DPTR
0B6E FF                MOV     R7,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 51  

0B6F EF                MOV     A,R7
0B70 75F005            MOV     B,#05H
0B73 A4                MUL     AB
0B74 2400        E     ADD     A,#LOW c_mem+05H
0B76 F582              MOV     DPL,A
0B78 E4                CLR     A
0B79 3400        E     ADDC    A,#HIGH c_mem+05H
0B7B F583              MOV     DPH,A
0B7D E0                MOVX    A,@DPTR
0B7E FF                MOV     R7,A
0B7F 900000      R     MOV     DPTR,#start_byte
0B82 E0                MOVX    A,@DPTR
0B83 FC                MOV     R4,A
0B84 A3                INC     DPTR
0B85 E0                MOVX    A,@DPTR
0B86 FD                MOV     R5,A
0B87 AA00        R     MOV     R2,i
0B89 AB00        R     MOV     R3,i+01H
0B8B 8B82              MOV     DPL,R3
0B8D 8A83              MOV     DPH,R2
0B8F 7432              MOV     A,#032H
0B91 120000      E     LCALL   ?C?OFFX256
0B94 E582              MOV     A,DPL
0B96 2D                ADD     A,R5
0B97 F582              MOV     DPL,A
0B99 E583              MOV     A,DPH
0B9B 3C                ADDC    A,R4
0B9C F583              MOV     DPH,A
0B9E E582              MOV     A,DPL
0BA0 2400        R     ADD     A,#LOW packet_data+05H
0BA2 F582              MOV     DPL,A
0BA4 E583              MOV     A,DPH
0BA6 3400        R     ADDC    A,#HIGH packet_data+05H
0BA8 F583              MOV     DPH,A
0BAA EF                MOV     A,R7
0BAB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 365
0BAC AE00        R     MOV     R6,i
0BAE AF00        R     MOV     R7,i+01H
0BB0 7400        E     MOV     A,#LOW IMU_connected
0BB2 2F                ADD     A,R7
0BB3 F582              MOV     DPL,A
0BB5 7400        E     MOV     A,#HIGH IMU_connected
0BB7 3E                ADDC    A,R6
0BB8 F583              MOV     DPH,A
0BBA E0                MOVX    A,@DPTR
0BBB FF                MOV     R7,A
0BBC EF                MOV     A,R7
0BBD 75F005            MOV     B,#05H
0BC0 A4                MUL     AB
0BC1 2400        E     ADD     A,#LOW c_mem+06H
0BC3 F582              MOV     DPL,A
0BC5 E4                CLR     A
0BC6 3400        E     ADDC    A,#HIGH c_mem+06H
0BC8 F583              MOV     DPH,A
0BCA E0                MOVX    A,@DPTR
0BCB FF                MOV     R7,A
0BCC 900000      R     MOV     DPTR,#start_byte
0BCF E0                MOVX    A,@DPTR
0BD0 FC                MOV     R4,A
0BD1 A3                INC     DPTR
0BD2 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 52  

0BD3 FD                MOV     R5,A
0BD4 AA00        R     MOV     R2,i
0BD6 AB00        R     MOV     R3,i+01H
0BD8 8B82              MOV     DPL,R3
0BDA 8A83              MOV     DPH,R2
0BDC 7432              MOV     A,#032H
0BDE 120000      E     LCALL   ?C?OFFX256
0BE1 E582              MOV     A,DPL
0BE3 2D                ADD     A,R5
0BE4 F582              MOV     DPL,A
0BE6 E583              MOV     A,DPH
0BE8 3C                ADDC    A,R4
0BE9 F583              MOV     DPH,A
0BEB E582              MOV     A,DPL
0BED 2400        R     ADD     A,#LOW packet_data+06H
0BEF F582              MOV     DPL,A
0BF1 E583              MOV     A,DPH
0BF3 3400        R     ADDC    A,#HIGH packet_data+06H
0BF5 F583              MOV     DPH,A
0BF7 EF                MOV     A,R7
0BF8 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 366
0BF9 AE00        R     MOV     R6,i
0BFB AF00        R     MOV     R7,i+01H
0BFD 7400        E     MOV     A,#LOW IMU_connected
0BFF 2F                ADD     A,R7
0C00 F582              MOV     DPL,A
0C02 7400        E     MOV     A,#HIGH IMU_connected
0C04 3E                ADDC    A,R6
0C05 F583              MOV     DPH,A
0C07 E0                MOVX    A,@DPTR
0C08 FF                MOV     R7,A
0C09 EF                MOV     A,R7
0C0A 75F005            MOV     B,#05H
0C0D A4                MUL     AB
0C0E 2400        E     ADD     A,#LOW c_mem+07H
0C10 F582              MOV     DPL,A
0C12 E4                CLR     A
0C13 3400        E     ADDC    A,#HIGH c_mem+07H
0C15 F583              MOV     DPH,A
0C17 E0                MOVX    A,@DPTR
0C18 FF                MOV     R7,A
0C19 900000      R     MOV     DPTR,#start_byte
0C1C E0                MOVX    A,@DPTR
0C1D FC                MOV     R4,A
0C1E A3                INC     DPTR
0C1F E0                MOVX    A,@DPTR
0C20 FD                MOV     R5,A
0C21 AA00        R     MOV     R2,i
0C23 AB00        R     MOV     R3,i+01H
0C25 8B82              MOV     DPL,R3
0C27 8A83              MOV     DPH,R2
0C29 7432              MOV     A,#032H
0C2B 120000      E     LCALL   ?C?OFFX256
0C2E E582              MOV     A,DPL
0C30 2D                ADD     A,R5
0C31 F582              MOV     DPL,A
0C33 E583              MOV     A,DPH
0C35 3C                ADDC    A,R4
0C36 F583              MOV     DPH,A
0C38 E582              MOV     A,DPL
0C3A 2400        R     ADD     A,#LOW packet_data+07H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 53  

0C3C F582              MOV     DPL,A
0C3E E583              MOV     A,DPH
0C40 3400        R     ADDC    A,#HIGH packet_data+07H
0C42 F583              MOV     DPH,A
0C44 EF                MOV     A,R7
0C45 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 367
0C46 AE00        R     MOV     R6,i
0C48 AF00        R     MOV     R7,i+01H
0C4A 7400        E     MOV     A,#LOW IMU_connected
0C4C 2F                ADD     A,R7
0C4D F582              MOV     DPL,A
0C4F 7400        E     MOV     A,#HIGH IMU_connected
0C51 3E                ADDC    A,R6
0C52 F583              MOV     DPH,A
0C54 E0                MOVX    A,@DPTR
0C55 FF                MOV     R7,A
0C56 EF                MOV     A,R7
0C57 75F005            MOV     B,#05H
0C5A A4                MUL     AB
0C5B 2400        E     ADD     A,#LOW c_mem+08H
0C5D F582              MOV     DPL,A
0C5F E4                CLR     A
0C60 3400        E     ADDC    A,#HIGH c_mem+08H
0C62 F583              MOV     DPH,A
0C64 E0                MOVX    A,@DPTR
0C65 FF                MOV     R7,A
0C66 900000      R     MOV     DPTR,#start_byte
0C69 E0                MOVX    A,@DPTR
0C6A FC                MOV     R4,A
0C6B A3                INC     DPTR
0C6C E0                MOVX    A,@DPTR
0C6D FD                MOV     R5,A
0C6E AA00        R     MOV     R2,i
0C70 AB00        R     MOV     R3,i+01H
0C72 8B82              MOV     DPL,R3
0C74 8A83              MOV     DPH,R2
0C76 7432              MOV     A,#032H
0C78 120000      E     LCALL   ?C?OFFX256
0C7B E582              MOV     A,DPL
0C7D 2D                ADD     A,R5
0C7E F582              MOV     DPL,A
0C80 E583              MOV     A,DPH
0C82 3C                ADDC    A,R4
0C83 F583              MOV     DPH,A
0C85 E582              MOV     A,DPL
0C87 2400        R     ADD     A,#LOW packet_data+08H
0C89 F582              MOV     DPL,A
0C8B E583              MOV     A,DPH
0C8D 3400        R     ADDC    A,#HIGH packet_data+08H
0C8F F583              MOV     DPH,A
0C91 EF                MOV     A,R7
0C92 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 369
0C93 AF00        R     MOV     R7,imu_table_str_len
0C95 7E00              MOV     R6,#00H
0C97 8E00        R     MOV     j,R6
0C99 8F00        R     MOV     j+01H,R7
0C9B         ?C0065:
0C9B E500        R     MOV     A,j+01H
0C9D 4500        R     ORL     A,j
0C9F 605B              JZ      ?C0064
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 54  

                                           ; SOURCE LINE # 370
0CA1 AF00        R     MOV     R7,imu_table_str_len
0CA3 7E00              MOV     R6,#00H
0CA5 C3                CLR     C
0CA6 EF                MOV     A,R7
0CA7 9500        R     SUBB    A,j+01H
0CA9 FF                MOV     R7,A
0CAA EE                MOV     A,R6
0CAB 9500        R     SUBB    A,j
0CAD FE                MOV     R6,A
0CAE 7400        R     MOV     A,#LOW imu_table_str
0CB0 2F                ADD     A,R7
0CB1 F582              MOV     DPL,A
0CB3 7400        R     MOV     A,#HIGH imu_table_str
0CB5 3E                ADDC    A,R6
0CB6 F583              MOV     DPH,A
0CB8 E0                MOVX    A,@DPTR
0CB9 FB                MOV     R3,A
0CBA AE00        R     MOV     R6,i
0CBC AF00        R     MOV     R7,i+01H
0CBE 7C00              MOV     R4,#00H
0CC0 7D32              MOV     R5,#032H
0CC2 120000      E     LCALL   ?C?IMUL
0CC5 900000      R     MOV     DPTR,#start_byte
0CC8 E0                MOVX    A,@DPTR
0CC9 FC                MOV     R4,A
0CCA A3                INC     DPTR
0CCB E0                MOVX    A,@DPTR
0CCC FD                MOV     R5,A
0CCD EF                MOV     A,R7
0CCE 2D                ADD     A,R5
0CCF FF                MOV     R7,A
0CD0 EE                MOV     A,R6
0CD1 3C                ADDC    A,R4
0CD2 FE                MOV     R6,A
0CD3 AD00        R     MOV     R5,imu_table_str_len
0CD5 7C00              MOV     R4,#00H
0CD7 EF                MOV     A,R7
0CD8 2D                ADD     A,R5
0CD9 FF                MOV     R7,A
0CDA EE                MOV     A,R6
0CDB 3C                ADDC    A,R4
0CDC FE                MOV     R6,A
0CDD C3                CLR     C
0CDE EF                MOV     A,R7
0CDF 9500        R     SUBB    A,j+01H
0CE1 FF                MOV     R7,A
0CE2 EE                MOV     A,R6
0CE3 9500        R     SUBB    A,j
0CE5 FE                MOV     R6,A
0CE6 7400        R     MOV     A,#LOW packet_data+09H
0CE8 2F                ADD     A,R7
0CE9 F582              MOV     DPL,A
0CEB 7400        R     MOV     A,#HIGH packet_data+09H
0CED 3E                ADDC    A,R6
0CEE F583              MOV     DPH,A
0CF0 EB                MOV     A,R3
0CF1 F0                MOVX    @DPTR,A
0CF2 E500        R     MOV     A,j+01H
0CF4 1500        R     DEC     j+01H
0CF6 7002              JNZ     ?C0178
0CF8 1500        R     DEC     j
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 55  

0CFA         ?C0178:
0CFA 809F              SJMP    ?C0065
                                           ; SOURCE LINE # 371
0CFC         ?C0064:
0CFC 0500        R     INC     i+01H
0CFE E500        R     MOV     A,i+01H
0D00 7002              JNZ     ?C0179
0D02 0500        R     INC     i
0D04         ?C0179:
0D04 020000      R     LJMP    ?C0062
0D07         ?C0063:
                                           ; SOURCE LINE # 376
0D07 900000      E     MOV     DPTR,#N_IMU_Connected
0D0A E0                MOVX    A,@DPTR
0D0B FF                MOV     R7,A
0D0C 7E32              MOV     R6,#032H
0D0E EF                MOV     A,R7
0D0F 8EF0              MOV     B,R6
0D11 A4                MUL     AB
0D12 FF                MOV     R7,A
0D13 AEF0              MOV     R6,B
0D15 900000      R     MOV     DPTR,#start_byte
0D18 EE                MOV     A,R6
0D19 8FF0              MOV     B,R7
0D1B 120000      E     LCALL   ?C?IILDX
                                           ; SOURCE LINE # 377
0D1E 7B01              MOV     R3,#01H
0D20 7A00        R     MOV     R2,#HIGH spi_read_delay_str
0D22 7900        R     MOV     R1,#LOW spi_read_delay_str
0D24 C003              PUSH    AR3
0D26 C002              PUSH    AR2
0D28 C001              PUSH    AR1
0D2A 7BFF              MOV     R3,#0FFH
0D2C 7A00        R     MOV     R2,#HIGH ?SC_171
0D2E 7900        R     MOV     R1,#LOW ?SC_171
0D30 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0D33 120000      E     LCALL   ?C?PSTXDATA
0D36 900000      E     MOV     DPTR,#N_IMU_Connected
0D39 E0                MOVX    A,@DPTR
0D3A FF                MOV     R7,A
0D3B 7E00              MOV     R6,#00H
0D3D 900000      R     MOV     DPTR,#first_imu_parameter
0D40 E0                MOVX    A,@DPTR
0D41 FC                MOV     R4,A
0D42 A3                INC     DPTR
0D43 E0                MOVX    A,@DPTR
0D44 FD                MOV     R5,A
0D45 EF                MOV     A,R7
0D46 2D                ADD     A,R5
0D47 FF                MOV     R7,A
0D48 EE                MOV     A,R6
0D49 3C                ADDC    A,R4
0D4A FE                MOV     R6,A
0D4B 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0D4E EE                MOV     A,R6
0D4F F0                MOVX    @DPTR,A
0D50 A3                INC     DPTR
0D51 EF                MOV     A,R7
0D52 F0                MOVX    @DPTR,A
0D53 D001              POP     AR1
0D55 D002              POP     AR2
0D57 D003              POP     AR3
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 56  

0D59 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 378
0D5C 900000      R     MOV     DPTR,#start_byte
0D5F E0                MOVX    A,@DPTR
0D60 FE                MOV     R6,A
0D61 A3                INC     DPTR
0D62 E0                MOVX    A,@DPTR
0D63 FF                MOV     R7,A
0D64 7400        R     MOV     A,#LOW packet_data+02H
0D66 2F                ADD     A,R7
0D67 F582              MOV     DPL,A
0D69 7400        R     MOV     A,#HIGH packet_data+02H
0D6B 3E                ADDC    A,R6
0D6C F583              MOV     DPH,A
0D6E E4                CLR     A
0D6F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 379
0D70 900000      R     MOV     DPTR,#start_byte
0D73 E0                MOVX    A,@DPTR
0D74 FE                MOV     R6,A
0D75 A3                INC     DPTR
0D76 E0                MOVX    A,@DPTR
0D77 FF                MOV     R7,A
0D78 7400        R     MOV     A,#LOW packet_data+03H
0D7A 2F                ADD     A,R7
0D7B F582              MOV     DPL,A
0D7D 7400        R     MOV     A,#HIGH packet_data+03H
0D7F 3E                ADDC    A,R6
0D80 F583              MOV     DPH,A
0D82 7401              MOV     A,#01H
0D84 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 380
0D85 900000      E     MOV     DPTR,#c_mem+03H
0D88 E0                MOVX    A,@DPTR
0D89 FF                MOV     R7,A
0D8A 900000      R     MOV     DPTR,#start_byte
0D8D E0                MOVX    A,@DPTR
0D8E FC                MOV     R4,A
0D8F A3                INC     DPTR
0D90 E0                MOVX    A,@DPTR
0D91 FD                MOV     R5,A
0D92 7400        R     MOV     A,#LOW packet_data+04H
0D94 2D                ADD     A,R5
0D95 F582              MOV     DPL,A
0D97 7400        R     MOV     A,#HIGH packet_data+04H
0D99 3C                ADDC    A,R4
0D9A F583              MOV     DPH,A
0D9C EF                MOV     A,R7
0D9D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 381
0D9E 900000      E     MOV     DPTR,#c_mem+03H
0DA1 E0                MOVX    A,@DPTR
0DA2 FF                MOV     R7,A
0DA3 EF                MOV     A,R7
0DA4 120000      E     LCALL   ?C?CCASE
0DA7 0000        R     DW      ?C0069
0DA9 00                DB      00H
0DAA 0000        R     DW      ?C0070
0DAC 01                DB      01H
0DAD 0000        R     DW      ?C0071
0DAF 02                DB      02H
0DB0 0000              DW      00H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 57  

0DB2 0000        R     DW      ?C0068
                                           ; SOURCE LINE # 382
0DB4         ?C0069:
                                           ; SOURCE LINE # 383
0DB4 7B01              MOV     R3,#01H
0DB6 7A00        R     MOV     R2,#HIGH spi_read_delay_str
0DB8 7900        R     MOV     R1,#LOW spi_read_delay_str
0DBA C003              PUSH    AR3
0DBC C002              PUSH    AR2
0DBE C001              PUSH    AR1
0DC0 7BFF              MOV     R3,#0FFH
0DC2 7A00        R     MOV     R2,#HIGH ?SC_192
0DC4 7900        R     MOV     R1,#LOW ?SC_192
0DC6 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0DC9 120000      E     LCALL   ?C?PSTXDATA
0DCC D001              POP     AR1
0DCE D002              POP     AR2
0DD0 D003              POP     AR3
0DD2 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 384
0DD5 75001A      R     MOV     spi_read_delay_str_len,#01AH
                                           ; SOURCE LINE # 385
0DD8 804A              SJMP    ?C0068
                                           ; SOURCE LINE # 386
0DDA         ?C0070:
                                           ; SOURCE LINE # 387
0DDA 7B01              MOV     R3,#01H
0DDC 7A00        R     MOV     R2,#HIGH spi_read_delay_str
0DDE 7900        R     MOV     R1,#LOW spi_read_delay_str
0DE0 C003              PUSH    AR3
0DE2 C002              PUSH    AR2
0DE4 C001              PUSH    AR1
0DE6 7BFF              MOV     R3,#0FFH
0DE8 7A00        R     MOV     R2,#HIGH ?SC_198
0DEA 7900        R     MOV     R1,#LOW ?SC_198
0DEC 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0DEF 120000      E     LCALL   ?C?PSTXDATA
0DF2 D001              POP     AR1
0DF4 D002              POP     AR2
0DF6 D003              POP     AR3
0DF8 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 388
0DFB 750019      R     MOV     spi_read_delay_str_len,#019H
                                           ; SOURCE LINE # 389
0DFE 8024              SJMP    ?C0068
                                           ; SOURCE LINE # 390
0E00         ?C0071:
                                           ; SOURCE LINE # 391
0E00 7B01              MOV     R3,#01H
0E02 7A00        R     MOV     R2,#HIGH spi_read_delay_str
0E04 7900        R     MOV     R1,#LOW spi_read_delay_str
0E06 C003              PUSH    AR3
0E08 C002              PUSH    AR2
0E0A C001              PUSH    AR1
0E0C 7BFF              MOV     R3,#0FFH
0E0E 7A00        R     MOV     R2,#HIGH ?SC_203
0E10 7900        R     MOV     R1,#LOW ?SC_203
0E12 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0E15 120000      E     LCALL   ?C?PSTXDATA
0E18 D001              POP     AR1
0E1A D002              POP     AR2
0E1C D003              POP     AR3
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 58  

0E1E 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 392
0E21 75001A      R     MOV     spi_read_delay_str_len,#01AH
                                           ; SOURCE LINE # 393
                                           ; SOURCE LINE # 394
                                           ; SOURCE LINE # 395
                                           ; SOURCE LINE # 396
0E24         ?C0068:
                                           ; SOURCE LINE # 397
0E24 AF00        R     MOV     R7,spi_read_delay_str_len
0E26 7E00              MOV     R6,#00H
0E28 8E00        R     MOV     i,R6
0E2A 8F00        R     MOV     i+01H,R7
0E2C         ?C0073:
0E2C E500        R     MOV     A,i+01H
0E2E 4500        R     ORL     A,i
0E30 604C              JZ      ?C0074
                                           ; SOURCE LINE # 398
0E32 AF00        R     MOV     R7,spi_read_delay_str_len
0E34 7E00              MOV     R6,#00H
0E36 C3                CLR     C
0E37 EF                MOV     A,R7
0E38 9500        R     SUBB    A,i+01H
0E3A FF                MOV     R7,A
0E3B EE                MOV     A,R6
0E3C 9500        R     SUBB    A,i
0E3E FE                MOV     R6,A
0E3F 7400        R     MOV     A,#LOW spi_read_delay_str
0E41 2F                ADD     A,R7
0E42 F582              MOV     DPL,A
0E44 7400        R     MOV     A,#HIGH spi_read_delay_str
0E46 3E                ADDC    A,R6
0E47 F583              MOV     DPH,A
0E49 E0                MOVX    A,@DPTR
0E4A FF                MOV     R7,A
0E4B AE00        R     MOV     R6,spi_read_delay_str_len
0E4D EE                MOV     A,R6
0E4E FD                MOV     R5,A
0E4F 7C00              MOV     R4,#00H
0E51 900000      R     MOV     DPTR,#start_byte
0E54 E0                MOVX    A,@DPTR
0E55 FA                MOV     R2,A
0E56 A3                INC     DPTR
0E57 E0                MOVX    A,@DPTR
0E58 FB                MOV     R3,A
0E59 ED                MOV     A,R5
0E5A 2B                ADD     A,R3
0E5B FD                MOV     R5,A
0E5C EC                MOV     A,R4
0E5D 3A                ADDC    A,R2
0E5E FC                MOV     R4,A
0E5F C3                CLR     C
0E60 ED                MOV     A,R5
0E61 9500        R     SUBB    A,i+01H
0E63 FD                MOV     R5,A
0E64 EC                MOV     A,R4
0E65 9500        R     SUBB    A,i
0E67 FC                MOV     R4,A
0E68 7400        R     MOV     A,#LOW packet_data+05H
0E6A 2D                ADD     A,R5
0E6B F582              MOV     DPL,A
0E6D 7400        R     MOV     A,#HIGH packet_data+05H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 59  

0E6F 3C                ADDC    A,R4
0E70 F583              MOV     DPH,A
0E72 EF                MOV     A,R7
0E73 F0                MOVX    @DPTR,A
0E74 E500        R     MOV     A,i+01H
0E76 1500        R     DEC     i+01H
0E78 7002              JNZ     ?C0180
0E7A 1500        R     DEC     i
0E7C         ?C0180:
0E7C 80AE              SJMP    ?C0073
0E7E         ?C0074:
                                           ; SOURCE LINE # 400
0E7E AF00        R     MOV     R7,spi_read_delay_str_len
0E80 7E00              MOV     R6,#00H
0E82 900000      R     MOV     DPTR,#start_byte
0E85 E0                MOVX    A,@DPTR
0E86 FC                MOV     R4,A
0E87 A3                INC     DPTR
0E88 E0                MOVX    A,@DPTR
0E89 FD                MOV     R5,A
0E8A EF                MOV     A,R7
0E8B 2D                ADD     A,R5
0E8C FF                MOV     R7,A
0E8D EE                MOV     A,R6
0E8E 3C                ADDC    A,R4
0E8F FE                MOV     R6,A
0E90 7400        R     MOV     A,#LOW packet_data+05H
0E92 2F                ADD     A,R7
0E93 F582              MOV     DPL,A
0E95 7400        R     MOV     A,#HIGH packet_data+05H
0E97 3E                ADDC    A,R6
0E98 F583              MOV     DPH,A
0E9A 7401              MOV     A,#01H
0E9C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 404
0E9D 900000      R     MOV     DPTR,#start_byte
0EA0 E4                CLR     A
0EA1 75F032            MOV     B,#032H
0EA4 120000      E     LCALL   ?C?IILDX
                                           ; SOURCE LINE # 405
0EA7 AF00        R     MOV     R7,spi_delay_menu_len
0EA9 7E00              MOV     R6,#00H
0EAB 8E00        R     MOV     i,R6
0EAD 8F00        R     MOV     i+01H,R7
0EAF         ?C0076:
0EAF E500        R     MOV     A,i+01H
0EB1 4500        R     ORL     A,i
0EB3 604C              JZ      ?C0077
                                           ; SOURCE LINE # 406
0EB5 AF00        R     MOV     R7,spi_delay_menu_len
0EB7 7E00              MOV     R6,#00H
0EB9 C3                CLR     C
0EBA EF                MOV     A,R7
0EBB 9500        R     SUBB    A,i+01H
0EBD FF                MOV     R7,A
0EBE EE                MOV     A,R6
0EBF 9500        R     SUBB    A,i
0EC1 FE                MOV     R6,A
0EC2 7400        R     MOV     A,#LOW spi_delay_menu
0EC4 2F                ADD     A,R7
0EC5 F582              MOV     DPL,A
0EC7 7400        R     MOV     A,#HIGH spi_delay_menu
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 60  

0EC9 3E                ADDC    A,R6
0ECA F583              MOV     DPH,A
0ECC E0                MOVX    A,@DPTR
0ECD FF                MOV     R7,A
0ECE AE00        R     MOV     R6,spi_delay_menu_len
0ED0 EE                MOV     A,R6
0ED1 FD                MOV     R5,A
0ED2 7C00              MOV     R4,#00H
0ED4 900000      R     MOV     DPTR,#start_byte
0ED7 E0                MOVX    A,@DPTR
0ED8 FA                MOV     R2,A
0ED9 A3                INC     DPTR
0EDA E0                MOVX    A,@DPTR
0EDB FB                MOV     R3,A
0EDC ED                MOV     A,R5
0EDD 2B                ADD     A,R3
0EDE FD                MOV     R5,A
0EDF EC                MOV     A,R4
0EE0 3A                ADDC    A,R2
0EE1 FC                MOV     R4,A
0EE2 C3                CLR     C
0EE3 ED                MOV     A,R5
0EE4 9500        R     SUBB    A,i+01H
0EE6 FD                MOV     R5,A
0EE7 EC                MOV     A,R4
0EE8 9500        R     SUBB    A,i
0EEA FC                MOV     R4,A
0EEB 7400        R     MOV     A,#LOW packet_data+02H
0EED 2D                ADD     A,R5
0EEE F582              MOV     DPL,A
0EF0 7400        R     MOV     A,#HIGH packet_data+02H
0EF2 3C                ADDC    A,R4
0EF3 F583              MOV     DPH,A
0EF5 EF                MOV     A,R7
0EF6 F0                MOVX    @DPTR,A
0EF7 E500        R     MOV     A,i+01H
0EF9 1500        R     DEC     i+01H
0EFB 7002              JNZ     ?C0181
0EFD 1500        R     DEC     i
0EFF         ?C0181:
0EFF 80AE              SJMP    ?C0076
0F01         ?C0077:
                                           ; SOURCE LINE # 408
0F01 7B01              MOV     R3,#01H
0F03 7A00        R     MOV     R2,#HIGH packet_data
0F05 7900        R     MOV     R1,#LOW packet_data
0F07 900000      R     MOV     DPTR,#packet_length
0F0A E0                MOVX    A,@DPTR
0F0B FE                MOV     R6,A
0F0C A3                INC     DPTR
0F0D E0                MOVX    A,@DPTR
0F0E FF                MOV     R7,A
0F0F EF                MOV     A,R7
0F10 14                DEC     A
0F11 FD                MOV     R5,A
0F12 120000      R     LCALL   _LCRChecksum
0F15 900000      R     MOV     DPTR,#packet_length
0F18 E0                MOVX    A,@DPTR
0F19 FC                MOV     R4,A
0F1A A3                INC     DPTR
0F1B E0                MOVX    A,@DPTR
0F1C FD                MOV     R5,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 61  

0F1D 7400        R     MOV     A,#LOW packet_data+0FFFFH
0F1F 2D                ADD     A,R5
0F20 F582              MOV     DPL,A
0F22 7400        R     MOV     A,#HIGH packet_data+0FFFFH
0F24 3C                ADDC    A,R4
0F25 F583              MOV     DPH,A
0F27 EF                MOV     A,R7
0F28 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 409
0F29 7B01              MOV     R3,#01H
0F2B 7A00        R     MOV     R2,#HIGH packet_data
0F2D 7900        R     MOV     R1,#LOW packet_data
0F2F 900000      R     MOV     DPTR,#packet_length
0F32 E0                MOVX    A,@DPTR
0F33 FC                MOV     R4,A
0F34 A3                INC     DPTR
0F35 E0                MOVX    A,@DPTR
0F36 FD                MOV     R5,A
0F37 120000      R     LCALL   _commWrite
                                           ; SOURCE LINE # 410
0F3A 120000      E     LCALL   UART_RS485_ClearTxBuffer
                                           ; SOURCE LINE # 411
0F3D 22                RET     
                                           ; SOURCE LINE # 414
0F3E         ?C0079:
                                           ; SOURCE LINE # 416
0F3E 900000      R     MOV     DPTR,#first_imu_parameter
0F41 E0                MOVX    A,@DPTR
0F42 FE                MOV     R6,A
0F43 A3                INC     DPTR
0F44 E0                MOVX    A,@DPTR
0F45 FF                MOV     R7,A
0F46 EF                MOV     A,R7
0F47 24FF              ADD     A,#0FFH
0F49 FF                MOV     R7,A
0F4A EE                MOV     A,R6
0F4B 34FF              ADDC    A,#0FFH
0F4D FE                MOV     R6,A
0F4E 900000      R     MOV     DPTR,#index
0F51 E0                MOVX    A,@DPTR
0F52 FC                MOV     R4,A
0F53 A3                INC     DPTR
0F54 E0                MOVX    A,@DPTR
0F55 FD                MOV     R5,A
0F56 C3                CLR     C
0F57 ED                MOV     A,R5
0F58 9F                SUBB    A,R7
0F59 EC                MOV     A,R4
0F5A 9E                SUBB    A,R6
0F5B 5003              JNC     $ + 5H
0F5D 020000      R     LJMP    ?C0087
                                           ; SOURCE LINE # 417
0F60         ?C0080:
                                           ; SOURCE LINE # 419
0F60 900000      E     MOV     DPTR,#N_IMU_Connected
0F63 E0                MOVX    A,@DPTR
0F64 FF                MOV     R7,A
0F65 7E00              MOV     R6,#00H
0F67 900000      R     MOV     DPTR,#first_imu_parameter
0F6A E0                MOVX    A,@DPTR
0F6B FC                MOV     R4,A
0F6C A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 62  

0F6D E0                MOVX    A,@DPTR
0F6E FD                MOV     R5,A
0F6F EF                MOV     A,R7
0F70 2D                ADD     A,R5
0F71 FF                MOV     R7,A
0F72 EE                MOV     A,R6
0F73 3C                ADDC    A,R4
0F74 FE                MOV     R6,A
0F75 900000      R     MOV     DPTR,#index
0F78 E0                MOVX    A,@DPTR
0F79 FC                MOV     R4,A
0F7A A3                INC     DPTR
0F7B E0                MOVX    A,@DPTR
0F7C FD                MOV     R5,A
0F7D EF                MOV     A,R7
0F7E B5050F            CJNE    A,AR5,?C0081
0F81 EE                MOV     A,R6
0F82 B5040B            CJNE    A,AR4,?C0081
                                           ; SOURCE LINE # 420
0F85 900000      E     MOV     DPTR,#g_rx+03H
0F88 E0                MOVX    A,@DPTR
0F89 FF                MOV     R7,A
0F8A 900000      E     MOV     DPTR,#g_mem+03H
0F8D EF                MOV     A,R7
0F8E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 421
0F8F 22                RET     
                                           ; SOURCE LINE # 422
0F90         ?C0081:
                                           ; SOURCE LINE # 424
0F90 900000      R     MOV     DPTR,#first_imu_parameter
0F93 E0                MOVX    A,@DPTR
0F94 FE                MOV     R6,A
0F95 A3                INC     DPTR
0F96 E0                MOVX    A,@DPTR
0F97 FF                MOV     R7,A
0F98 EF                MOV     A,R7
0F99 24FF              ADD     A,#0FFH
0F9B FF                MOV     R7,A
0F9C EE                MOV     A,R6
0F9D 34FF              ADDC    A,#0FFH
0F9F FE                MOV     R6,A
0FA0 900000      R     MOV     DPTR,#index
0FA3 E0                MOVX    A,@DPTR
0FA4 FC                MOV     R4,A
0FA5 A3                INC     DPTR
0FA6 E0                MOVX    A,@DPTR
0FA7 FD                MOV     R5,A
0FA8 EF                MOV     A,R7
0FA9 B5050F            CJNE    A,AR5,?C0082
0FAC EE                MOV     A,R6
0FAD B5040B            CJNE    A,AR4,?C0082
                                           ; SOURCE LINE # 425
0FB0 900000      E     MOV     DPTR,#g_rx+03H
0FB3 E0                MOVX    A,@DPTR
0FB4 FF                MOV     R7,A
0FB5 900000      E     MOV     DPTR,#g_mem+01H
0FB8 EF                MOV     A,R7
0FB9 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 426
0FBA 22                RET     
0FBB         ?C0082:
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 63  

                                           ; SOURCE LINE # 427
                                           ; SOURCE LINE # 430
0FBB 900000      E     MOV     DPTR,#g_rx+03H
0FBE E0                MOVX    A,@DPTR
0FBF FF                MOV     R7,A
0FC0 900000      R     MOV     DPTR,#first_imu_parameter
0FC3 E0                MOVX    A,@DPTR
0FC4 FC                MOV     R4,A
0FC5 A3                INC     DPTR
0FC6 E0                MOVX    A,@DPTR
0FC7 FD                MOV     R5,A
0FC8 900000      R     MOV     DPTR,#index
0FCB E0                MOVX    A,@DPTR
0FCC FA                MOV     R2,A
0FCD A3                INC     DPTR
0FCE E0                MOVX    A,@DPTR
0FCF FB                MOV     R3,A
0FD0 C3                CLR     C
0FD1 EB                MOV     A,R3
0FD2 9D                SUBB    A,R5
0FD3 FD                MOV     R5,A
0FD4 EA                MOV     A,R2
0FD5 9C                SUBB    A,R4
0FD6 FC                MOV     R4,A
0FD7 7400        E     MOV     A,#LOW IMU_connected
0FD9 2D                ADD     A,R5
0FDA F582              MOV     DPL,A
0FDC 7400        E     MOV     A,#HIGH IMU_connected
0FDE 3C                ADDC    A,R4
0FDF F583              MOV     DPH,A
0FE1 E0                MOVX    A,@DPTR
0FE2 FE                MOV     R6,A
0FE3 EE                MOV     A,R6
0FE4 75F005            MOV     B,#05H
0FE7 A4                MUL     AB
0FE8 2400        E     ADD     A,#LOW g_mem+04H
0FEA F582              MOV     DPL,A
0FEC E4                CLR     A
0FED 3400        E     ADDC    A,#HIGH g_mem+04H
0FEF F583              MOV     DPH,A
0FF1 EF                MOV     A,R7
0FF2 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 431
0FF3 900000      E     MOV     DPTR,#g_rx+04H
0FF6 E0                MOVX    A,@DPTR
0FF7 FF                MOV     R7,A
0FF8 900000      R     MOV     DPTR,#first_imu_parameter
0FFB E0                MOVX    A,@DPTR
0FFC FC                MOV     R4,A
0FFD A3                INC     DPTR
0FFE E0                MOVX    A,@DPTR
0FFF FD                MOV     R5,A
1000 900000      R     MOV     DPTR,#index
1003 E0                MOVX    A,@DPTR
1004 FA                MOV     R2,A
1005 A3                INC     DPTR
1006 E0                MOVX    A,@DPTR
1007 FB                MOV     R3,A
1008 C3                CLR     C
1009 EB                MOV     A,R3
100A 9D                SUBB    A,R5
100B FD                MOV     R5,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 64  

100C EA                MOV     A,R2
100D 9C                SUBB    A,R4
100E FC                MOV     R4,A
100F 7400        E     MOV     A,#LOW IMU_connected
1011 2D                ADD     A,R5
1012 F582              MOV     DPL,A
1014 7400        E     MOV     A,#HIGH IMU_connected
1016 3C                ADDC    A,R4
1017 F583              MOV     DPH,A
1019 E0                MOVX    A,@DPTR
101A FE                MOV     R6,A
101B EE                MOV     A,R6
101C 75F005            MOV     B,#05H
101F A4                MUL     AB
1020 2400        E     ADD     A,#LOW g_mem+05H
1022 F582              MOV     DPL,A
1024 E4                CLR     A
1025 3400        E     ADDC    A,#HIGH g_mem+05H
1027 F583              MOV     DPH,A
1029 EF                MOV     A,R7
102A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 432
102B 900000      E     MOV     DPTR,#g_rx+05H
102E E0                MOVX    A,@DPTR
102F FF                MOV     R7,A
1030 900000      R     MOV     DPTR,#first_imu_parameter
1033 E0                MOVX    A,@DPTR
1034 FC                MOV     R4,A
1035 A3                INC     DPTR
1036 E0                MOVX    A,@DPTR
1037 FD                MOV     R5,A
1038 900000      R     MOV     DPTR,#index
103B E0                MOVX    A,@DPTR
103C FA                MOV     R2,A
103D A3                INC     DPTR
103E E0                MOVX    A,@DPTR
103F FB                MOV     R3,A
1040 C3                CLR     C
1041 EB                MOV     A,R3
1042 9D                SUBB    A,R5
1043 FD                MOV     R5,A
1044 EA                MOV     A,R2
1045 9C                SUBB    A,R4
1046 FC                MOV     R4,A
1047 7400        E     MOV     A,#LOW IMU_connected
1049 2D                ADD     A,R5
104A F582              MOV     DPL,A
104C 7400        E     MOV     A,#HIGH IMU_connected
104E 3C                ADDC    A,R4
104F F583              MOV     DPH,A
1051 E0                MOVX    A,@DPTR
1052 FE                MOV     R6,A
1053 EE                MOV     A,R6
1054 75F005            MOV     B,#05H
1057 A4                MUL     AB
1058 2400        E     ADD     A,#LOW g_mem+06H
105A F582              MOV     DPL,A
105C E4                CLR     A
105D 3400        E     ADDC    A,#HIGH g_mem+06H
105F F583              MOV     DPH,A
1061 EF                MOV     A,R7
1062 F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 65  

                                           ; SOURCE LINE # 433
1063 900000      E     MOV     DPTR,#g_rx+06H
1066 E0                MOVX    A,@DPTR
1067 FF                MOV     R7,A
1068 900000      R     MOV     DPTR,#first_imu_parameter
106B E0                MOVX    A,@DPTR
106C FC                MOV     R4,A
106D A3                INC     DPTR
106E E0                MOVX    A,@DPTR
106F FD                MOV     R5,A
1070 900000      R     MOV     DPTR,#index
1073 E0                MOVX    A,@DPTR
1074 FA                MOV     R2,A
1075 A3                INC     DPTR
1076 E0                MOVX    A,@DPTR
1077 FB                MOV     R3,A
1078 C3                CLR     C
1079 EB                MOV     A,R3
107A 9D                SUBB    A,R5
107B FD                MOV     R5,A
107C EA                MOV     A,R2
107D 9C                SUBB    A,R4
107E FC                MOV     R4,A
107F 7400        E     MOV     A,#LOW IMU_connected
1081 2D                ADD     A,R5
1082 F582              MOV     DPL,A
1084 7400        E     MOV     A,#HIGH IMU_connected
1086 3C                ADDC    A,R4
1087 F583              MOV     DPH,A
1089 E0                MOVX    A,@DPTR
108A FE                MOV     R6,A
108B EE                MOV     A,R6
108C 75F005            MOV     B,#05H
108F A4                MUL     AB
1090 2400        E     ADD     A,#LOW g_mem+07H
1092 F582              MOV     DPL,A
1094 E4                CLR     A
1095 3400        E     ADDC    A,#HIGH g_mem+07H
1097 F583              MOV     DPH,A
1099 EF                MOV     A,R7
109A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 434
109B 900000      E     MOV     DPTR,#g_rx+07H
109E E0                MOVX    A,@DPTR
109F FF                MOV     R7,A
10A0 900000      R     MOV     DPTR,#first_imu_parameter
10A3 E0                MOVX    A,@DPTR
10A4 FC                MOV     R4,A
10A5 A3                INC     DPTR
10A6 E0                MOVX    A,@DPTR
10A7 FD                MOV     R5,A
10A8 900000      R     MOV     DPTR,#index
10AB E0                MOVX    A,@DPTR
10AC FA                MOV     R2,A
10AD A3                INC     DPTR
10AE E0                MOVX    A,@DPTR
10AF FB                MOV     R3,A
10B0 C3                CLR     C
10B1 EB                MOV     A,R3
10B2 9D                SUBB    A,R5
10B3 FD                MOV     R5,A
10B4 EA                MOV     A,R2
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 66  

10B5 9C                SUBB    A,R4
10B6 FC                MOV     R4,A
10B7 7400        E     MOV     A,#LOW IMU_connected
10B9 2D                ADD     A,R5
10BA F582              MOV     DPL,A
10BC 7400        E     MOV     A,#HIGH IMU_connected
10BE 3C                ADDC    A,R4
10BF F583              MOV     DPH,A
10C1 E0                MOVX    A,@DPTR
10C2 FE                MOV     R6,A
10C3 EE                MOV     A,R6
10C4 75F005            MOV     B,#05H
10C7 A4                MUL     AB
10C8 2400        E     ADD     A,#LOW g_mem+08H
10CA F582              MOV     DPL,A
10CC E4                CLR     A
10CD 3400        E     ADDC    A,#HIGH g_mem+08H
10CF F583              MOV     DPH,A
10D1 EF                MOV     A,R7
10D2 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 437
10D3 900000      E     MOV     DPTR,#imus_data_size
10D6 E4                CLR     A
10D7 F0                MOVX    @DPTR,A
10D8 A3                INC     DPTR
10D9 7401              MOV     A,#01H
10DB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 438
10DC 750000      R     MOV     i,#00H
10DF 750000      R     MOV     i+01H,#00H
10E2         ?C0084:
10E2 900000      E     MOV     DPTR,#N_IMU_Connected
10E5 E0                MOVX    A,@DPTR
10E6 FF                MOV     R7,A
10E7 7E00              MOV     R6,#00H
10E9 C3                CLR     C
10EA E500        R     MOV     A,i+01H
10EC 9F                SUBB    A,R7
10ED E500        R     MOV     A,i
10EF 9E                SUBB    A,R6
10F0 4003              JC      $ + 5H
10F2 020000      R     LJMP    ?C0085
                                           ; SOURCE LINE # 439
                                           ; SOURCE LINE # 440
10F5 AE00        R     MOV     R6,i
10F7 AF00        R     MOV     R7,i+01H
10F9 7400        E     MOV     A,#LOW IMU_connected
10FB 2F                ADD     A,R7
10FC F582              MOV     DPL,A
10FE 7400        E     MOV     A,#HIGH IMU_connected
1100 3E                ADDC    A,R6
1101 F583              MOV     DPH,A
1103 E0                MOVX    A,@DPTR
1104 FF                MOV     R7,A
1105 EF                MOV     A,R7
1106 75F005            MOV     B,#05H
1109 A4                MUL     AB
110A 2400        E     ADD     A,#LOW g_mem+05H
110C F582              MOV     DPL,A
110E E4                CLR     A
110F 3400        E     ADDC    A,#HIGH g_mem+05H
1111 F583              MOV     DPH,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 67  

1113 E0                MOVX    A,@DPTR
1114 FF                MOV     R7,A
1115 EF                MOV     A,R7
1116 75F006            MOV     B,#06H
1119 A4                MUL     AB
111A FF                MOV     R7,A
111B AC00        R     MOV     R4,i
111D AD00        R     MOV     R5,i+01H
111F 7400        E     MOV     A,#LOW IMU_connected
1121 2D                ADD     A,R5
1122 F582              MOV     DPL,A
1124 7400        E     MOV     A,#HIGH IMU_connected
1126 3C                ADDC    A,R4
1127 F583              MOV     DPH,A
1129 E0                MOVX    A,@DPTR
112A FE                MOV     R6,A
112B EE                MOV     A,R6
112C 75F005            MOV     B,#05H
112F A4                MUL     AB
1130 2400        E     ADD     A,#LOW g_mem+04H
1132 F582              MOV     DPL,A
1134 E4                CLR     A
1135 3400        E     ADDC    A,#HIGH g_mem+04H
1137 F583              MOV     DPH,A
1139 E0                MOVX    A,@DPTR
113A FE                MOV     R6,A
113B EE                MOV     A,R6
113C 75F006            MOV     B,#06H
113F A4                MUL     AB
1140 FE                MOV     R6,A
1141 EE                MOV     A,R6
1142 2F                ADD     A,R7
1143 FF                MOV     R7,A
1144 AC00        R     MOV     R4,i
1146 AD00        R     MOV     R5,i+01H
1148 7400        E     MOV     A,#LOW IMU_connected
114A 2D                ADD     A,R5
114B F582              MOV     DPL,A
114D 7400        E     MOV     A,#HIGH IMU_connected
114F 3C                ADDC    A,R4
1150 F583              MOV     DPH,A
1152 E0                MOVX    A,@DPTR
1153 FE                MOV     R6,A
1154 EE                MOV     A,R6
1155 75F005            MOV     B,#05H
1158 A4                MUL     AB
1159 2400        E     ADD     A,#LOW g_mem+06H
115B F582              MOV     DPL,A
115D E4                CLR     A
115E 3400        E     ADDC    A,#HIGH g_mem+06H
1160 F583              MOV     DPH,A
1162 E0                MOVX    A,@DPTR
1163 FE                MOV     R6,A
1164 EE                MOV     A,R6
1165 75F006            MOV     B,#06H
1168 A4                MUL     AB
1169 FE                MOV     R6,A
116A EE                MOV     A,R6
116B 2F                ADD     A,R7
116C FF                MOV     R7,A
116D AC00        R     MOV     R4,i
116F AD00        R     MOV     R5,i+01H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 68  

1171 7400        E     MOV     A,#LOW IMU_connected
1173 2D                ADD     A,R5
1174 F582              MOV     DPL,A
1176 7400        E     MOV     A,#HIGH IMU_connected
1178 3C                ADDC    A,R4
1179 F583              MOV     DPH,A
117B E0                MOVX    A,@DPTR
117C FE                MOV     R6,A
117D EE                MOV     A,R6
117E 75F005            MOV     B,#05H
1181 A4                MUL     AB
1182 2400        E     ADD     A,#LOW g_mem+07H
1184 F582              MOV     DPL,A
1186 E4                CLR     A
1187 3400        E     ADDC    A,#HIGH g_mem+07H
1189 F583              MOV     DPH,A
118B E0                MOVX    A,@DPTR
118C FE                MOV     R6,A
118D EE                MOV     A,R6
118E C4                SWAP    A
118F 54F0              ANL     A,#0F0H
1191 FE                MOV     R6,A
1192 EE                MOV     A,R6
1193 2F                ADD     A,R7
1194 FF                MOV     R7,A
1195 AC00        R     MOV     R4,i
1197 AD00        R     MOV     R5,i+01H
1199 7400        E     MOV     A,#LOW IMU_connected
119B 2D                ADD     A,R5
119C F582              MOV     DPL,A
119E 7400        E     MOV     A,#HIGH IMU_connected
11A0 3C                ADDC    A,R4
11A1 F583              MOV     DPH,A
11A3 E0                MOVX    A,@DPTR
11A4 FE                MOV     R6,A
11A5 EE                MOV     A,R6
11A6 75F005            MOV     B,#05H
11A9 A4                MUL     AB
11AA 2400        E     ADD     A,#LOW g_mem+08H
11AC F582              MOV     DPL,A
11AE E4                CLR     A
11AF 3400        E     ADDC    A,#HIGH g_mem+08H
11B1 F583              MOV     DPH,A
11B3 E0                MOVX    A,@DPTR
11B4 FE                MOV     R6,A
11B5 EE                MOV     A,R6
11B6 25E0              ADD     A,ACC
11B8 FE                MOV     R6,A
11B9 EE                MOV     A,R6
11BA 2F                ADD     A,R7
11BB FF                MOV     R7,A
11BC EF                MOV     A,R7
11BD 2402              ADD     A,#02H
11BF FF                MOV     R7,A
11C0 7E00              MOV     R6,#00H
11C2 AC00        R     MOV     R4,i
11C4 AD00        R     MOV     R5,i+01H
11C6 7400        E     MOV     A,#LOW IMU_connected
11C8 2D                ADD     A,R5
11C9 F582              MOV     DPL,A
11CB 7400        E     MOV     A,#HIGH IMU_connected
11CD 3C                ADDC    A,R4
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 69  

11CE F583              MOV     DPH,A
11D0 E0                MOVX    A,@DPTR
11D1 FD                MOV     R5,A
11D2 ED                MOV     A,R5
11D3 25E0              ADD     A,ACC
11D5 2400        E     ADD     A,#LOW single_imu_size
11D7 F582              MOV     DPL,A
11D9 E4                CLR     A
11DA 3400        E     ADDC    A,#HIGH single_imu_size
11DC F583              MOV     DPH,A
11DE EE                MOV     A,R6
11DF F0                MOVX    @DPTR,A
11E0 A3                INC     DPTR
11E1 EF                MOV     A,R7
11E2 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 441
11E3 AE00        R     MOV     R6,i
11E5 AF00        R     MOV     R7,i+01H
11E7 7400        E     MOV     A,#LOW IMU_connected
11E9 2F                ADD     A,R7
11EA F582              MOV     DPL,A
11EC 7400        E     MOV     A,#HIGH IMU_connected
11EE 3E                ADDC    A,R6
11EF F583              MOV     DPH,A
11F1 E0                MOVX    A,@DPTR
11F2 FF                MOV     R7,A
11F3 EF                MOV     A,R7
11F4 25E0              ADD     A,ACC
11F6 2400        E     ADD     A,#LOW single_imu_size
11F8 F582              MOV     DPL,A
11FA E4                CLR     A
11FB 3400        E     ADDC    A,#HIGH single_imu_size
11FD F583              MOV     DPH,A
11FF E0                MOVX    A,@DPTR
1200 FE                MOV     R6,A
1201 A3                INC     DPTR
1202 E0                MOVX    A,@DPTR
1203 FF                MOV     R7,A
1204 900000      E     MOV     DPTR,#imus_data_size
1207 EE                MOV     A,R6
1208 8FF0              MOV     B,R7
120A 120000      E     LCALL   ?C?IILDX
                                           ; SOURCE LINE # 442
120D 0500        R     INC     i+01H
120F E500        R     MOV     A,i+01H
1211 7002              JNZ     ?C0184
1213 0500        R     INC     i
1215         ?C0184:
1215 020000      R     LJMP    ?C0084
1218         ?C0085:
                                           ; SOURCE LINE # 443
1218 900000      E     MOV     DPTR,#imus_data_size
121B E4                CLR     A
121C 75F001            MOV     B,#01H
121F 120000      E     LCALL   ?C?IILDX
                                           ; SOURCE LINE # 445
                                           ; SOURCE LINE # 447
                                           ; SOURCE LINE # 448
                                           ; SOURCE LINE # 449
1222         ?C0087:
1222 22                RET     
             ; FUNCTION _get_param_list (END)
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 70  


             ; FUNCTION _infoPrepare (BEGIN)
                                           ; SOURCE LINE # 456
0000 900000      R     MOV     DPTR,#info_string
0003 120000      E     LCALL   ?C?PSTXDATA
                                           ; SOURCE LINE # 457
                                           ; SOURCE LINE # 460
0006 900000      E     MOV     DPTR,#c_mem+01H
0009 E0                MOVX    A,@DPTR
000A FF                MOV     R7,A
000B EF                MOV     A,R7
000C 64FA              XRL     A,#0FAH
000E 7003              JNZ     $ + 5H
0010 020000      R     LJMP    ?C0102
                                           ; SOURCE LINE # 461
0013 7BFF              MOV     R3,#0FFH
0015 7A00        R     MOV     R2,#HIGH ?SC_209
0017 7900        R     MOV     R1,#LOW ?SC_209
0019 C003              PUSH    AR3
001B C002              PUSH    AR2
001D C001              PUSH    AR1
001F 900000      R     MOV     DPTR,#info_string
0022 120000      E     LCALL   ?C?PLDXDATA
0025 A801              MOV     R0,AR1
0027 AC02              MOV     R4,AR2
0029 AD03              MOV     R5,AR3
002B D001              POP     AR1
002D D002              POP     AR2
002F D003              POP     AR3
0031 120000      E     LCALL   ?C?STRCPYAMD
                                           ; SOURCE LINE # 462
0034 900000      R     MOV     DPTR,#info_string
0037 120000      E     LCALL   ?C?PLDXDATA
003A C003              PUSH    AR3
003C C002              PUSH    AR2
003E C001              PUSH    AR1
0040 7BFF              MOV     R3,#0FFH
0042 7A00        R     MOV     R2,#HIGH ?SC_210
0044 7900        R     MOV     R1,#LOW ?SC_210
0046 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0049 120000      E     LCALL   ?C?PSTXDATA
004C D001              POP     AR1
004E D002              POP     AR2
0050 D003              POP     AR3
0052 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 463
0055 900000      R     MOV     DPTR,#info_string
0058 120000      E     LCALL   ?C?PLDXDATA
005B C003              PUSH    AR3
005D C002              PUSH    AR2
005F C001              PUSH    AR1
0061 7BFF              MOV     R3,#0FFH
0063 7A00        R     MOV     R2,#HIGH ?SC_213
0065 7900        R     MOV     R1,#LOW ?SC_213
0067 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
006A 120000      E     LCALL   ?C?PSTXDATA
006D D001              POP     AR1
006F D002              POP     AR2
0071 D003              POP     AR3
0073 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 467
0076 900000      R     MOV     DPTR,#info_string
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 71  

0079 120000      E     LCALL   ?C?PLDXDATA
007C C003              PUSH    AR3
007E C002              PUSH    AR2
0080 C001              PUSH    AR1
0082 7BFF              MOV     R3,#0FFH
0084 7A00        R     MOV     R2,#HIGH ?SC_232
0086 7900        R     MOV     R1,#LOW ?SC_232
0088 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
008B 120000      E     LCALL   ?C?PSTXDATA
008E D001              POP     AR1
0090 D002              POP     AR2
0092 D003              POP     AR3
0094 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 469
0097 900000      R     MOV     DPTR,#info_string
009A 120000      E     LCALL   ?C?PLDXDATA
009D C003              PUSH    AR3
009F C002              PUSH    AR2
00A1 C001              PUSH    AR1
00A3 7BFF              MOV     R3,#0FFH
00A5 7A00        R     MOV     R2,#HIGH ?SC_249
00A7 7900        R     MOV     R1,#LOW ?SC_249
00A9 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
00AC 120000      E     LCALL   ?C?PSTXDATA
00AF D001              POP     AR1
00B1 D002              POP     AR2
00B3 D003              POP     AR3
00B5 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 471
00B8 900000      R     MOV     DPTR,#info_string
00BB 120000      E     LCALL   ?C?PLDXDATA
00BE C003              PUSH    AR3
00C0 C002              PUSH    AR2
00C2 C001              PUSH    AR1
00C4 7BFF              MOV     R3,#0FFH
00C6 7A00        R     MOV     R2,#HIGH ?SC_254
00C8 7900        R     MOV     R1,#LOW ?SC_254
00CA 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
00CD 120000      E     LCALL   ?C?PSTXDATA
00D0 D001              POP     AR1
00D2 D002              POP     AR2
00D4 D003              POP     AR3
00D6 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 472
00D9 7B01              MOV     R3,#01H
00DB 7A00        R     MOV     R2,#HIGH str
00DD 7900        R     MOV     R1,#LOW str
00DF C003              PUSH    AR3
00E1 C002              PUSH    AR2
00E3 C001              PUSH    AR1
00E5 7BFF              MOV     R3,#0FFH
00E7 7A00        R     MOV     R2,#HIGH ?SC_268
00E9 7900        R     MOV     R1,#LOW ?SC_268
00EB 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
00EE 120000      E     LCALL   ?C?PSTXDATA
00F1 900000      E     MOV     DPTR,#c_mem+01H
00F4 E0                MOVX    A,@DPTR
00F5 FF                MOV     R7,A
00F6 7E00              MOV     R6,#00H
00F8 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
00FB EE                MOV     A,R6
00FC F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 72  

00FD A3                INC     DPTR
00FE EF                MOV     A,R7
00FF F0                MOVX    @DPTR,A
0100 D001              POP     AR1
0102 D002              POP     AR2
0104 D003              POP     AR3
0106 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 473
0109 900000      R     MOV     DPTR,#info_string
010C 120000      E     LCALL   ?C?PLDXDATA
010F C003              PUSH    AR3
0111 C002              PUSH    AR2
0113 C001              PUSH    AR1
0115 7B01              MOV     R3,#01H
0117 7A00        R     MOV     R2,#HIGH str
0119 7900        R     MOV     R1,#LOW str
011B 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
011E 120000      E     LCALL   ?C?PSTXDATA
0121 D001              POP     AR1
0123 D002              POP     AR2
0125 D003              POP     AR3
0127 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 478
012A 900000      R     MOV     DPTR,#info_string
012D 120000      E     LCALL   ?C?PLDXDATA
0130 C003              PUSH    AR3
0132 C002              PUSH    AR2
0134 C001              PUSH    AR1
0136 7BFF              MOV     R3,#0FFH
0138 7A00        R     MOV     R2,#HIGH ?SC_277
013A 7900        R     MOV     R1,#LOW ?SC_277
013C 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
013F 120000      E     LCALL   ?C?PSTXDATA
0142 D001              POP     AR1
0144 D002              POP     AR2
0146 D003              POP     AR3
0148 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 481
014B 7B01              MOV     R3,#01H
014D 7A00        R     MOV     R2,#HIGH str
014F 7900        R     MOV     R1,#LOW str
0151 C003              PUSH    AR3
0153 C002              PUSH    AR2
0155 C001              PUSH    AR1
0157 7BFF              MOV     R3,#0FFH
0159 7A00        R     MOV     R2,#HIGH ?SC_331
015B 7900        R     MOV     R1,#LOW ?SC_331
015D 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0160 120000      E     LCALL   ?C?PSTXDATA
0163 900000      E     MOV     DPTR,#N_IMU_Connected
0166 E0                MOVX    A,@DPTR
0167 FF                MOV     R7,A
0168 7E00              MOV     R6,#00H
016A 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
016D EE                MOV     A,R6
016E F0                MOVX    @DPTR,A
016F A3                INC     DPTR
0170 EF                MOV     A,R7
0171 F0                MOVX    @DPTR,A
0172 D001              POP     AR1
0174 D002              POP     AR2
0176 D003              POP     AR3
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 73  

0178 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 482
017B 900000      R     MOV     DPTR,#info_string
017E 120000      E     LCALL   ?C?PLDXDATA
0181 C003              PUSH    AR3
0183 C002              PUSH    AR2
0185 C001              PUSH    AR1
0187 7B01              MOV     R3,#01H
0189 7A00        R     MOV     R2,#HIGH str
018B 7900        R     MOV     R1,#LOW str
018D 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0190 120000      E     LCALL   ?C?PSTXDATA
0193 D001              POP     AR1
0195 D002              POP     AR2
0197 D003              POP     AR3
0199 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 484
019C 900000      R     MOV     DPTR,#info_string
019F 120000      E     LCALL   ?C?PLDXDATA
01A2 C003              PUSH    AR3
01A4 C002              PUSH    AR2
01A6 C001              PUSH    AR1
01A8 7BFF              MOV     R3,#0FFH
01AA 7A00        R     MOV     R2,#HIGH ?SC_210
01AC 7900        R     MOV     R1,#LOW ?SC_210
01AE 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
01B1 120000      E     LCALL   ?C?PSTXDATA
01B4 D001              POP     AR1
01B6 D002              POP     AR2
01B8 D003              POP     AR3
01BA 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 486
01BD 900000      R     MOV     DPTR,#info_string
01C0 120000      E     LCALL   ?C?PLDXDATA
01C3 C003              PUSH    AR3
01C5 C002              PUSH    AR2
01C7 C001              PUSH    AR1
01C9 7BFF              MOV     R3,#0FFH
01CB 7A00        R     MOV     R2,#HIGH ?SC_351
01CD 7900        R     MOV     R1,#LOW ?SC_351
01CF 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
01D2 120000      E     LCALL   ?C?PSTXDATA
01D5 D001              POP     AR1
01D7 D002              POP     AR2
01D9 D003              POP     AR3
01DB 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 487
01DE 900000      R     MOV     DPTR,#i
01E1 E4                CLR     A
01E2 F0                MOVX    @DPTR,A
01E3 A3                INC     DPTR
01E4 E4                CLR     A
01E5 F0                MOVX    @DPTR,A
01E6         ?C0089:
01E6 900000      E     MOV     DPTR,#N_IMU_Connected
01E9 E0                MOVX    A,@DPTR
01EA FF                MOV     R7,A
01EB 7E00              MOV     R6,#00H
01ED 900000      R     MOV     DPTR,#i
01F0 E0                MOVX    A,@DPTR
01F1 FC                MOV     R4,A
01F2 A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 74  

01F3 E0                MOVX    A,@DPTR
01F4 FD                MOV     R5,A
01F5 C3                CLR     C
01F6 ED                MOV     A,R5
01F7 9F                SUBB    A,R7
01F8 EE                MOV     A,R6
01F9 6480              XRL     A,#080H
01FB F8                MOV     R0,A
01FC EC                MOV     A,R4
01FD 6480              XRL     A,#080H
01FF 98                SUBB    A,R0
0200 4003              JC      $ + 5H
0202 020000      R     LJMP    ?C0090
                                           ; SOURCE LINE # 488
0205 7B01              MOV     R3,#01H
0207 7A00        R     MOV     R2,#HIGH str
0209 7900        R     MOV     R1,#LOW str
020B C003              PUSH    AR3
020D C002              PUSH    AR2
020F C001              PUSH    AR1
0211 7BFF              MOV     R3,#0FFH
0213 7A00        R     MOV     R2,#HIGH ?SC_372
0215 7900        R     MOV     R1,#LOW ?SC_372
0217 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
021A 120000      E     LCALL   ?C?PSTXDATA
021D 900000      R     MOV     DPTR,#i
0220 E0                MOVX    A,@DPTR
0221 FE                MOV     R6,A
0222 A3                INC     DPTR
0223 E0                MOVX    A,@DPTR
0224 FF                MOV     R7,A
0225 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0228 EE                MOV     A,R6
0229 F0                MOVX    @DPTR,A
022A A3                INC     DPTR
022B EF                MOV     A,R7
022C F0                MOVX    @DPTR,A
022D 900000      R     MOV     DPTR,#i
0230 E0                MOVX    A,@DPTR
0231 FE                MOV     R6,A
0232 A3                INC     DPTR
0233 E0                MOVX    A,@DPTR
0234 FF                MOV     R7,A
0235 7400        E     MOV     A,#LOW IMU_connected
0237 2F                ADD     A,R7
0238 F582              MOV     DPL,A
023A 7400        E     MOV     A,#HIGH IMU_connected
023C 3E                ADDC    A,R6
023D F583              MOV     DPH,A
023F E0                MOVX    A,@DPTR
0240 FF                MOV     R7,A
0241 7E00              MOV     R6,#00H
0243 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
0246 EE                MOV     A,R6
0247 F0                MOVX    @DPTR,A
0248 A3                INC     DPTR
0249 EF                MOV     A,R7
024A F0                MOVX    @DPTR,A
024B D001              POP     AR1
024D D002              POP     AR2
024F D003              POP     AR3
0251 120000      E     LCALL   _sprintf
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 75  

                                           ; SOURCE LINE # 489
0254 900000      R     MOV     DPTR,#info_string
0257 120000      E     LCALL   ?C?PLDXDATA
025A C003              PUSH    AR3
025C C002              PUSH    AR2
025E C001              PUSH    AR1
0260 7B01              MOV     R3,#01H
0262 7A00        R     MOV     R2,#HIGH str
0264 7900        R     MOV     R1,#LOW str
0266 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0269 120000      E     LCALL   ?C?PSTXDATA
026C D001              POP     AR1
026E D002              POP     AR2
0270 D003              POP     AR3
0272 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 491
0275 7B01              MOV     R3,#01H
0277 7A00        R     MOV     R2,#HIGH str
0279 7900        R     MOV     R1,#LOW str
027B C003              PUSH    AR3
027D C002              PUSH    AR2
027F C001              PUSH    AR1
0281 7BFF              MOV     R3,#0FFH
0283 7A00        R     MOV     R2,#HIGH ?SC_391
0285 7900        R     MOV     R1,#LOW ?SC_391
0287 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
028A 120000      E     LCALL   ?C?PSTXDATA
028D D001              POP     AR1
028F D002              POP     AR2
0291 D003              POP     AR3
0293 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 492
0296 900000      R     MOV     DPTR,#i
0299 E0                MOVX    A,@DPTR
029A FE                MOV     R6,A
029B A3                INC     DPTR
029C E0                MOVX    A,@DPTR
029D FF                MOV     R7,A
029E 7400        E     MOV     A,#LOW IMU_connected
02A0 2F                ADD     A,R7
02A1 F582              MOV     DPL,A
02A3 7400        E     MOV     A,#HIGH IMU_connected
02A5 3E                ADDC    A,R6
02A6 F583              MOV     DPH,A
02A8 E0                MOVX    A,@DPTR
02A9 FF                MOV     R7,A
02AA EF                MOV     A,R7
02AB 75F005            MOV     B,#05H
02AE A4                MUL     AB
02AF 2400        E     ADD     A,#LOW c_mem+04H
02B1 F582              MOV     DPL,A
02B3 E4                CLR     A
02B4 3400        E     ADDC    A,#HIGH c_mem+04H
02B6 F583              MOV     DPH,A
02B8 E0                MOVX    A,@DPTR
02B9 FF                MOV     R7,A
02BA EF                MOV     A,R7
02BB 6023              JZ      ?C0092
                                           ; SOURCE LINE # 493
02BD 7B01              MOV     R3,#01H
02BF 7A00        R     MOV     R2,#HIGH str
02C1 7900        R     MOV     R1,#LOW str
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 76  

02C3 C003              PUSH    AR3
02C5 C002              PUSH    AR2
02C7 C001              PUSH    AR1
02C9 7BFF              MOV     R3,#0FFH
02CB 7A00        R     MOV     R2,#HIGH ?SC_409
02CD 7900        R     MOV     R1,#LOW ?SC_409
02CF 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
02D2 120000      E     LCALL   ?C?PSTXDATA
02D5 D001              POP     AR1
02D7 D002              POP     AR2
02D9 D003              POP     AR3
02DB 120000      E     LCALL   _strcat
02DE 8021              SJMP    ?C0093
02E0         ?C0092:
                                           ; SOURCE LINE # 495
02E0 7B01              MOV     R3,#01H
02E2 7A00        R     MOV     R2,#HIGH str
02E4 7900        R     MOV     R1,#LOW str
02E6 C003              PUSH    AR3
02E8 C002              PUSH    AR2
02EA C001              PUSH    AR1
02EC 7BFF              MOV     R3,#0FFH
02EE 7A00        R     MOV     R2,#HIGH ?SC_415
02F0 7900        R     MOV     R1,#LOW ?SC_415
02F2 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
02F5 120000      E     LCALL   ?C?PSTXDATA
02F8 D001              POP     AR1
02FA D002              POP     AR2
02FC D003              POP     AR3
02FE 120000      E     LCALL   _strcat
0301         ?C0093:
                                           ; SOURCE LINE # 496
0301 7B01              MOV     R3,#01H
0303 7A00        R     MOV     R2,#HIGH str
0305 7900        R     MOV     R1,#LOW str
0307 C003              PUSH    AR3
0309 C002              PUSH    AR2
030B C001              PUSH    AR1
030D 7BFF              MOV     R3,#0FFH
030F 7A00        R     MOV     R2,#HIGH ?SC_420
0311 7900        R     MOV     R1,#LOW ?SC_420
0313 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0316 120000      E     LCALL   ?C?PSTXDATA
0319 D001              POP     AR1
031B D002              POP     AR2
031D D003              POP     AR3
031F 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 497
0322 900000      R     MOV     DPTR,#i
0325 E0                MOVX    A,@DPTR
0326 FE                MOV     R6,A
0327 A3                INC     DPTR
0328 E0                MOVX    A,@DPTR
0329 FF                MOV     R7,A
032A 7400        E     MOV     A,#LOW IMU_connected
032C 2F                ADD     A,R7
032D F582              MOV     DPL,A
032F 7400        E     MOV     A,#HIGH IMU_connected
0331 3E                ADDC    A,R6
0332 F583              MOV     DPH,A
0334 E0                MOVX    A,@DPTR
0335 FF                MOV     R7,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 77  

0336 EF                MOV     A,R7
0337 75F005            MOV     B,#05H
033A A4                MUL     AB
033B 2400        E     ADD     A,#LOW c_mem+05H
033D F582              MOV     DPL,A
033F E4                CLR     A
0340 3400        E     ADDC    A,#HIGH c_mem+05H
0342 F583              MOV     DPH,A
0344 E0                MOVX    A,@DPTR
0345 FF                MOV     R7,A
0346 EF                MOV     A,R7
0347 6023              JZ      ?C0094
                                           ; SOURCE LINE # 498
0349 7B01              MOV     R3,#01H
034B 7A00        R     MOV     R2,#HIGH str
034D 7900        R     MOV     R1,#LOW str
034F C003              PUSH    AR3
0351 C002              PUSH    AR2
0353 C001              PUSH    AR1
0355 7BFF              MOV     R3,#0FFH
0357 7A00        R     MOV     R2,#HIGH ?SC_409
0359 7900        R     MOV     R1,#LOW ?SC_409
035B 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
035E 120000      E     LCALL   ?C?PSTXDATA
0361 D001              POP     AR1
0363 D002              POP     AR2
0365 D003              POP     AR3
0367 120000      E     LCALL   _strcat
036A 8021              SJMP    ?C0095
036C         ?C0094:
                                           ; SOURCE LINE # 500
036C 7B01              MOV     R3,#01H
036E 7A00        R     MOV     R2,#HIGH str
0370 7900        R     MOV     R1,#LOW str
0372 C003              PUSH    AR3
0374 C002              PUSH    AR2
0376 C001              PUSH    AR1
0378 7BFF              MOV     R3,#0FFH
037A 7A00        R     MOV     R2,#HIGH ?SC_415
037C 7900        R     MOV     R1,#LOW ?SC_415
037E 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0381 120000      E     LCALL   ?C?PSTXDATA
0384 D001              POP     AR1
0386 D002              POP     AR2
0388 D003              POP     AR3
038A 120000      E     LCALL   _strcat
038D         ?C0095:
                                           ; SOURCE LINE # 501
038D 7B01              MOV     R3,#01H
038F 7A00        R     MOV     R2,#HIGH str
0391 7900        R     MOV     R1,#LOW str
0393 C003              PUSH    AR3
0395 C002              PUSH    AR2
0397 C001              PUSH    AR1
0399 7BFF              MOV     R3,#0FFH
039B 7A00        R     MOV     R2,#HIGH ?SC_434
039D 7900        R     MOV     R1,#LOW ?SC_434
039F 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
03A2 120000      E     LCALL   ?C?PSTXDATA
03A5 D001              POP     AR1
03A7 D002              POP     AR2
03A9 D003              POP     AR3
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 78  

03AB 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 502
03AE 900000      R     MOV     DPTR,#i
03B1 E0                MOVX    A,@DPTR
03B2 FE                MOV     R6,A
03B3 A3                INC     DPTR
03B4 E0                MOVX    A,@DPTR
03B5 FF                MOV     R7,A
03B6 7400        E     MOV     A,#LOW IMU_connected
03B8 2F                ADD     A,R7
03B9 F582              MOV     DPL,A
03BB 7400        E     MOV     A,#HIGH IMU_connected
03BD 3E                ADDC    A,R6
03BE F583              MOV     DPH,A
03C0 E0                MOVX    A,@DPTR
03C1 FF                MOV     R7,A
03C2 EF                MOV     A,R7
03C3 75F005            MOV     B,#05H
03C6 A4                MUL     AB
03C7 2400        E     ADD     A,#LOW c_mem+06H
03C9 F582              MOV     DPL,A
03CB E4                CLR     A
03CC 3400        E     ADDC    A,#HIGH c_mem+06H
03CE F583              MOV     DPH,A
03D0 E0                MOVX    A,@DPTR
03D1 FF                MOV     R7,A
03D2 EF                MOV     A,R7
03D3 6023              JZ      ?C0096
                                           ; SOURCE LINE # 503
03D5 7B01              MOV     R3,#01H
03D7 7A00        R     MOV     R2,#HIGH str
03D9 7900        R     MOV     R1,#LOW str
03DB C003              PUSH    AR3
03DD C002              PUSH    AR2
03DF C001              PUSH    AR1
03E1 7BFF              MOV     R3,#0FFH
03E3 7A00        R     MOV     R2,#HIGH ?SC_409
03E5 7900        R     MOV     R1,#LOW ?SC_409
03E7 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
03EA 120000      E     LCALL   ?C?PSTXDATA
03ED D001              POP     AR1
03EF D002              POP     AR2
03F1 D003              POP     AR3
03F3 120000      E     LCALL   _strcat
03F6 8021              SJMP    ?C0097
03F8         ?C0096:
                                           ; SOURCE LINE # 505
03F8 7B01              MOV     R3,#01H
03FA 7A00        R     MOV     R2,#HIGH str
03FC 7900        R     MOV     R1,#LOW str
03FE C003              PUSH    AR3
0400 C002              PUSH    AR2
0402 C001              PUSH    AR1
0404 7BFF              MOV     R3,#0FFH
0406 7A00        R     MOV     R2,#HIGH ?SC_415
0408 7900        R     MOV     R1,#LOW ?SC_415
040A 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
040D 120000      E     LCALL   ?C?PSTXDATA
0410 D001              POP     AR1
0412 D002              POP     AR2
0414 D003              POP     AR3
0416 120000      E     LCALL   _strcat
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 79  

0419         ?C0097:
                                           ; SOURCE LINE # 506
0419 7B01              MOV     R3,#01H
041B 7A00        R     MOV     R2,#HIGH str
041D 7900        R     MOV     R1,#LOW str
041F C003              PUSH    AR3
0421 C002              PUSH    AR2
0423 C001              PUSH    AR1
0425 7BFF              MOV     R3,#0FFH
0427 7A00        R     MOV     R2,#HIGH ?SC_451
0429 7900        R     MOV     R1,#LOW ?SC_451
042B 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
042E 120000      E     LCALL   ?C?PSTXDATA
0431 D001              POP     AR1
0433 D002              POP     AR2
0435 D003              POP     AR3
0437 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 507
043A 900000      R     MOV     DPTR,#i
043D E0                MOVX    A,@DPTR
043E FE                MOV     R6,A
043F A3                INC     DPTR
0440 E0                MOVX    A,@DPTR
0441 FF                MOV     R7,A
0442 7400        E     MOV     A,#LOW IMU_connected
0444 2F                ADD     A,R7
0445 F582              MOV     DPL,A
0447 7400        E     MOV     A,#HIGH IMU_connected
0449 3E                ADDC    A,R6
044A F583              MOV     DPH,A
044C E0                MOVX    A,@DPTR
044D FF                MOV     R7,A
044E EF                MOV     A,R7
044F 75F005            MOV     B,#05H
0452 A4                MUL     AB
0453 2400        E     ADD     A,#LOW c_mem+07H
0455 F582              MOV     DPL,A
0457 E4                CLR     A
0458 3400        E     ADDC    A,#HIGH c_mem+07H
045A F583              MOV     DPH,A
045C E0                MOVX    A,@DPTR
045D FF                MOV     R7,A
045E EF                MOV     A,R7
045F 6023              JZ      ?C0098
                                           ; SOURCE LINE # 508
0461 7B01              MOV     R3,#01H
0463 7A00        R     MOV     R2,#HIGH str
0465 7900        R     MOV     R1,#LOW str
0467 C003              PUSH    AR3
0469 C002              PUSH    AR2
046B C001              PUSH    AR1
046D 7BFF              MOV     R3,#0FFH
046F 7A00        R     MOV     R2,#HIGH ?SC_409
0471 7900        R     MOV     R1,#LOW ?SC_409
0473 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0476 120000      E     LCALL   ?C?PSTXDATA
0479 D001              POP     AR1
047B D002              POP     AR2
047D D003              POP     AR3
047F 120000      E     LCALL   _strcat
0482 8021              SJMP    ?C0099
0484         ?C0098:
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 80  

                                           ; SOURCE LINE # 510
0484 7B01              MOV     R3,#01H
0486 7A00        R     MOV     R2,#HIGH str
0488 7900        R     MOV     R1,#LOW str
048A C003              PUSH    AR3
048C C002              PUSH    AR2
048E C001              PUSH    AR1
0490 7BFF              MOV     R3,#0FFH
0492 7A00        R     MOV     R2,#HIGH ?SC_415
0494 7900        R     MOV     R1,#LOW ?SC_415
0496 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0499 120000      E     LCALL   ?C?PSTXDATA
049C D001              POP     AR1
049E D002              POP     AR2
04A0 D003              POP     AR3
04A2 120000      E     LCALL   _strcat
04A5         ?C0099:
                                           ; SOURCE LINE # 511
04A5 7B01              MOV     R3,#01H
04A7 7A00        R     MOV     R2,#HIGH str
04A9 7900        R     MOV     R1,#LOW str
04AB C003              PUSH    AR3
04AD C002              PUSH    AR2
04AF C001              PUSH    AR1
04B1 7BFF              MOV     R3,#0FFH
04B3 7A00        R     MOV     R2,#HIGH ?SC_465
04B5 7900        R     MOV     R1,#LOW ?SC_465
04B7 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
04BA 120000      E     LCALL   ?C?PSTXDATA
04BD D001              POP     AR1
04BF D002              POP     AR2
04C1 D003              POP     AR3
04C3 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 512
04C6 900000      R     MOV     DPTR,#i
04C9 E0                MOVX    A,@DPTR
04CA FE                MOV     R6,A
04CB A3                INC     DPTR
04CC E0                MOVX    A,@DPTR
04CD FF                MOV     R7,A
04CE 7400        E     MOV     A,#LOW IMU_connected
04D0 2F                ADD     A,R7
04D1 F582              MOV     DPL,A
04D3 7400        E     MOV     A,#HIGH IMU_connected
04D5 3E                ADDC    A,R6
04D6 F583              MOV     DPH,A
04D8 E0                MOVX    A,@DPTR
04D9 FF                MOV     R7,A
04DA EF                MOV     A,R7
04DB 75F005            MOV     B,#05H
04DE A4                MUL     AB
04DF 2400        E     ADD     A,#LOW c_mem+08H
04E1 F582              MOV     DPL,A
04E3 E4                CLR     A
04E4 3400        E     ADDC    A,#HIGH c_mem+08H
04E6 F583              MOV     DPH,A
04E8 E0                MOVX    A,@DPTR
04E9 FF                MOV     R7,A
04EA EF                MOV     A,R7
04EB 6023              JZ      ?C0100
                                           ; SOURCE LINE # 513
04ED 7B01              MOV     R3,#01H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 81  

04EF 7A00        R     MOV     R2,#HIGH str
04F1 7900        R     MOV     R1,#LOW str
04F3 C003              PUSH    AR3
04F5 C002              PUSH    AR2
04F7 C001              PUSH    AR1
04F9 7BFF              MOV     R3,#0FFH
04FB 7A00        R     MOV     R2,#HIGH ?SC_409
04FD 7900        R     MOV     R1,#LOW ?SC_409
04FF 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0502 120000      E     LCALL   ?C?PSTXDATA
0505 D001              POP     AR1
0507 D002              POP     AR2
0509 D003              POP     AR3
050B 120000      E     LCALL   _strcat
050E 8021              SJMP    ?C0101
0510         ?C0100:
                                           ; SOURCE LINE # 515
0510 7B01              MOV     R3,#01H
0512 7A00        R     MOV     R2,#HIGH str
0514 7900        R     MOV     R1,#LOW str
0516 C003              PUSH    AR3
0518 C002              PUSH    AR2
051A C001              PUSH    AR1
051C 7BFF              MOV     R3,#0FFH
051E 7A00        R     MOV     R2,#HIGH ?SC_415
0520 7900        R     MOV     R1,#LOW ?SC_415
0522 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0525 120000      E     LCALL   ?C?PSTXDATA
0528 D001              POP     AR1
052A D002              POP     AR2
052C D003              POP     AR3
052E 120000      E     LCALL   _strcat
0531         ?C0101:
                                           ; SOURCE LINE # 517
0531 900000      R     MOV     DPTR,#info_string
0534 120000      E     LCALL   ?C?PLDXDATA
0537 C003              PUSH    AR3
0539 C002              PUSH    AR2
053B C001              PUSH    AR1
053D 7B01              MOV     R3,#01H
053F 7A00        R     MOV     R2,#HIGH str
0541 7900        R     MOV     R1,#LOW str
0543 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0546 120000      E     LCALL   ?C?PSTXDATA
0549 D001              POP     AR1
054B D002              POP     AR2
054D D003              POP     AR3
054F 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 518
0552 900000      R     MOV     DPTR,#i
0555 E4                CLR     A
0556 75F001            MOV     B,#01H
0559 120000      E     LCALL   ?C?IILDX
055C 020000      R     LJMP    ?C0089
055F         ?C0090:
                                           ; SOURCE LINE # 520
055F 900000      R     MOV     DPTR,#info_string
0562 120000      E     LCALL   ?C?PLDXDATA
0565 C003              PUSH    AR3
0567 C002              PUSH    AR2
0569 C001              PUSH    AR1
056B 7BFF              MOV     R3,#0FFH
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 82  

056D 7A00        R     MOV     R2,#HIGH ?SC_210
056F 7900        R     MOV     R1,#LOW ?SC_210
0571 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0574 120000      E     LCALL   ?C?PSTXDATA
0577 D001              POP     AR1
0579 D002              POP     AR2
057B D003              POP     AR3
057D 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 522
0580 7B01              MOV     R3,#01H
0582 7A00        R     MOV     R2,#HIGH str
0584 7900        R     MOV     R1,#LOW str
0586 C003              PUSH    AR3
0588 C002              PUSH    AR2
058A C001              PUSH    AR1
058C 7BFF              MOV     R3,#0FFH
058E 7A00        R     MOV     R2,#HIGH ?SC_480
0590 7900        R     MOV     R1,#LOW ?SC_480
0592 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0595 120000      E     LCALL   ?C?PSTXDATA
0598 900000      E     MOV     DPTR,#timer_value
059B 120000      E     LCALL   ?C?LLDXDATA0
059E 900000      E     MOV     DPTR,#timer_value0
05A1 120000      E     LCALL   ?C?LLDXDATA
05A4 120000      E     LCALL   ?C?LSUB
05A7 E4                CLR     A
05A8 120000      E     LCALL   ?C?FCASTL
05AB 7B00              MOV     R3,#00H
05AD 7A00              MOV     R2,#00H
05AF 797A              MOV     R1,#07AH
05B1 7844              MOV     R0,#044H
05B3 120000      E     LCALL   ?C?FPDIV
05B6 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
05B9 120000      E     LCALL   ?C?LSTXDATA
05BC D001              POP     AR1
05BE D002              POP     AR2
05C0 D003              POP     AR3
05C2 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 523
05C5 900000      R     MOV     DPTR,#info_string
05C8 120000      E     LCALL   ?C?PLDXDATA
05CB C003              PUSH    AR3
05CD C002              PUSH    AR2
05CF C001              PUSH    AR1
05D1 7B01              MOV     R3,#01H
05D3 7A00        R     MOV     R2,#HIGH str
05D5 7900        R     MOV     R1,#LOW str
05D7 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
05DA 120000      E     LCALL   ?C?PSTXDATA
05DD D001              POP     AR1
05DF D002              POP     AR2
05E1 D003              POP     AR3
05E3 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 524
05E6 900000      R     MOV     DPTR,#info_string
05E9 120000      E     LCALL   ?C?PLDXDATA
05EC C003              PUSH    AR3
05EE C002              PUSH    AR2
05F0 C001              PUSH    AR1
05F2 7BFF              MOV     R3,#0FFH
05F4 7A00        R     MOV     R2,#HIGH ?SC_210
05F6 7900        R     MOV     R1,#LOW ?SC_210
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 83  

05F8 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
05FB 120000      E     LCALL   ?C?PSTXDATA
05FE D001              POP     AR1
0600 D002              POP     AR2
0602 D003              POP     AR3
0604 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 525
0607 900000      R     MOV     DPTR,#info_string
060A 120000      E     LCALL   ?C?PLDXDATA
060D C003              PUSH    AR3
060F C002              PUSH    AR2
0611 C001              PUSH    AR1
0613 7BFF              MOV     R3,#0FFH
0615 7A00        R     MOV     R2,#HIGH ?SC_210
0617 7900        R     MOV     R1,#LOW ?SC_210
0619 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
061C 120000      E     LCALL   ?C?PSTXDATA
061F D001              POP     AR1
0621 D002              POP     AR2
0623 D003              POP     AR3
0625 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 527
0628 7B01              MOV     R3,#01H
062A 7A00        R     MOV     R2,#HIGH str
062C 7900        R     MOV     R1,#LOW str
062E C003              PUSH    AR3
0630 C002              PUSH    AR2
0632 C001              PUSH    AR1
0634 7BFF              MOV     R3,#0FFH
0636 7A00        R     MOV     R2,#HIGH ?SC_521
0638 7900        R     MOV     R1,#LOW ?SC_521
063A 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
063D 120000      E     LCALL   ?C?PSTXDATA
0640 900000      E     MOV     DPTR,#timer_value
0643 120000      E     LCALL   ?C?LLDXDATA0
0646 900000      E     MOV     DPTR,#timer_value0
0649 120000      E     LCALL   ?C?LLDXDATA
064C 120000      E     LCALL   ?C?LSUB
064F 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0652 120000      E     LCALL   ?C?LSTXDATA
0655 D001              POP     AR1
0657 D002              POP     AR2
0659 D003              POP     AR3
065B 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 528
065E 900000      R     MOV     DPTR,#info_string
0661 120000      E     LCALL   ?C?PLDXDATA
0664 C003              PUSH    AR3
0666 C002              PUSH    AR2
0668 C001              PUSH    AR1
066A 7B01              MOV     R3,#01H
066C 7A00        R     MOV     R2,#HIGH str
066E 7900        R     MOV     R1,#LOW str
0670 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0673 120000      E     LCALL   ?C?PSTXDATA
0676 D001              POP     AR1
0678 D002              POP     AR2
067A D003              POP     AR3
067C 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 529
067F 900000      R     MOV     DPTR,#info_string
0682 120000      E     LCALL   ?C?PLDXDATA
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 84  

0685 C003              PUSH    AR3
0687 C002              PUSH    AR2
0689 C001              PUSH    AR1
068B 7BFF              MOV     R3,#0FFH
068D 7A00        R     MOV     R2,#HIGH ?SC_210
068F 7900        R     MOV     R1,#LOW ?SC_210
0691 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0694 120000      E     LCALL   ?C?PSTXDATA
0697 D001              POP     AR1
0699 D002              POP     AR2
069B D003              POP     AR3
069D 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 530
06A0 900000      R     MOV     DPTR,#info_string
06A3 120000      E     LCALL   ?C?PLDXDATA
06A6 C003              PUSH    AR3
06A8 C002              PUSH    AR2
06AA C001              PUSH    AR1
06AC 7BFF              MOV     R3,#0FFH
06AE 7A00        R     MOV     R2,#HIGH ?SC_210
06B0 7900        R     MOV     R1,#LOW ?SC_210
06B2 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
06B5 120000      E     LCALL   ?C?PSTXDATA
06B8 D001              POP     AR1
06BA D002              POP     AR2
06BC D003              POP     AR3
06BE 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 531
                                           ; SOURCE LINE # 532
06C1         ?C0102:
06C1 22                RET     
             ; FUNCTION _infoPrepare (END)

             ; FUNCTION _infoReading (BEGIN)
                                           ; SOURCE LINE # 535
0000 900000      R     MOV     DPTR,#info_string
0003 120000      E     LCALL   ?C?PSTXDATA
                                           ; SOURCE LINE # 536
                                           ; SOURCE LINE # 540
0006 7BFF              MOV     R3,#0FFH
0008 7A00        R     MOV     R2,#HIGH ?SC_209
000A 7900        R     MOV     R1,#LOW ?SC_209
000C C003              PUSH    AR3
000E C002              PUSH    AR2
0010 C001              PUSH    AR1
0012 900000      R     MOV     DPTR,#info_string
0015 120000      E     LCALL   ?C?PLDXDATA
0018 A801              MOV     R0,AR1
001A AC02              MOV     R4,AR2
001C AD03              MOV     R5,AR3
001E D001              POP     AR1
0020 D002              POP     AR2
0022 D003              POP     AR3
0024 120000      E     LCALL   ?C?STRCPYAMD
                                           ; SOURCE LINE # 541
0027 900000      R     MOV     DPTR,#info_string
002A 120000      E     LCALL   ?C?PLDXDATA
002D C003              PUSH    AR3
002F C002              PUSH    AR2
0031 C001              PUSH    AR1
0033 7BFF              MOV     R3,#0FFH
0035 7A00        R     MOV     R2,#HIGH ?SC_210
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 85  

0037 7900        R     MOV     R1,#LOW ?SC_210
0039 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
003C 120000      E     LCALL   ?C?PSTXDATA
003F D001              POP     AR1
0041 D002              POP     AR2
0043 D003              POP     AR3
0045 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 542
0048 900000      R     MOV     DPTR,#info_string
004B 120000      E     LCALL   ?C?PLDXDATA
004E C003              PUSH    AR3
0050 C002              PUSH    AR2
0052 C001              PUSH    AR1
0054 7BFF              MOV     R3,#0FFH
0056 7A00        R     MOV     R2,#HIGH ?SC_532
0058 7900        R     MOV     R1,#LOW ?SC_532
005A 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
005D 120000      E     LCALL   ?C?PSTXDATA
0060 D001              POP     AR1
0062 D002              POP     AR2
0064 D003              POP     AR3
0066 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 543
0069 900000      R     MOV     DPTR,#i
006C E4                CLR     A
006D F0                MOVX    @DPTR,A
006E A3                INC     DPTR
006F E4                CLR     A
0070 F0                MOVX    @DPTR,A
0071         ?C0103:
0071 900000      E     MOV     DPTR,#N_IMU_Connected
0074 E0                MOVX    A,@DPTR
0075 FF                MOV     R7,A
0076 7E00              MOV     R6,#00H
0078 900000      R     MOV     DPTR,#i
007B E0                MOVX    A,@DPTR
007C FC                MOV     R4,A
007D A3                INC     DPTR
007E E0                MOVX    A,@DPTR
007F FD                MOV     R5,A
0080 C3                CLR     C
0081 ED                MOV     A,R5
0082 9F                SUBB    A,R7
0083 EE                MOV     A,R6
0084 6480              XRL     A,#080H
0086 F8                MOV     R0,A
0087 EC                MOV     A,R4
0088 6480              XRL     A,#080H
008A 98                SUBB    A,R0
008B 4003              JC      $ + 5H
008D 020000      R     LJMP    ?C0111
                                           ; SOURCE LINE # 544
0090 7B01              MOV     R3,#01H
0092 7A00        R     MOV     R2,#HIGH str
0094 7900        R     MOV     R1,#LOW str
0096 C003              PUSH    AR3
0098 C002              PUSH    AR2
009A C001              PUSH    AR1
009C 7BFF              MOV     R3,#0FFH
009E 7A00        R     MOV     R2,#HIGH ?SC_372
00A0 7900        R     MOV     R1,#LOW ?SC_372
00A2 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 86  

00A5 120000      E     LCALL   ?C?PSTXDATA
00A8 900000      R     MOV     DPTR,#i
00AB E0                MOVX    A,@DPTR
00AC FE                MOV     R6,A
00AD A3                INC     DPTR
00AE E0                MOVX    A,@DPTR
00AF FF                MOV     R7,A
00B0 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
00B3 EE                MOV     A,R6
00B4 F0                MOVX    @DPTR,A
00B5 A3                INC     DPTR
00B6 EF                MOV     A,R7
00B7 F0                MOVX    @DPTR,A
00B8 900000      R     MOV     DPTR,#i
00BB E0                MOVX    A,@DPTR
00BC FE                MOV     R6,A
00BD A3                INC     DPTR
00BE E0                MOVX    A,@DPTR
00BF FF                MOV     R7,A
00C0 7400        E     MOV     A,#LOW IMU_connected
00C2 2F                ADD     A,R7
00C3 F582              MOV     DPL,A
00C5 7400        E     MOV     A,#HIGH IMU_connected
00C7 3E                ADDC    A,R6
00C8 F583              MOV     DPH,A
00CA E0                MOVX    A,@DPTR
00CB FF                MOV     R7,A
00CC 7E00              MOV     R6,#00H
00CE 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
00D1 EE                MOV     A,R6
00D2 F0                MOVX    @DPTR,A
00D3 A3                INC     DPTR
00D4 EF                MOV     A,R7
00D5 F0                MOVX    @DPTR,A
00D6 D001              POP     AR1
00D8 D002              POP     AR2
00DA D003              POP     AR3
00DC 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 545
00DF 900000      R     MOV     DPTR,#info_string
00E2 120000      E     LCALL   ?C?PLDXDATA
00E5 C003              PUSH    AR3
00E7 C002              PUSH    AR2
00E9 C001              PUSH    AR1
00EB 7B01              MOV     R3,#01H
00ED 7A00        R     MOV     R2,#HIGH str
00EF 7900        R     MOV     R1,#LOW str
00F1 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
00F4 120000      E     LCALL   ?C?PSTXDATA
00F7 D001              POP     AR1
00F9 D002              POP     AR2
00FB D003              POP     AR3
00FD 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 547
0100 900000      R     MOV     DPTR,#i
0103 E0                MOVX    A,@DPTR
0104 FE                MOV     R6,A
0105 A3                INC     DPTR
0106 E0                MOVX    A,@DPTR
0107 FF                MOV     R7,A
0108 7400        E     MOV     A,#LOW IMU_connected
010A 2F                ADD     A,R7
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 87  

010B F582              MOV     DPL,A
010D 7400        E     MOV     A,#HIGH IMU_connected
010F 3E                ADDC    A,R6
0110 F583              MOV     DPH,A
0112 E0                MOVX    A,@DPTR
0113 FF                MOV     R7,A
0114 EF                MOV     A,R7
0115 75F005            MOV     B,#05H
0118 A4                MUL     AB
0119 2400        E     ADD     A,#LOW c_mem+04H
011B F582              MOV     DPL,A
011D E4                CLR     A
011E 3400        E     ADDC    A,#HIGH c_mem+04H
0120 F583              MOV     DPH,A
0122 E0                MOVX    A,@DPTR
0123 FF                MOV     R7,A
0124 EF                MOV     A,R7
0125 7003              JNZ     $ + 5H
0127 020000      R     LJMP    ?C0106
                                           ; SOURCE LINE # 548
012A 7B01              MOV     R3,#01H
012C 7A00        R     MOV     R2,#HIGH str
012E 7900        R     MOV     R1,#LOW str
0130 C003              PUSH    AR3
0132 C002              PUSH    AR2
0134 C001              PUSH    AR1
0136 7BFF              MOV     R3,#0FFH
0138 7A00        R     MOV     R2,#HIGH ?SC_547
013A 7900        R     MOV     R1,#LOW ?SC_547
013C 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
013F 120000      E     LCALL   ?C?PSTXDATA
0142 900000      R     MOV     DPTR,#i
0145 E0                MOVX    A,@DPTR
0146 FE                MOV     R6,A
0147 A3                INC     DPTR
0148 E0                MOVX    A,@DPTR
0149 FF                MOV     R7,A
014A 900000      E     MOV     DPTR,#g_imu+01H
014D 75F025            MOV     B,#025H
0150 EF                MOV     A,R7
0151 120000      E     LCALL   ?C?OFFXADD
0154 EE                MOV     A,R6
0155 75F025            MOV     B,#025H
0158 A4                MUL     AB
0159 2583              ADD     A,DPH
015B F583              MOV     DPH,A
015D E0                MOVX    A,@DPTR
015E FE                MOV     R6,A
015F A3                INC     DPTR
0160 E0                MOVX    A,@DPTR
0161 FF                MOV     R7,A
0162 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0165 EE                MOV     A,R6
0166 F0                MOVX    @DPTR,A
0167 A3                INC     DPTR
0168 EF                MOV     A,R7
0169 F0                MOVX    @DPTR,A
016A 900000      R     MOV     DPTR,#i
016D E0                MOVX    A,@DPTR
016E FE                MOV     R6,A
016F A3                INC     DPTR
0170 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 88  

0171 FF                MOV     R7,A
0172 900000      E     MOV     DPTR,#g_imu+03H
0175 75F025            MOV     B,#025H
0178 EF                MOV     A,R7
0179 120000      E     LCALL   ?C?OFFXADD
017C EE                MOV     A,R6
017D 75F025            MOV     B,#025H
0180 A4                MUL     AB
0181 2583              ADD     A,DPH
0183 F583              MOV     DPH,A
0185 E0                MOVX    A,@DPTR
0186 FE                MOV     R6,A
0187 A3                INC     DPTR
0188 E0                MOVX    A,@DPTR
0189 FF                MOV     R7,A
018A 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
018D EE                MOV     A,R6
018E F0                MOVX    @DPTR,A
018F A3                INC     DPTR
0190 EF                MOV     A,R7
0191 F0                MOVX    @DPTR,A
0192 900000      R     MOV     DPTR,#i
0195 E0                MOVX    A,@DPTR
0196 FE                MOV     R6,A
0197 A3                INC     DPTR
0198 E0                MOVX    A,@DPTR
0199 FF                MOV     R7,A
019A 900000      E     MOV     DPTR,#g_imu+05H
019D 75F025            MOV     B,#025H
01A0 EF                MOV     A,R7
01A1 120000      E     LCALL   ?C?OFFXADD
01A4 EE                MOV     A,R6
01A5 75F025            MOV     B,#025H
01A8 A4                MUL     AB
01A9 2583              ADD     A,DPH
01AB F583              MOV     DPH,A
01AD E0                MOVX    A,@DPTR
01AE FE                MOV     R6,A
01AF A3                INC     DPTR
01B0 E0                MOVX    A,@DPTR
01B1 FF                MOV     R7,A
01B2 900000      E     MOV     DPTR,#?_sprintf?BYTE+0AH
01B5 EE                MOV     A,R6
01B6 F0                MOVX    @DPTR,A
01B7 A3                INC     DPTR
01B8 EF                MOV     A,R7
01B9 F0                MOVX    @DPTR,A
01BA D001              POP     AR1
01BC D002              POP     AR2
01BE D003              POP     AR3
01C0 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 549
01C3 900000      R     MOV     DPTR,#info_string
01C6 120000      E     LCALL   ?C?PLDXDATA
01C9 C003              PUSH    AR3
01CB C002              PUSH    AR2
01CD C001              PUSH    AR1
01CF 7B01              MOV     R3,#01H
01D1 7A00        R     MOV     R2,#HIGH str
01D3 7900        R     MOV     R1,#LOW str
01D5 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
01D8 120000      E     LCALL   ?C?PSTXDATA
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 89  

01DB D001              POP     AR1
01DD D002              POP     AR2
01DF D003              POP     AR3
01E1 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 550
01E4         ?C0106:
                                           ; SOURCE LINE # 552
01E4 900000      R     MOV     DPTR,#i
01E7 E0                MOVX    A,@DPTR
01E8 FE                MOV     R6,A
01E9 A3                INC     DPTR
01EA E0                MOVX    A,@DPTR
01EB FF                MOV     R7,A
01EC 7400        E     MOV     A,#LOW IMU_connected
01EE 2F                ADD     A,R7
01EF F582              MOV     DPL,A
01F1 7400        E     MOV     A,#HIGH IMU_connected
01F3 3E                ADDC    A,R6
01F4 F583              MOV     DPH,A
01F6 E0                MOVX    A,@DPTR
01F7 FF                MOV     R7,A
01F8 EF                MOV     A,R7
01F9 75F005            MOV     B,#05H
01FC A4                MUL     AB
01FD 2400        E     ADD     A,#LOW c_mem+05H
01FF F582              MOV     DPL,A
0201 E4                CLR     A
0202 3400        E     ADDC    A,#HIGH c_mem+05H
0204 F583              MOV     DPH,A
0206 E0                MOVX    A,@DPTR
0207 FF                MOV     R7,A
0208 EF                MOV     A,R7
0209 7003              JNZ     $ + 5H
020B 020000      R     LJMP    ?C0107
                                           ; SOURCE LINE # 553
020E 7B01              MOV     R3,#01H
0210 7A00        R     MOV     R2,#HIGH str
0212 7900        R     MOV     R1,#LOW str
0214 C003              PUSH    AR3
0216 C002              PUSH    AR2
0218 C001              PUSH    AR1
021A 7BFF              MOV     R3,#0FFH
021C 7A00        R     MOV     R2,#HIGH ?SC_564
021E 7900        R     MOV     R1,#LOW ?SC_564
0220 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0223 120000      E     LCALL   ?C?PSTXDATA
0226 900000      R     MOV     DPTR,#i
0229 E0                MOVX    A,@DPTR
022A FE                MOV     R6,A
022B A3                INC     DPTR
022C E0                MOVX    A,@DPTR
022D FF                MOV     R7,A
022E 900000      E     MOV     DPTR,#g_imu+07H
0231 75F025            MOV     B,#025H
0234 EF                MOV     A,R7
0235 120000      E     LCALL   ?C?OFFXADD
0238 EE                MOV     A,R6
0239 75F025            MOV     B,#025H
023C A4                MUL     AB
023D 2583              ADD     A,DPH
023F F583              MOV     DPH,A
0241 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 90  

0242 FE                MOV     R6,A
0243 A3                INC     DPTR
0244 E0                MOVX    A,@DPTR
0245 FF                MOV     R7,A
0246 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0249 EE                MOV     A,R6
024A F0                MOVX    @DPTR,A
024B A3                INC     DPTR
024C EF                MOV     A,R7
024D F0                MOVX    @DPTR,A
024E 900000      R     MOV     DPTR,#i
0251 E0                MOVX    A,@DPTR
0252 FE                MOV     R6,A
0253 A3                INC     DPTR
0254 E0                MOVX    A,@DPTR
0255 FF                MOV     R7,A
0256 900000      E     MOV     DPTR,#g_imu+09H
0259 75F025            MOV     B,#025H
025C EF                MOV     A,R7
025D 120000      E     LCALL   ?C?OFFXADD
0260 EE                MOV     A,R6
0261 75F025            MOV     B,#025H
0264 A4                MUL     AB
0265 2583              ADD     A,DPH
0267 F583              MOV     DPH,A
0269 E0                MOVX    A,@DPTR
026A FE                MOV     R6,A
026B A3                INC     DPTR
026C E0                MOVX    A,@DPTR
026D FF                MOV     R7,A
026E 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
0271 EE                MOV     A,R6
0272 F0                MOVX    @DPTR,A
0273 A3                INC     DPTR
0274 EF                MOV     A,R7
0275 F0                MOVX    @DPTR,A
0276 900000      R     MOV     DPTR,#i
0279 E0                MOVX    A,@DPTR
027A FE                MOV     R6,A
027B A3                INC     DPTR
027C E0                MOVX    A,@DPTR
027D FF                MOV     R7,A
027E 900000      E     MOV     DPTR,#g_imu+0BH
0281 75F025            MOV     B,#025H
0284 EF                MOV     A,R7
0285 120000      E     LCALL   ?C?OFFXADD
0288 EE                MOV     A,R6
0289 75F025            MOV     B,#025H
028C A4                MUL     AB
028D 2583              ADD     A,DPH
028F F583              MOV     DPH,A
0291 E0                MOVX    A,@DPTR
0292 FE                MOV     R6,A
0293 A3                INC     DPTR
0294 E0                MOVX    A,@DPTR
0295 FF                MOV     R7,A
0296 900000      E     MOV     DPTR,#?_sprintf?BYTE+0AH
0299 EE                MOV     A,R6
029A F0                MOVX    @DPTR,A
029B A3                INC     DPTR
029C EF                MOV     A,R7
029D F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 91  

029E D001              POP     AR1
02A0 D002              POP     AR2
02A2 D003              POP     AR3
02A4 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 554
02A7 900000      R     MOV     DPTR,#info_string
02AA 120000      E     LCALL   ?C?PLDXDATA
02AD C003              PUSH    AR3
02AF C002              PUSH    AR2
02B1 C001              PUSH    AR1
02B3 7B01              MOV     R3,#01H
02B5 7A00        R     MOV     R2,#HIGH str
02B7 7900        R     MOV     R1,#LOW str
02B9 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
02BC 120000      E     LCALL   ?C?PSTXDATA
02BF D001              POP     AR1
02C1 D002              POP     AR2
02C3 D003              POP     AR3
02C5 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 555
02C8         ?C0107:
                                           ; SOURCE LINE # 557
02C8 900000      R     MOV     DPTR,#i
02CB E0                MOVX    A,@DPTR
02CC FE                MOV     R6,A
02CD A3                INC     DPTR
02CE E0                MOVX    A,@DPTR
02CF FF                MOV     R7,A
02D0 7400        E     MOV     A,#LOW IMU_connected
02D2 2F                ADD     A,R7
02D3 F582              MOV     DPL,A
02D5 7400        E     MOV     A,#HIGH IMU_connected
02D7 3E                ADDC    A,R6
02D8 F583              MOV     DPH,A
02DA E0                MOVX    A,@DPTR
02DB FF                MOV     R7,A
02DC EF                MOV     A,R7
02DD 75F005            MOV     B,#05H
02E0 A4                MUL     AB
02E1 2400        E     ADD     A,#LOW c_mem+06H
02E3 F582              MOV     DPL,A
02E5 E4                CLR     A
02E6 3400        E     ADDC    A,#HIGH c_mem+06H
02E8 F583              MOV     DPH,A
02EA E0                MOVX    A,@DPTR
02EB FF                MOV     R7,A
02EC EF                MOV     A,R7
02ED 7003              JNZ     $ + 5H
02EF 020000      R     LJMP    ?C0108
                                           ; SOURCE LINE # 558
02F2 7B01              MOV     R3,#01H
02F4 7A00        R     MOV     R2,#HIGH str
02F6 7900        R     MOV     R1,#LOW str
02F8 C003              PUSH    AR3
02FA C002              PUSH    AR2
02FC C001              PUSH    AR1
02FE 7BFF              MOV     R3,#0FFH
0300 7A00        R     MOV     R2,#HIGH ?SC_582
0302 7900        R     MOV     R1,#LOW ?SC_582
0304 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0307 120000      E     LCALL   ?C?PSTXDATA
030A 900000      R     MOV     DPTR,#i
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 92  

030D E0                MOVX    A,@DPTR
030E FE                MOV     R6,A
030F A3                INC     DPTR
0310 E0                MOVX    A,@DPTR
0311 FF                MOV     R7,A
0312 900000      E     MOV     DPTR,#g_imu+0DH
0315 75F025            MOV     B,#025H
0318 EF                MOV     A,R7
0319 120000      E     LCALL   ?C?OFFXADD
031C EE                MOV     A,R6
031D 75F025            MOV     B,#025H
0320 A4                MUL     AB
0321 2583              ADD     A,DPH
0323 F583              MOV     DPH,A
0325 E0                MOVX    A,@DPTR
0326 FE                MOV     R6,A
0327 A3                INC     DPTR
0328 E0                MOVX    A,@DPTR
0329 FF                MOV     R7,A
032A 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
032D EE                MOV     A,R6
032E F0                MOVX    @DPTR,A
032F A3                INC     DPTR
0330 EF                MOV     A,R7
0331 F0                MOVX    @DPTR,A
0332 900000      R     MOV     DPTR,#i
0335 E0                MOVX    A,@DPTR
0336 FE                MOV     R6,A
0337 A3                INC     DPTR
0338 E0                MOVX    A,@DPTR
0339 FF                MOV     R7,A
033A 900000      E     MOV     DPTR,#g_imu+0FH
033D 75F025            MOV     B,#025H
0340 EF                MOV     A,R7
0341 120000      E     LCALL   ?C?OFFXADD
0344 EE                MOV     A,R6
0345 75F025            MOV     B,#025H
0348 A4                MUL     AB
0349 2583              ADD     A,DPH
034B F583              MOV     DPH,A
034D E0                MOVX    A,@DPTR
034E FE                MOV     R6,A
034F A3                INC     DPTR
0350 E0                MOVX    A,@DPTR
0351 FF                MOV     R7,A
0352 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
0355 EE                MOV     A,R6
0356 F0                MOVX    @DPTR,A
0357 A3                INC     DPTR
0358 EF                MOV     A,R7
0359 F0                MOVX    @DPTR,A
035A 900000      R     MOV     DPTR,#i
035D E0                MOVX    A,@DPTR
035E FE                MOV     R6,A
035F A3                INC     DPTR
0360 E0                MOVX    A,@DPTR
0361 FF                MOV     R7,A
0362 900000      E     MOV     DPTR,#g_imu+011H
0365 75F025            MOV     B,#025H
0368 EF                MOV     A,R7
0369 120000      E     LCALL   ?C?OFFXADD
036C EE                MOV     A,R6
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 93  

036D 75F025            MOV     B,#025H
0370 A4                MUL     AB
0371 2583              ADD     A,DPH
0373 F583              MOV     DPH,A
0375 E0                MOVX    A,@DPTR
0376 FE                MOV     R6,A
0377 A3                INC     DPTR
0378 E0                MOVX    A,@DPTR
0379 FF                MOV     R7,A
037A 900000      E     MOV     DPTR,#?_sprintf?BYTE+0AH
037D EE                MOV     A,R6
037E F0                MOVX    @DPTR,A
037F A3                INC     DPTR
0380 EF                MOV     A,R7
0381 F0                MOVX    @DPTR,A
0382 D001              POP     AR1
0384 D002              POP     AR2
0386 D003              POP     AR3
0388 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 559
038B 900000      R     MOV     DPTR,#info_string
038E 120000      E     LCALL   ?C?PLDXDATA
0391 C003              PUSH    AR3
0393 C002              PUSH    AR2
0395 C001              PUSH    AR1
0397 7B01              MOV     R3,#01H
0399 7A00        R     MOV     R2,#HIGH str
039B 7900        R     MOV     R1,#LOW str
039D 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
03A0 120000      E     LCALL   ?C?PSTXDATA
03A3 D001              POP     AR1
03A5 D002              POP     AR2
03A7 D003              POP     AR3
03A9 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 560
03AC         ?C0108:
                                           ; SOURCE LINE # 562
03AC 900000      R     MOV     DPTR,#i
03AF E0                MOVX    A,@DPTR
03B0 FE                MOV     R6,A
03B1 A3                INC     DPTR
03B2 E0                MOVX    A,@DPTR
03B3 FF                MOV     R7,A
03B4 7400        E     MOV     A,#LOW IMU_connected
03B6 2F                ADD     A,R7
03B7 F582              MOV     DPL,A
03B9 7400        E     MOV     A,#HIGH IMU_connected
03BB 3E                ADDC    A,R6
03BC F583              MOV     DPH,A
03BE E0                MOVX    A,@DPTR
03BF FF                MOV     R7,A
03C0 EF                MOV     A,R7
03C1 75F005            MOV     B,#05H
03C4 A4                MUL     AB
03C5 2400        E     ADD     A,#LOW c_mem+07H
03C7 F582              MOV     DPL,A
03C9 E4                CLR     A
03CA 3400        E     ADDC    A,#HIGH c_mem+07H
03CC F583              MOV     DPH,A
03CE E0                MOVX    A,@DPTR
03CF FF                MOV     R7,A
03D0 EF                MOV     A,R7
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 94  

03D1 7003              JNZ     $ + 5H
03D3 020000      R     LJMP    ?C0109
                                           ; SOURCE LINE # 563
03D6 7B01              MOV     R3,#01H
03D8 7A00        R     MOV     R2,#HIGH str
03DA 7900        R     MOV     R1,#LOW str
03DC C003              PUSH    AR3
03DE C002              PUSH    AR2
03E0 C001              PUSH    AR1
03E2 7BFF              MOV     R3,#0FFH
03E4 7A00        R     MOV     R2,#HIGH ?SC_599
03E6 7900        R     MOV     R1,#LOW ?SC_599
03E8 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
03EB 120000      E     LCALL   ?C?PSTXDATA
03EE 900000      R     MOV     DPTR,#i
03F1 E0                MOVX    A,@DPTR
03F2 FE                MOV     R6,A
03F3 A3                INC     DPTR
03F4 E0                MOVX    A,@DPTR
03F5 FF                MOV     R7,A
03F6 900000      E     MOV     DPTR,#g_imu+013H
03F9 75F025            MOV     B,#025H
03FC EF                MOV     A,R7
03FD 120000      E     LCALL   ?C?OFFXADD
0400 EE                MOV     A,R6
0401 75F025            MOV     B,#025H
0404 A4                MUL     AB
0405 2583              ADD     A,DPH
0407 F583              MOV     DPH,A
0409 120000      E     LCALL   ?C?LLDXDATA
040C 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
040F 120000      E     LCALL   ?C?LSTXDATA
0412 900000      R     MOV     DPTR,#i
0415 E0                MOVX    A,@DPTR
0416 FE                MOV     R6,A
0417 A3                INC     DPTR
0418 E0                MOVX    A,@DPTR
0419 FF                MOV     R7,A
041A 900000      E     MOV     DPTR,#g_imu+017H
041D 75F025            MOV     B,#025H
0420 EF                MOV     A,R7
0421 120000      E     LCALL   ?C?OFFXADD
0424 EE                MOV     A,R6
0425 75F025            MOV     B,#025H
0428 A4                MUL     AB
0429 2583              ADD     A,DPH
042B F583              MOV     DPH,A
042D 120000      E     LCALL   ?C?LLDXDATA
0430 900000      E     MOV     DPTR,#?_sprintf?BYTE+0AH
0433 120000      E     LCALL   ?C?LSTXDATA
0436 900000      R     MOV     DPTR,#i
0439 E0                MOVX    A,@DPTR
043A FE                MOV     R6,A
043B A3                INC     DPTR
043C E0                MOVX    A,@DPTR
043D FF                MOV     R7,A
043E 900000      E     MOV     DPTR,#g_imu+01BH
0441 75F025            MOV     B,#025H
0444 EF                MOV     A,R7
0445 120000      E     LCALL   ?C?OFFXADD
0448 EE                MOV     A,R6
0449 75F025            MOV     B,#025H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 95  

044C A4                MUL     AB
044D 2583              ADD     A,DPH
044F F583              MOV     DPH,A
0451 120000      E     LCALL   ?C?LLDXDATA
0454 900000      E     MOV     DPTR,#?_sprintf?BYTE+0EH
0457 120000      E     LCALL   ?C?LSTXDATA
045A 900000      R     MOV     DPTR,#i
045D E0                MOVX    A,@DPTR
045E FE                MOV     R6,A
045F A3                INC     DPTR
0460 E0                MOVX    A,@DPTR
0461 FF                MOV     R7,A
0462 900000      E     MOV     DPTR,#g_imu+01FH
0465 75F025            MOV     B,#025H
0468 EF                MOV     A,R7
0469 120000      E     LCALL   ?C?OFFXADD
046C EE                MOV     A,R6
046D 75F025            MOV     B,#025H
0470 A4                MUL     AB
0471 2583              ADD     A,DPH
0473 F583              MOV     DPH,A
0475 120000      E     LCALL   ?C?LLDXDATA
0478 900000      E     MOV     DPTR,#?_sprintf?BYTE+012H
047B 120000      E     LCALL   ?C?LSTXDATA
047E D001              POP     AR1
0480 D002              POP     AR2
0482 D003              POP     AR3
0484 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 564
0487 900000      R     MOV     DPTR,#info_string
048A 120000      E     LCALL   ?C?PLDXDATA
048D C003              PUSH    AR3
048F C002              PUSH    AR2
0491 C001              PUSH    AR1
0493 7B01              MOV     R3,#01H
0495 7A00        R     MOV     R2,#HIGH str
0497 7900        R     MOV     R1,#LOW str
0499 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
049C 120000      E     LCALL   ?C?PSTXDATA
049F D001              POP     AR1
04A1 D002              POP     AR2
04A3 D003              POP     AR3
04A5 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 565
04A8         ?C0109:
                                           ; SOURCE LINE # 567
04A8 900000      R     MOV     DPTR,#i
04AB E0                MOVX    A,@DPTR
04AC FE                MOV     R6,A
04AD A3                INC     DPTR
04AE E0                MOVX    A,@DPTR
04AF FF                MOV     R7,A
04B0 7400        E     MOV     A,#LOW IMU_connected
04B2 2F                ADD     A,R7
04B3 F582              MOV     DPL,A
04B5 7400        E     MOV     A,#HIGH IMU_connected
04B7 3E                ADDC    A,R6
04B8 F583              MOV     DPH,A
04BA E0                MOVX    A,@DPTR
04BB FF                MOV     R7,A
04BC EF                MOV     A,R7
04BD 75F005            MOV     B,#05H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 96  

04C0 A4                MUL     AB
04C1 2400        E     ADD     A,#LOW c_mem+08H
04C3 F582              MOV     DPL,A
04C5 E4                CLR     A
04C6 3400        E     ADDC    A,#HIGH c_mem+08H
04C8 F583              MOV     DPH,A
04CA E0                MOVX    A,@DPTR
04CB FF                MOV     R7,A
04CC EF                MOV     A,R7
04CD 606A              JZ      ?C0105
                                           ; SOURCE LINE # 568
04CF 7B01              MOV     R3,#01H
04D1 7A00        R     MOV     R2,#HIGH str
04D3 7900        R     MOV     R1,#LOW str
04D5 C003              PUSH    AR3
04D7 C002              PUSH    AR2
04D9 C001              PUSH    AR1
04DB 7BFF              MOV     R3,#0FFH
04DD 7A00        R     MOV     R2,#HIGH ?SC_628
04DF 7900        R     MOV     R1,#LOW ?SC_628
04E1 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
04E4 120000      E     LCALL   ?C?PSTXDATA
04E7 900000      R     MOV     DPTR,#i
04EA E0                MOVX    A,@DPTR
04EB FE                MOV     R6,A
04EC A3                INC     DPTR
04ED E0                MOVX    A,@DPTR
04EE FF                MOV     R7,A
04EF 900000      E     MOV     DPTR,#g_imu+023H
04F2 75F025            MOV     B,#025H
04F5 EF                MOV     A,R7
04F6 120000      E     LCALL   ?C?OFFXADD
04F9 EE                MOV     A,R6
04FA 75F025            MOV     B,#025H
04FD A4                MUL     AB
04FE 2583              ADD     A,DPH
0500 F583              MOV     DPH,A
0502 E0                MOVX    A,@DPTR
0503 FE                MOV     R6,A
0504 A3                INC     DPTR
0505 E0                MOVX    A,@DPTR
0506 FF                MOV     R7,A
0507 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
050A EE                MOV     A,R6
050B F0                MOVX    @DPTR,A
050C A3                INC     DPTR
050D EF                MOV     A,R7
050E F0                MOVX    @DPTR,A
050F D001              POP     AR1
0511 D002              POP     AR2
0513 D003              POP     AR3
0515 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 569
0518 900000      R     MOV     DPTR,#info_string
051B 120000      E     LCALL   ?C?PLDXDATA
051E C003              PUSH    AR3
0520 C002              PUSH    AR2
0522 C001              PUSH    AR1
0524 7B01              MOV     R3,#01H
0526 7A00        R     MOV     R2,#HIGH str
0528 7900        R     MOV     R1,#LOW str
052A 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 97  

052D 120000      E     LCALL   ?C?PSTXDATA
0530 D001              POP     AR1
0532 D002              POP     AR2
0534 D003              POP     AR3
0536 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 570
                                           ; SOURCE LINE # 571
0539         ?C0105:
0539 900000      R     MOV     DPTR,#i
053C E4                CLR     A
053D 75F001            MOV     B,#01H
0540 120000      E     LCALL   ?C?IILDX
0543 020000      R     LJMP    ?C0103
                                           ; SOURCE LINE # 572
0546         ?C0111:
0546 22                RET     
             ; FUNCTION _infoReading (END)

             ; FUNCTION _commWrite (BEGIN)
                                           ; SOURCE LINE # 577
0000 900000      R     MOV     DPTR,#packet_data
0003 120000      E     LCALL   ?C?PSTXDATA
0006 900000      R     MOV     DPTR,#packet_lenght
0009 EC                MOV     A,R4
000A F0                MOVX    @DPTR,A
000B A3                INC     DPTR
000C ED                MOV     A,R5
000D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 578
                                           ; SOURCE LINE # 582
000E 7F3A              MOV     R7,#03AH
0010 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 583
0013 7F3A              MOV     R7,#03AH
0015 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 586
0018 900000      E     MOV     DPTR,#g_mem+01H
001B E0                MOVX    A,@DPTR
001C FF                MOV     R7,A
001D 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 589
0020 900000      R     MOV     DPTR,#packet_lenght
0023 E0                MOVX    A,@DPTR
0024 FE                MOV     R6,A
0025 A3                INC     DPTR
0026 E0                MOVX    A,@DPTR
0027 FF                MOV     R7,A
0028 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 592
002B 750000      R     MOV     index,#00H
002E 750000      R     MOV     index+01H,#00H
0031         ?C0112:
0031 900000      R     MOV     DPTR,#packet_lenght
0034 E0                MOVX    A,@DPTR
0035 FE                MOV     R6,A
0036 A3                INC     DPTR
0037 E0                MOVX    A,@DPTR
0038 FF                MOV     R7,A
0039 C3                CLR     C
003A E500        R     MOV     A,index+01H
003C 9F                SUBB    A,R7
003D E500        R     MOV     A,index
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 98  

003F 9E                SUBB    A,R6
0040 5021              JNC     ?C0113
                                           ; SOURCE LINE # 593
0042 900000      R     MOV     DPTR,#packet_data
0045 120000      E     LCALL   ?C?PLDXDATA
0048 AE00        R     MOV     R6,index
004A AF00        R     MOV     R7,index+01H
004C E9                MOV     A,R1
004D 2F                ADD     A,R7
004E F9                MOV     R1,A
004F EA                MOV     A,R2
0050 3E                ADDC    A,R6
0051 FA                MOV     R2,A
0052 120000      E     LCALL   ?C?CLDPTR
0055 FF                MOV     R7,A
0056 120000      E     LCALL   _UART_RS485_PutChar
0059 0500        R     INC     index+01H
005B E500        R     MOV     A,index+01H
005D 7002              JNZ     ?C0185
005F 0500        R     INC     index
0061         ?C0185:
0061 80CE              SJMP    ?C0112
0063         ?C0113:
                                           ; SOURCE LINE # 595
0063 750000      R     MOV     index,#00H
0066 750000      R     MOV     index+01H,#00H
0069         ?C0115:
                                           ; SOURCE LINE # 597
0069 120000      E     LCALL   UART_RS485_ReadTxStatus
006C EF                MOV     A,R7
006D 20E015            JB      ACC.0,?C0116
0070 0500        R     INC     index+01H
0072 E500        R     MOV     A,index+01H
0074 AE00        R     MOV     R6,index
0076 7002              JNZ     ?C0186
0078 0500        R     INC     index
007A         ?C0186:
007A 14                DEC     A
007B FF                MOV     R7,A
007C D3                SETB    C
007D EF                MOV     A,R7
007E 94E8              SUBB    A,#0E8H
0080 EE                MOV     A,R6
0081 9403              SUBB    A,#03H
0083 40E4              JC      ?C0115
0085         ?C0116:
                                           ; SOURCE LINE # 599
0085 7F01              MOV     R7,#01H
0087 120000      E     LCALL   _RS485_CTS_Write
                                           ; SOURCE LINE # 600
008A 7F00              MOV     R7,#00H
008C 120000      E     LCALL   _RS485_CTS_Write
                                           ; SOURCE LINE # 601
008F 22                RET     
             ; FUNCTION _commWrite (END)

             ; FUNCTION _LCRChecksum (BEGIN)
                                           ; SOURCE LINE # 610
0000 900000      R     MOV     DPTR,#data_array
0003 120000      E     LCALL   ?C?PSTXDATA
0006 900000      R     MOV     DPTR,#data_length
0009 ED                MOV     A,R5
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 99  

000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 613
000B 750000      R     MOV     checksum,#00H
                                           ; SOURCE LINE # 615
000E 750000      R     MOV     i,#00H
0011         ?C0118:
0011 900000      R     MOV     DPTR,#data_length
0014 E0                MOVX    A,@DPTR
0015 FF                MOV     R7,A
0016 E500        R     MOV     A,i
0018 C3                CLR     C
0019 9F                SUBB    A,R7
001A 5019              JNC     ?C0119
                                           ; SOURCE LINE # 616
001C 900000      R     MOV     DPTR,#data_array
001F 120000      E     LCALL   ?C?PLDXDATA
0022 AF00        R     MOV     R7,i
0024 E9                MOV     A,R1
0025 2F                ADD     A,R7
0026 F9                MOV     R1,A
0027 E4                CLR     A
0028 3A                ADDC    A,R2
0029 FA                MOV     R2,A
002A 120000      E     LCALL   ?C?CLDPTR
002D FF                MOV     R7,A
002E EF                MOV     A,R7
002F 6200        R     XRL     checksum,A
0031 0500        R     INC     i
0033 80DC              SJMP    ?C0118
0035         ?C0119:
                                           ; SOURCE LINE # 618
0035 AF00        R     MOV     R7,checksum
                                           ; SOURCE LINE # 619
0037         ?C0121:
0037 22                RET     
             ; FUNCTION _LCRChecksum (END)

             ; FUNCTION _sendAcknowledgment (BEGIN)
                                           ; SOURCE LINE # 625
0000 900000      R     MOV     DPTR,#value
0003 EF                MOV     A,R7
0004 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 626
0005 900000      R     MOV     DPTR,#packet_lenght
0008 E4                CLR     A
0009 F0                MOVX    @DPTR,A
000A A3                INC     DPTR
000B 7402              MOV     A,#02H
000D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 629
000E 900000      R     MOV     DPTR,#value
0011 E0                MOVX    A,@DPTR
0012 FF                MOV     R7,A
0013 900000      R     MOV     DPTR,#packet_data
0016 EF                MOV     A,R7
0017 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 630
0018 900000      R     MOV     DPTR,#value
001B E0                MOVX    A,@DPTR
001C FF                MOV     R7,A
001D 900000      R     MOV     DPTR,#packet_data+01H
0020 EF                MOV     A,R7
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 100 

0021 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 632
0022 7B01              MOV     R3,#01H
0024 7A00        R     MOV     R2,#HIGH packet_data
0026 7900        R     MOV     R1,#LOW packet_data
0028 900000      R     MOV     DPTR,#packet_lenght
002B E0                MOVX    A,@DPTR
002C FC                MOV     R4,A
002D A3                INC     DPTR
002E E0                MOVX    A,@DPTR
002F FD                MOV     R5,A
0030 120000      R     LCALL   _commWrite
                                           ; SOURCE LINE # 633
0033 22                RET     
             ; FUNCTION _sendAcknowledgment (END)

             ; FUNCTION _memStore (BEGIN)
                                           ; SOURCE LINE # 644
0000 900000      R     MOV     DPTR,#displacement
0003 EE                MOV     A,R6
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EF                MOV     A,R7
0007 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 645
                                           ; SOURCE LINE # 649
0008 900000      R     MOV     DPTR,#ret_val
000B 7401              MOV     A,#01H
000D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 652
000E 120000      E     LCALL   ISR_RS485_RX_Disable
                                           ; SOURCE LINE # 656
0011 120000      E     LCALL   CySetTemp
                                           ; SOURCE LINE # 658
0014 7B01              MOV     R3,#01H
0016 7A00        E     MOV     R2,#HIGH g_mem
0018 7900        E     MOV     R1,#LOW g_mem
001A C003              PUSH    AR3
001C C002              PUSH    AR2
001E C001              PUSH    AR1
0020 7B01              MOV     R3,#01H
0022 7A00        E     MOV     R2,#HIGH c_mem
0024 7900        E     MOV     R1,#LOW c_mem
0026 A801              MOV     R0,AR1
0028 AC02              MOV     R4,AR2
002A AD03              MOV     R5,AR3
002C D001              POP     AR1
002E D002              POP     AR2
0030 D003              POP     AR3
0032 7E00              MOV     R6,#00H
0034 7F59              MOV     R7,#059H
0036 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 660
0039 900000      R     MOV     DPTR,#pages
003C E4                CLR     A
003D F0                MOVX    @DPTR,A
003E A3                INC     DPTR
003F 7406              MOV     A,#06H
0041 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 662
0042 900000      R     MOV     DPTR,#i
0045 E4                CLR     A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 101 

0046 F0                MOVX    @DPTR,A
0047 A3                INC     DPTR
0048 E4                CLR     A
0049 F0                MOVX    @DPTR,A
004A         ?C0123:
004A 900000      R     MOV     DPTR,#pages
004D E0                MOVX    A,@DPTR
004E FE                MOV     R6,A
004F A3                INC     DPTR
0050 E0                MOVX    A,@DPTR
0051 FF                MOV     R7,A
0052 900000      R     MOV     DPTR,#i
0055 E0                MOVX    A,@DPTR
0056 FC                MOV     R4,A
0057 A3                INC     DPTR
0058 E0                MOVX    A,@DPTR
0059 FD                MOV     R5,A
005A C3                CLR     C
005B ED                MOV     A,R5
005C 9F                SUBB    A,R7
005D EE                MOV     A,R6
005E 6480              XRL     A,#080H
0060 F8                MOV     R0,A
0061 EC                MOV     A,R4
0062 6480              XRL     A,#080H
0064 98                SUBB    A,R0
0065 505A              JNC     ?C0124
                                           ; SOURCE LINE # 663
0067 900000      R     MOV     DPTR,#i
006A E0                MOVX    A,@DPTR
006B FE                MOV     R6,A
006C A3                INC     DPTR
006D E0                MOVX    A,@DPTR
006E FF                MOV     R7,A
006F EF                MOV     A,R7
0070 C4                SWAP    A
0071 F8                MOV     R0,A
0072 540F              ANL     A,#0FH
0074 C8                XCH     A,R0
0075 68                XRL     A,R0
0076 FF                MOV     R7,A
0077 EE                MOV     A,R6
0078 C4                SWAP    A
0079 54F0              ANL     A,#0F0H
007B 48                ORL     A,R0
007C FE                MOV     R6,A
007D 7B01              MOV     R3,#01H
007F 7A00        E     MOV     R2,#HIGH g_mem
0081 7900        E     MOV     R1,#LOW g_mem
0083 E9                MOV     A,R1
0084 2F                ADD     A,R7
0085 F9                MOV     R1,A
0086 EA                MOV     A,R2
0087 3E                ADDC    A,R6
0088 FA                MOV     R2,A
0089 900000      R     MOV     DPTR,#displacement
008C E0                MOVX    A,@DPTR
008D FE                MOV     R6,A
008E A3                INC     DPTR
008F E0                MOVX    A,@DPTR
0090 FF                MOV     R7,A
0091 900000      R     MOV     DPTR,#i
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 102 

0094 E0                MOVX    A,@DPTR
0095 FC                MOV     R4,A
0096 A3                INC     DPTR
0097 E0                MOVX    A,@DPTR
0098 FD                MOV     R5,A
0099 AE05              MOV     R6,AR5
009B EE                MOV     A,R6
009C 2F                ADD     A,R7
009D FD                MOV     R5,A
009E 120000      E     LCALL   _EEPROM_Write
00A1 900000      R     MOV     DPTR,#writeStatus
00A4 EF                MOV     A,R7
00A5 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 664
00A6 900000      R     MOV     DPTR,#writeStatus
00A9 E0                MOVX    A,@DPTR
00AA FF                MOV     R7,A
00AB EF                MOV     A,R7
00AC 6007              JZ      ?C0125
                                           ; SOURCE LINE # 665
00AE 900000      R     MOV     DPTR,#ret_val
00B1 E4                CLR     A
00B2 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 666
00B3 800C              SJMP    ?C0124
                                           ; SOURCE LINE # 667
                                           ; SOURCE LINE # 668
00B5         ?C0125:
00B5 900000      R     MOV     DPTR,#i
00B8 E4                CLR     A
00B9 75F001            MOV     B,#01H
00BC 120000      E     LCALL   ?C?IILDX
00BF 8089              SJMP    ?C0123
00C1         ?C0124:
                                           ; SOURCE LINE # 670
00C1 7B01              MOV     R3,#01H
00C3 7A00        E     MOV     R2,#HIGH c_mem
00C5 7900        E     MOV     R1,#LOW c_mem
00C7 C003              PUSH    AR3
00C9 C002              PUSH    AR2
00CB C001              PUSH    AR1
00CD 7B01              MOV     R3,#01H
00CF 7A00        E     MOV     R2,#HIGH g_mem
00D1 7900        E     MOV     R1,#LOW g_mem
00D3 A801              MOV     R0,AR1
00D5 AC02              MOV     R4,AR2
00D7 AD03              MOV     R5,AR3
00D9 D001              POP     AR1
00DB D002              POP     AR2
00DD D003              POP     AR3
00DF 7E00              MOV     R6,#00H
00E1 7F59              MOV     R7,#059H
00E3 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 673
00E6 120000      E     LCALL   ISR_RS485_RX_Enable
                                           ; SOURCE LINE # 675
00E9 900000      R     MOV     DPTR,#ret_val
00EC E0                MOVX    A,@DPTR
00ED FF                MOV     R7,A
                                           ; SOURCE LINE # 676
00EE         ?C0127:
00EE 22                RET     
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 103 

             ; FUNCTION _memStore (END)

             ; FUNCTION memRecall (BEGIN)
                                           ; SOURCE LINE # 687
                                           ; SOURCE LINE # 688
                                           ; SOURCE LINE # 691
0000 900000      R     MOV     DPTR,#i
0003 E4                CLR     A
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 E4                CLR     A
0007 F0                MOVX    @DPTR,A
0008         ?C0128:
0008 900000      R     MOV     DPTR,#i
000B E0                MOVX    A,@DPTR
000C FE                MOV     R6,A
000D A3                INC     DPTR
000E E0                MOVX    A,@DPTR
000F FF                MOV     R7,A
0010 C3                CLR     C
0011 EF                MOV     A,R7
0012 9459              SUBB    A,#059H
0014 EE                MOV     A,R6
0015 9400              SUBB    A,#00H
0017 5040              JNC     ?C0129
                                           ; SOURCE LINE # 692
0019 900000      R     MOV     DPTR,#i
001C E0                MOVX    A,@DPTR
001D FE                MOV     R6,A
001E A3                INC     DPTR
001F E0                MOVX    A,@DPTR
0020 FF                MOV     R7,A
0021 900000      R     MOV     DPTR,#EEPROM_ADDR
0024 E0                MOVX    A,@DPTR
0025 FC                MOV     R4,A
0026 A3                INC     DPTR
0027 E0                MOVX    A,@DPTR
0028 FD                MOV     R5,A
0029 8D82              MOV     DPL,R5
002B 8C83              MOV     DPH,R4
002D E582              MOV     A,DPL
002F 2F                ADD     A,R7
0030 F582              MOV     DPL,A
0032 E583              MOV     A,DPH
0034 3E                ADDC    A,R6
0035 F583              MOV     DPH,A
0037 E0                MOVX    A,@DPTR
0038 FF                MOV     R7,A
0039 900000      R     MOV     DPTR,#i
003C E0                MOVX    A,@DPTR
003D FC                MOV     R4,A
003E A3                INC     DPTR
003F E0                MOVX    A,@DPTR
0040 FD                MOV     R5,A
0041 7400        E     MOV     A,#LOW g_mem
0043 2D                ADD     A,R5
0044 F582              MOV     DPL,A
0046 7400        E     MOV     A,#HIGH g_mem
0048 3C                ADDC    A,R4
0049 F583              MOV     DPH,A
004B EF                MOV     A,R7
004C F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 104 

                                           ; SOURCE LINE # 693
004D 900000      R     MOV     DPTR,#i
0050 E4                CLR     A
0051 75F001            MOV     B,#01H
0054 120000      E     LCALL   ?C?IILDX
0057 80AF              SJMP    ?C0128
0059         ?C0129:
                                           ; SOURCE LINE # 696
0059 900000      E     MOV     DPTR,#g_mem
005C E0                MOVX    A,@DPTR
005D FF                MOV     R7,A
005E EF                MOV     A,R7
005F 7004              JNZ     ?C0131
                                           ; SOURCE LINE # 697
0061 120000      R     LCALL   memRestore
                                           ; SOURCE LINE # 698
0064 22                RET     
0065         ?C0131:
                                           ; SOURCE LINE # 699
0065 7B01              MOV     R3,#01H
0067 7A00        E     MOV     R2,#HIGH g_mem
0069 7900        E     MOV     R1,#LOW g_mem
006B C003              PUSH    AR3
006D C002              PUSH    AR2
006F C001              PUSH    AR1
0071 7B01              MOV     R3,#01H
0073 7A00        E     MOV     R2,#HIGH c_mem
0075 7900        E     MOV     R1,#LOW c_mem
0077 A801              MOV     R0,AR1
0079 AC02              MOV     R4,AR2
007B AD03              MOV     R5,AR3
007D D001              POP     AR1
007F D002              POP     AR2
0081 D003              POP     AR3
0083 7E00              MOV     R6,#00H
0085 7F59              MOV     R7,#059H
0087 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 700
                                           ; SOURCE LINE # 701
008A         ?C0133:
008A 22                RET     
             ; FUNCTION memRecall (END)

             ; FUNCTION memRestore (BEGIN)
                                           ; SOURCE LINE # 712
                                           ; SOURCE LINE # 715
0000 900000      R     MOV     DPTR,#i
0003 E4                CLR     A
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 E4                CLR     A
0007 F0                MOVX    @DPTR,A
0008         ?C0134:
0008 900000      R     MOV     DPTR,#i
000B E0                MOVX    A,@DPTR
000C FE                MOV     R6,A
000D A3                INC     DPTR
000E E0                MOVX    A,@DPTR
000F FF                MOV     R7,A
0010 C3                CLR     C
0011 EF                MOV     A,R7
0012 9459              SUBB    A,#059H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 105 

0014 EE                MOV     A,R6
0015 9400              SUBB    A,#00H
0017 5048              JNC     ?C0135
                                           ; SOURCE LINE # 716
0019 900000      R     MOV     DPTR,#i
001C E0                MOVX    A,@DPTR
001D FE                MOV     R6,A
001E A3                INC     DPTR
001F E0                MOVX    A,@DPTR
0020 FF                MOV     R7,A
0021 EF                MOV     A,R7
0022 2420              ADD     A,#020H
0024 FF                MOV     R7,A
0025 EE                MOV     A,R6
0026 3403              ADDC    A,#03H
0028 FE                MOV     R6,A
0029 900000      R     MOV     DPTR,#EEPROM_ADDR
002C E0                MOVX    A,@DPTR
002D FC                MOV     R4,A
002E A3                INC     DPTR
002F E0                MOVX    A,@DPTR
0030 FD                MOV     R5,A
0031 8D82              MOV     DPL,R5
0033 8C83              MOV     DPH,R4
0035 E582              MOV     A,DPL
0037 2F                ADD     A,R7
0038 F582              MOV     DPL,A
003A E583              MOV     A,DPH
003C 3E                ADDC    A,R6
003D F583              MOV     DPH,A
003F E0                MOVX    A,@DPTR
0040 FF                MOV     R7,A
0041 900000      R     MOV     DPTR,#i
0044 E0                MOVX    A,@DPTR
0045 FC                MOV     R4,A
0046 A3                INC     DPTR
0047 E0                MOVX    A,@DPTR
0048 FD                MOV     R5,A
0049 7400        E     MOV     A,#LOW g_mem
004B 2D                ADD     A,R5
004C F582              MOV     DPL,A
004E 7400        E     MOV     A,#HIGH g_mem
0050 3C                ADDC    A,R4
0051 F583              MOV     DPH,A
0053 EF                MOV     A,R7
0054 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 717
0055 900000      R     MOV     DPTR,#i
0058 E4                CLR     A
0059 75F001            MOV     B,#01H
005C 120000      E     LCALL   ?C?IILDX
005F 80A7              SJMP    ?C0134
0061         ?C0135:
                                           ; SOURCE LINE # 720
0061 900000      E     MOV     DPTR,#g_mem
0064 E0                MOVX    A,@DPTR
0065 FF                MOV     R7,A
0066 EF                MOV     A,R7
0067 7004              JNZ     ?C0137
                                           ; SOURCE LINE # 721
0069 120000      R     LCALL   memInit
006C 22                RET     
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 106 

                                           ; SOURCE LINE # 722
006D         ?C0137:
                                           ; SOURCE LINE # 723
006D 7F00              MOV     R7,#00H
006F 7E00              MOV     R6,#00H
0071 120000      R     LCALL   _memStore
                                           ; SOURCE LINE # 724
                                           ; SOURCE LINE # 725
0074         ?C0138:
0074 22                RET     
             ; FUNCTION memRestore (END)

             ; FUNCTION memInit (BEGIN)
                                           ; SOURCE LINE # 735
                                           ; SOURCE LINE # 736
                                           ; SOURCE LINE # 741
0000 900000      E     MOV     DPTR,#g_mem+01H
0003 7401              MOV     A,#01H
0005 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 745
0006 900000      E     MOV     DPTR,#g_mem
0009 7401              MOV     A,#01H
000B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 748
000C 900000      R     MOV     DPTR,#i
000F E4                CLR     A
0010 F0                MOVX    @DPTR,A
0011         ?C0140:
0011 900000      R     MOV     DPTR,#i
0014 E0                MOVX    A,@DPTR
0015 FF                MOV     R7,A
0016 EF                MOV     A,R7
0017 C3                CLR     C
0018 9411              SUBB    A,#011H
001A 5073              JNC     ?C0141
                                           ; SOURCE LINE # 749
001C 900000      R     MOV     DPTR,#i
001F E0                MOVX    A,@DPTR
0020 FF                MOV     R7,A
0021 EF                MOV     A,R7
0022 75F005            MOV     B,#05H
0025 A4                MUL     AB
0026 2400        E     ADD     A,#LOW g_mem+04H
0028 F582              MOV     DPL,A
002A E4                CLR     A
002B 3400        E     ADDC    A,#HIGH g_mem+04H
002D F583              MOV     DPH,A
002F 7401              MOV     A,#01H
0031 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 750
0032 900000      R     MOV     DPTR,#i
0035 E0                MOVX    A,@DPTR
0036 FF                MOV     R7,A
0037 EF                MOV     A,R7
0038 75F005            MOV     B,#05H
003B A4                MUL     AB
003C 2400        E     ADD     A,#LOW g_mem+05H
003E F582              MOV     DPL,A
0040 E4                CLR     A
0041 3400        E     ADDC    A,#HIGH g_mem+05H
0043 F583              MOV     DPH,A
0045 7401              MOV     A,#01H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 107 

0047 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 751
0048 900000      R     MOV     DPTR,#i
004B E0                MOVX    A,@DPTR
004C FF                MOV     R7,A
004D EF                MOV     A,R7
004E 75F005            MOV     B,#05H
0051 A4                MUL     AB
0052 2400        E     ADD     A,#LOW g_mem+06H
0054 F582              MOV     DPL,A
0056 E4                CLR     A
0057 3400        E     ADDC    A,#HIGH g_mem+06H
0059 F583              MOV     DPH,A
005B E4                CLR     A
005C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 752
005D 900000      R     MOV     DPTR,#i
0060 E0                MOVX    A,@DPTR
0061 FF                MOV     R7,A
0062 EF                MOV     A,R7
0063 75F005            MOV     B,#05H
0066 A4                MUL     AB
0067 2400        E     ADD     A,#LOW g_mem+07H
0069 F582              MOV     DPL,A
006B E4                CLR     A
006C 3400        E     ADDC    A,#HIGH g_mem+07H
006E F583              MOV     DPH,A
0070 E4                CLR     A
0071 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 753
0072 900000      R     MOV     DPTR,#i
0075 E0                MOVX    A,@DPTR
0076 FF                MOV     R7,A
0077 EF                MOV     A,R7
0078 75F005            MOV     B,#05H
007B A4                MUL     AB
007C 2400        E     ADD     A,#LOW g_mem+08H
007E F582              MOV     DPL,A
0080 E4                CLR     A
0081 3400        E     ADDC    A,#HIGH g_mem+08H
0083 F583              MOV     DPH,A
0085 E4                CLR     A
0086 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 757
0087 900000      R     MOV     DPTR,#i
008A E0                MOVX    A,@DPTR
008B 04                INC     A
008C F0                MOVX    @DPTR,A
008D 8082              SJMP    ?C0140
008F         ?C0141:
                                           ; SOURCE LINE # 760
008F 7F00              MOV     R7,#00H
0091 7E00              MOV     R6,#00H
0093 120000      R     LCALL   _memStore
0096 EF                MOV     A,R7
0097 600E              JZ      ?C0143
0099 7F32              MOV     R7,#032H
009B 7E00              MOV     R6,#00H
009D 120000      R     LCALL   _memStore
00A0 EF                MOV     A,R7
00A1 6004              JZ      ?C0143
00A3 7F01              MOV     R7,#01H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 108 

00A5 8002              SJMP    ?C0144
00A7         ?C0143:
00A7 7F00              MOV     R7,#00H
00A9         ?C0144:
                                           ; SOURCE LINE # 761
00A9         ?C0145:
00A9 22                RET     
             ; FUNCTION memInit (END)

             ; FUNCTION cmd_set_baudrate (BEGIN)
                                           ; SOURCE LINE # 770
                                           ; SOURCE LINE # 773
0000 900000      E     MOV     DPTR,#g_rx+01H
0003 E0                MOVX    A,@DPTR
0004 FF                MOV     R7,A
0005 900000      E     MOV     DPTR,#c_mem+02H
0008 EF                MOV     A,R7
0009 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 775
000A 900000      E     MOV     DPTR,#g_rx+01H
000D E0                MOVX    A,@DPTR
000E FF                MOV     R7,A
000F EF                MOV     A,R7
0010 120000      E     LCALL   ?C?CCASE
0013 0000        R     DW      ?C0147
0015 0D                DB      0DH
0016 0000              DW      00H
0018 0000        R     DW      ?C0148
                                           ; SOURCE LINE # 776
001A         ?C0147:
                                           ; SOURCE LINE # 777
001A 7D01              MOV     R5,#01H
001C 7F0C              MOV     R7,#0CH
001E 7E00              MOV     R6,#00H
0020 120000      E     LCALL   _CLOCK_UART_SetDividerRegister
                                           ; SOURCE LINE # 778
0023 22                RET     
                                           ; SOURCE LINE # 779
0024         ?C0148:
                                           ; SOURCE LINE # 780
0024 7D01              MOV     R5,#01H
0026 7F02              MOV     R7,#02H
0028 7E00              MOV     R6,#00H
002A 120000      E     LCALL   _CLOCK_UART_SetDividerRegister
                                           ; SOURCE LINE # 781
                                           ; SOURCE LINE # 782
002D         ?C0149:
002D 22                RET     
             ; FUNCTION cmd_set_baudrate (END)

             ; FUNCTION cmd_ping (BEGIN)
                                           ; SOURCE LINE # 784
                                           ; SOURCE LINE # 789
0000 900000      R     MOV     DPTR,#packet_data
0003 E4                CLR     A
0004 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 792
0005 900000      R     MOV     DPTR,#packet_data+01H
0008 E4                CLR     A
0009 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 795
000A 7B01              MOV     R3,#01H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 109 

000C 7A00        R     MOV     R2,#HIGH packet_data
000E 7900        R     MOV     R1,#LOW packet_data
0010 7D02              MOV     R5,#02H
0012 7C00              MOV     R4,#00H
0014 120000      R     LCALL   _commWrite
                                           ; SOURCE LINE # 796
0017 22                RET     
             ; FUNCTION cmd_ping (END)

             ; FUNCTION cmd_store_params (BEGIN)
                                           ; SOURCE LINE # 798
                                           ; SOURCE LINE # 800
0000 7F00              MOV     R7,#00H
0002 7E00              MOV     R6,#00H
0004 120000      R     LCALL   _memStore
0007 EF                MOV     A,R7
0008 6006              JZ      ?C0151
                                           ; SOURCE LINE # 801
000A 7F01              MOV     R7,#01H
000C 120000      R     LCALL   _sendAcknowledgment
000F 22                RET     
0010         ?C0151:
                                           ; SOURCE LINE # 803
0010 7F00              MOV     R7,#00H
0012 120000      R     LCALL   _sendAcknowledgment
                                           ; SOURCE LINE # 804
0015         ?C0153:
0015 22                RET     
             ; FUNCTION cmd_store_params (END)

             ; FUNCTION cmd_get_imu_readings (BEGIN)
                                           ; SOURCE LINE # 806
                                           ; SOURCE LINE # 810
0000 900000      R     MOV     DPTR,#c
0003 7401              MOV     A,#01H
0005 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 811
0006 900000      R     MOV     DPTR,#k
0009 E4                CLR     A
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 812
000B 900000      R     MOV     DPTR,#gl_c
000E 7401              MOV     A,#01H
0010 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 819
0011 900000      R     MOV     DPTR,#packet_data
0014 74A1              MOV     A,#0A1H
0016 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 821
0017 900000      R     MOV     DPTR,#k_imu
001A E4                CLR     A
001B F0                MOVX    @DPTR,A
001C         ?C0154:
001C 900000      E     MOV     DPTR,#N_IMU_Connected
001F E0                MOVX    A,@DPTR
0020 FF                MOV     R7,A
0021 900000      R     MOV     DPTR,#k_imu
0024 E0                MOVX    A,@DPTR
0025 FE                MOV     R6,A
0026 EE                MOV     A,R6
0027 C3                CLR     C
0028 9F                SUBB    A,R7
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 110 

0029 4003              JC      $ + 5H
002B 020000      R     LJMP    ?C0155
                                           ; SOURCE LINE # 822
                                           ; SOURCE LINE # 824
002E 900000      R     MOV     DPTR,#single_packet
0031 743A              MOV     A,#03AH
0033 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 825
0034 900000      R     MOV     DPTR,#k_imu
0037 E0                MOVX    A,@DPTR
0038 FF                MOV     R7,A
0039 7400        E     MOV     A,#LOW IMU_connected
003B 2F                ADD     A,R7
003C F582              MOV     DPL,A
003E E4                CLR     A
003F 3400        E     ADDC    A,#HIGH IMU_connected
0041 F583              MOV     DPH,A
0043 E0                MOVX    A,@DPTR
0044 FF                MOV     R7,A
0045 EF                MOV     A,R7
0046 75F005            MOV     B,#05H
0049 A4                MUL     AB
004A 2400        E     ADD     A,#LOW c_mem+04H
004C F582              MOV     DPL,A
004E E4                CLR     A
004F 3400        E     ADDC    A,#HIGH c_mem+04H
0051 F583              MOV     DPH,A
0053 E0                MOVX    A,@DPTR
0054 FF                MOV     R7,A
0055 EF                MOV     A,R7
0056 607F              JZ      ?C0157
                                           ; SOURCE LINE # 826
0058 900000      R     MOV     DPTR,#k_imu
005B E0                MOVX    A,@DPTR
005C FF                MOV     R7,A
005D 75F025            MOV     B,#025H
0060 EF                MOV     A,R7
0061 900000      E     MOV     DPTR,#g_imu+01H
0064 120000      E     LCALL   ?C?OFFXADD
0067 E0                MOVX    A,@DPTR
0068 FE                MOV     R6,A
0069 A3                INC     DPTR
006A E0                MOVX    A,@DPTR
006B FF                MOV     R7,A
006C 900000      R     MOV     DPTR,#c
006F E0                MOVX    A,@DPTR
0070 FD                MOV     R5,A
0071 7400        R     MOV     A,#LOW single_packet
0073 2D                ADD     A,R5
0074 F582              MOV     DPL,A
0076 E4                CLR     A
0077 3400        R     ADDC    A,#HIGH single_packet
0079 F583              MOV     DPH,A
007B EE                MOV     A,R6
007C F0                MOVX    @DPTR,A
007D A3                INC     DPTR
007E EF                MOV     A,R7
007F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 827
0080 900000      R     MOV     DPTR,#k_imu
0083 E0                MOVX    A,@DPTR
0084 FF                MOV     R7,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 111 

0085 75F025            MOV     B,#025H
0088 EF                MOV     A,R7
0089 900000      E     MOV     DPTR,#g_imu+03H
008C 120000      E     LCALL   ?C?OFFXADD
008F E0                MOVX    A,@DPTR
0090 FE                MOV     R6,A
0091 A3                INC     DPTR
0092 E0                MOVX    A,@DPTR
0093 FF                MOV     R7,A
0094 900000      R     MOV     DPTR,#c
0097 E0                MOVX    A,@DPTR
0098 FD                MOV     R5,A
0099 7400        R     MOV     A,#LOW single_packet+02H
009B 2D                ADD     A,R5
009C F582              MOV     DPL,A
009E E4                CLR     A
009F 3400        R     ADDC    A,#HIGH single_packet+02H
00A1 F583              MOV     DPH,A
00A3 EE                MOV     A,R6
00A4 F0                MOVX    @DPTR,A
00A5 A3                INC     DPTR
00A6 EF                MOV     A,R7
00A7 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 828
00A8 900000      R     MOV     DPTR,#k_imu
00AB E0                MOVX    A,@DPTR
00AC FF                MOV     R7,A
00AD 75F025            MOV     B,#025H
00B0 EF                MOV     A,R7
00B1 900000      E     MOV     DPTR,#g_imu+05H
00B4 120000      E     LCALL   ?C?OFFXADD
00B7 E0                MOVX    A,@DPTR
00B8 FE                MOV     R6,A
00B9 A3                INC     DPTR
00BA E0                MOVX    A,@DPTR
00BB FF                MOV     R7,A
00BC 900000      R     MOV     DPTR,#c
00BF E0                MOVX    A,@DPTR
00C0 FD                MOV     R5,A
00C1 7400        R     MOV     A,#LOW single_packet+04H
00C3 2D                ADD     A,R5
00C4 F582              MOV     DPL,A
00C6 E4                CLR     A
00C7 3400        R     ADDC    A,#HIGH single_packet+04H
00C9 F583              MOV     DPH,A
00CB EE                MOV     A,R6
00CC F0                MOVX    @DPTR,A
00CD A3                INC     DPTR
00CE EF                MOV     A,R7
00CF F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 829
00D0 900000      R     MOV     DPTR,#c
00D3 E0                MOVX    A,@DPTR
00D4 2406              ADD     A,#06H
00D6 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 830
00D7         ?C0157:
                                           ; SOURCE LINE # 831
00D7 900000      R     MOV     DPTR,#k_imu
00DA E0                MOVX    A,@DPTR
00DB FF                MOV     R7,A
00DC 7400        E     MOV     A,#LOW IMU_connected
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 112 

00DE 2F                ADD     A,R7
00DF F582              MOV     DPL,A
00E1 E4                CLR     A
00E2 3400        E     ADDC    A,#HIGH IMU_connected
00E4 F583              MOV     DPH,A
00E6 E0                MOVX    A,@DPTR
00E7 FF                MOV     R7,A
00E8 EF                MOV     A,R7
00E9 75F005            MOV     B,#05H
00EC A4                MUL     AB
00ED 2400        E     ADD     A,#LOW c_mem+05H
00EF F582              MOV     DPL,A
00F1 E4                CLR     A
00F2 3400        E     ADDC    A,#HIGH c_mem+05H
00F4 F583              MOV     DPH,A
00F6 E0                MOVX    A,@DPTR
00F7 FF                MOV     R7,A
00F8 EF                MOV     A,R7
00F9 607F              JZ      ?C0158
                                           ; SOURCE LINE # 832
00FB 900000      R     MOV     DPTR,#k_imu
00FE E0                MOVX    A,@DPTR
00FF FF                MOV     R7,A
0100 75F025            MOV     B,#025H
0103 EF                MOV     A,R7
0104 900000      E     MOV     DPTR,#g_imu+07H
0107 120000      E     LCALL   ?C?OFFXADD
010A E0                MOVX    A,@DPTR
010B FE                MOV     R6,A
010C A3                INC     DPTR
010D E0                MOVX    A,@DPTR
010E FF                MOV     R7,A
010F 900000      R     MOV     DPTR,#c
0112 E0                MOVX    A,@DPTR
0113 FD                MOV     R5,A
0114 7400        R     MOV     A,#LOW single_packet
0116 2D                ADD     A,R5
0117 F582              MOV     DPL,A
0119 E4                CLR     A
011A 3400        R     ADDC    A,#HIGH single_packet
011C F583              MOV     DPH,A
011E EE                MOV     A,R6
011F F0                MOVX    @DPTR,A
0120 A3                INC     DPTR
0121 EF                MOV     A,R7
0122 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 833
0123 900000      R     MOV     DPTR,#k_imu
0126 E0                MOVX    A,@DPTR
0127 FF                MOV     R7,A
0128 75F025            MOV     B,#025H
012B EF                MOV     A,R7
012C 900000      E     MOV     DPTR,#g_imu+09H
012F 120000      E     LCALL   ?C?OFFXADD
0132 E0                MOVX    A,@DPTR
0133 FE                MOV     R6,A
0134 A3                INC     DPTR
0135 E0                MOVX    A,@DPTR
0136 FF                MOV     R7,A
0137 900000      R     MOV     DPTR,#c
013A E0                MOVX    A,@DPTR
013B FD                MOV     R5,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 113 

013C 7400        R     MOV     A,#LOW single_packet+02H
013E 2D                ADD     A,R5
013F F582              MOV     DPL,A
0141 E4                CLR     A
0142 3400        R     ADDC    A,#HIGH single_packet+02H
0144 F583              MOV     DPH,A
0146 EE                MOV     A,R6
0147 F0                MOVX    @DPTR,A
0148 A3                INC     DPTR
0149 EF                MOV     A,R7
014A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 834
014B 900000      R     MOV     DPTR,#k_imu
014E E0                MOVX    A,@DPTR
014F FF                MOV     R7,A
0150 75F025            MOV     B,#025H
0153 EF                MOV     A,R7
0154 900000      E     MOV     DPTR,#g_imu+0BH
0157 120000      E     LCALL   ?C?OFFXADD
015A E0                MOVX    A,@DPTR
015B FE                MOV     R6,A
015C A3                INC     DPTR
015D E0                MOVX    A,@DPTR
015E FF                MOV     R7,A
015F 900000      R     MOV     DPTR,#c
0162 E0                MOVX    A,@DPTR
0163 FD                MOV     R5,A
0164 7400        R     MOV     A,#LOW single_packet+04H
0166 2D                ADD     A,R5
0167 F582              MOV     DPL,A
0169 E4                CLR     A
016A 3400        R     ADDC    A,#HIGH single_packet+04H
016C F583              MOV     DPH,A
016E EE                MOV     A,R6
016F F0                MOVX    @DPTR,A
0170 A3                INC     DPTR
0171 EF                MOV     A,R7
0172 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 835
0173 900000      R     MOV     DPTR,#c
0176 E0                MOVX    A,@DPTR
0177 2406              ADD     A,#06H
0179 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 836
017A         ?C0158:
                                           ; SOURCE LINE # 837
017A 900000      R     MOV     DPTR,#k_imu
017D E0                MOVX    A,@DPTR
017E FF                MOV     R7,A
017F 7400        E     MOV     A,#LOW IMU_connected
0181 2F                ADD     A,R7
0182 F582              MOV     DPL,A
0184 E4                CLR     A
0185 3400        E     ADDC    A,#HIGH IMU_connected
0187 F583              MOV     DPH,A
0189 E0                MOVX    A,@DPTR
018A FF                MOV     R7,A
018B EF                MOV     A,R7
018C 75F005            MOV     B,#05H
018F A4                MUL     AB
0190 2400        E     ADD     A,#LOW c_mem+06H
0192 F582              MOV     DPL,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 114 

0194 E4                CLR     A
0195 3400        E     ADDC    A,#HIGH c_mem+06H
0197 F583              MOV     DPH,A
0199 E0                MOVX    A,@DPTR
019A FF                MOV     R7,A
019B EF                MOV     A,R7
019C 607F              JZ      ?C0159
                                           ; SOURCE LINE # 838
019E 900000      R     MOV     DPTR,#k_imu
01A1 E0                MOVX    A,@DPTR
01A2 FF                MOV     R7,A
01A3 75F025            MOV     B,#025H
01A6 EF                MOV     A,R7
01A7 900000      E     MOV     DPTR,#g_imu+0DH
01AA 120000      E     LCALL   ?C?OFFXADD
01AD E0                MOVX    A,@DPTR
01AE FE                MOV     R6,A
01AF A3                INC     DPTR
01B0 E0                MOVX    A,@DPTR
01B1 FF                MOV     R7,A
01B2 900000      R     MOV     DPTR,#c
01B5 E0                MOVX    A,@DPTR
01B6 FD                MOV     R5,A
01B7 7400        R     MOV     A,#LOW single_packet
01B9 2D                ADD     A,R5
01BA F582              MOV     DPL,A
01BC E4                CLR     A
01BD 3400        R     ADDC    A,#HIGH single_packet
01BF F583              MOV     DPH,A
01C1 EE                MOV     A,R6
01C2 F0                MOVX    @DPTR,A
01C3 A3                INC     DPTR
01C4 EF                MOV     A,R7
01C5 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 839
01C6 900000      R     MOV     DPTR,#k_imu
01C9 E0                MOVX    A,@DPTR
01CA FF                MOV     R7,A
01CB 75F025            MOV     B,#025H
01CE EF                MOV     A,R7
01CF 900000      E     MOV     DPTR,#g_imu+0FH
01D2 120000      E     LCALL   ?C?OFFXADD
01D5 E0                MOVX    A,@DPTR
01D6 FE                MOV     R6,A
01D7 A3                INC     DPTR
01D8 E0                MOVX    A,@DPTR
01D9 FF                MOV     R7,A
01DA 900000      R     MOV     DPTR,#c
01DD E0                MOVX    A,@DPTR
01DE FD                MOV     R5,A
01DF 7400        R     MOV     A,#LOW single_packet+02H
01E1 2D                ADD     A,R5
01E2 F582              MOV     DPL,A
01E4 E4                CLR     A
01E5 3400        R     ADDC    A,#HIGH single_packet+02H
01E7 F583              MOV     DPH,A
01E9 EE                MOV     A,R6
01EA F0                MOVX    @DPTR,A
01EB A3                INC     DPTR
01EC EF                MOV     A,R7
01ED F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 840
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 115 

01EE 900000      R     MOV     DPTR,#k_imu
01F1 E0                MOVX    A,@DPTR
01F2 FF                MOV     R7,A
01F3 75F025            MOV     B,#025H
01F6 EF                MOV     A,R7
01F7 900000      E     MOV     DPTR,#g_imu+011H
01FA 120000      E     LCALL   ?C?OFFXADD
01FD E0                MOVX    A,@DPTR
01FE FE                MOV     R6,A
01FF A3                INC     DPTR
0200 E0                MOVX    A,@DPTR
0201 FF                MOV     R7,A
0202 900000      R     MOV     DPTR,#c
0205 E0                MOVX    A,@DPTR
0206 FD                MOV     R5,A
0207 7400        R     MOV     A,#LOW single_packet+04H
0209 2D                ADD     A,R5
020A F582              MOV     DPL,A
020C E4                CLR     A
020D 3400        R     ADDC    A,#HIGH single_packet+04H
020F F583              MOV     DPH,A
0211 EE                MOV     A,R6
0212 F0                MOVX    @DPTR,A
0213 A3                INC     DPTR
0214 EF                MOV     A,R7
0215 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 841
0216 900000      R     MOV     DPTR,#c
0219 E0                MOVX    A,@DPTR
021A 2406              ADD     A,#06H
021C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 842
021D         ?C0159:
                                           ; SOURCE LINE # 843
021D 900000      R     MOV     DPTR,#k_imu
0220 E0                MOVX    A,@DPTR
0221 FF                MOV     R7,A
0222 7400        E     MOV     A,#LOW IMU_connected
0224 2F                ADD     A,R7
0225 F582              MOV     DPL,A
0227 E4                CLR     A
0228 3400        E     ADDC    A,#HIGH IMU_connected
022A F583              MOV     DPH,A
022C E0                MOVX    A,@DPTR
022D FF                MOV     R7,A
022E EF                MOV     A,R7
022F 75F005            MOV     B,#05H
0232 A4                MUL     AB
0233 2400        E     ADD     A,#LOW c_mem+07H
0235 F582              MOV     DPL,A
0237 E4                CLR     A
0238 3400        E     ADDC    A,#HIGH c_mem+07H
023A F583              MOV     DPH,A
023C E0                MOVX    A,@DPTR
023D FF                MOV     R7,A
023E EF                MOV     A,R7
023F 7003              JNZ     $ + 5H
0241 020000      R     LJMP    ?C0160
                                           ; SOURCE LINE # 844
0244 900000      R     MOV     DPTR,#k_imu
0247 E0                MOVX    A,@DPTR
0248 FF                MOV     R7,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 116 

0249 75F025            MOV     B,#025H
024C EF                MOV     A,R7
024D 900000      E     MOV     DPTR,#g_imu+013H
0250 120000      E     LCALL   ?C?OFFXADD
0253 120000      E     LCALL   ?C?LLDXDATA
0256 900000      R     MOV     DPTR,#c
0259 E0                MOVX    A,@DPTR
025A FB                MOV     R3,A
025B 7400        R     MOV     A,#LOW single_packet
025D 2B                ADD     A,R3
025E F582              MOV     DPL,A
0260 E4                CLR     A
0261 3400        R     ADDC    A,#HIGH single_packet
0263 F583              MOV     DPH,A
0265 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 845
0268 900000      R     MOV     DPTR,#k_imu
026B E0                MOVX    A,@DPTR
026C FF                MOV     R7,A
026D 75F025            MOV     B,#025H
0270 EF                MOV     A,R7
0271 900000      E     MOV     DPTR,#g_imu+017H
0274 120000      E     LCALL   ?C?OFFXADD
0277 120000      E     LCALL   ?C?LLDXDATA
027A 900000      R     MOV     DPTR,#c
027D E0                MOVX    A,@DPTR
027E FB                MOV     R3,A
027F 7400        R     MOV     A,#LOW single_packet+04H
0281 2B                ADD     A,R3
0282 F582              MOV     DPL,A
0284 E4                CLR     A
0285 3400        R     ADDC    A,#HIGH single_packet+04H
0287 F583              MOV     DPH,A
0289 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 846
028C 900000      R     MOV     DPTR,#k_imu
028F E0                MOVX    A,@DPTR
0290 FF                MOV     R7,A
0291 75F025            MOV     B,#025H
0294 EF                MOV     A,R7
0295 900000      E     MOV     DPTR,#g_imu+01BH
0298 120000      E     LCALL   ?C?OFFXADD
029B 120000      E     LCALL   ?C?LLDXDATA
029E 900000      R     MOV     DPTR,#c
02A1 E0                MOVX    A,@DPTR
02A2 FB                MOV     R3,A
02A3 7400        R     MOV     A,#LOW single_packet+08H
02A5 2B                ADD     A,R3
02A6 F582              MOV     DPL,A
02A8 E4                CLR     A
02A9 3400        R     ADDC    A,#HIGH single_packet+08H
02AB F583              MOV     DPH,A
02AD 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 847
02B0 900000      R     MOV     DPTR,#k_imu
02B3 E0                MOVX    A,@DPTR
02B4 FF                MOV     R7,A
02B5 75F025            MOV     B,#025H
02B8 EF                MOV     A,R7
02B9 900000      E     MOV     DPTR,#g_imu+01FH
02BC 120000      E     LCALL   ?C?OFFXADD
02BF 120000      E     LCALL   ?C?LLDXDATA
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 117 

02C2 900000      R     MOV     DPTR,#c
02C5 E0                MOVX    A,@DPTR
02C6 FB                MOV     R3,A
02C7 7400        R     MOV     A,#LOW single_packet+0CH
02C9 2B                ADD     A,R3
02CA F582              MOV     DPL,A
02CC E4                CLR     A
02CD 3400        R     ADDC    A,#HIGH single_packet+0CH
02CF F583              MOV     DPH,A
02D1 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 848
02D4 900000      R     MOV     DPTR,#c
02D7 E0                MOVX    A,@DPTR
02D8 2410              ADD     A,#010H
02DA F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 849
02DB         ?C0160:
                                           ; SOURCE LINE # 850
02DB 900000      R     MOV     DPTR,#k_imu
02DE E0                MOVX    A,@DPTR
02DF FF                MOV     R7,A
02E0 7400        E     MOV     A,#LOW IMU_connected
02E2 2F                ADD     A,R7
02E3 F582              MOV     DPL,A
02E5 E4                CLR     A
02E6 3400        E     ADDC    A,#HIGH IMU_connected
02E8 F583              MOV     DPH,A
02EA E0                MOVX    A,@DPTR
02EB FF                MOV     R7,A
02EC EF                MOV     A,R7
02ED 75F005            MOV     B,#05H
02F0 A4                MUL     AB
02F1 2400        E     ADD     A,#LOW c_mem+08H
02F3 F582              MOV     DPL,A
02F5 E4                CLR     A
02F6 3400        E     ADDC    A,#HIGH c_mem+08H
02F8 F583              MOV     DPH,A
02FA E0                MOVX    A,@DPTR
02FB FF                MOV     R7,A
02FC EF                MOV     A,R7
02FD 602F              JZ      ?C0161
                                           ; SOURCE LINE # 851
02FF 900000      R     MOV     DPTR,#k_imu
0302 E0                MOVX    A,@DPTR
0303 FF                MOV     R7,A
0304 75F025            MOV     B,#025H
0307 EF                MOV     A,R7
0308 900000      E     MOV     DPTR,#g_imu+023H
030B 120000      E     LCALL   ?C?OFFXADD
030E E0                MOVX    A,@DPTR
030F FE                MOV     R6,A
0310 A3                INC     DPTR
0311 E0                MOVX    A,@DPTR
0312 FF                MOV     R7,A
0313 900000      R     MOV     DPTR,#c
0316 E0                MOVX    A,@DPTR
0317 FD                MOV     R5,A
0318 7400        R     MOV     A,#LOW single_packet
031A 2D                ADD     A,R5
031B F582              MOV     DPL,A
031D E4                CLR     A
031E 3400        R     ADDC    A,#HIGH single_packet
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 118 

0320 F583              MOV     DPH,A
0322 EE                MOV     A,R6
0323 F0                MOVX    @DPTR,A
0324 A3                INC     DPTR
0325 EF                MOV     A,R7
0326 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 852
0327 900000      R     MOV     DPTR,#c
032A E0                MOVX    A,@DPTR
032B 2402              ADD     A,#02H
032D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 853
032E         ?C0161:
                                           ; SOURCE LINE # 854
032E 900000      R     MOV     DPTR,#k_imu
0331 E0                MOVX    A,@DPTR
0332 FF                MOV     R7,A
0333 7400        E     MOV     A,#LOW IMU_connected
0335 2F                ADD     A,R7
0336 F582              MOV     DPL,A
0338 E4                CLR     A
0339 3400        E     ADDC    A,#HIGH IMU_connected
033B F583              MOV     DPH,A
033D E0                MOVX    A,@DPTR
033E FF                MOV     R7,A
033F EF                MOV     A,R7
0340 25E0              ADD     A,ACC
0342 2400        E     ADD     A,#LOW single_imu_size
0344 F582              MOV     DPL,A
0346 E4                CLR     A
0347 3400        E     ADDC    A,#HIGH single_imu_size
0349 F583              MOV     DPH,A
034B E0                MOVX    A,@DPTR
034C FE                MOV     R6,A
034D A3                INC     DPTR
034E E0                MOVX    A,@DPTR
034F FF                MOV     R7,A
0350 7400        R     MOV     A,#LOW single_packet+0FFFFH
0352 2F                ADD     A,R7
0353 F582              MOV     DPL,A
0355 7400        R     MOV     A,#HIGH single_packet+0FFFFH
0357 3E                ADDC    A,R6
0358 F583              MOV     DPH,A
035A 743A              MOV     A,#03AH
035C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 855
035D 900000      R     MOV     DPTR,#c
0360 7401              MOV     A,#01H
0362 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 857
0363 900000      R     MOV     DPTR,#k
0366 E4                CLR     A
0367 F0                MOVX    @DPTR,A
0368         ?C0162:
0368 900000      R     MOV     DPTR,#k_imu
036B E0                MOVX    A,@DPTR
036C FF                MOV     R7,A
036D 7400        E     MOV     A,#LOW IMU_connected
036F 2F                ADD     A,R7
0370 F582              MOV     DPL,A
0372 E4                CLR     A
0373 3400        E     ADDC    A,#HIGH IMU_connected
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 119 

0375 F583              MOV     DPH,A
0377 E0                MOVX    A,@DPTR
0378 FF                MOV     R7,A
0379 EF                MOV     A,R7
037A 25E0              ADD     A,ACC
037C 2400        E     ADD     A,#LOW single_imu_size
037E F582              MOV     DPL,A
0380 E4                CLR     A
0381 3400        E     ADDC    A,#HIGH single_imu_size
0383 F583              MOV     DPH,A
0385 E0                MOVX    A,@DPTR
0386 FE                MOV     R6,A
0387 A3                INC     DPTR
0388 E0                MOVX    A,@DPTR
0389 FF                MOV     R7,A
038A 900000      R     MOV     DPTR,#k
038D E0                MOVX    A,@DPTR
038E FD                MOV     R5,A
038F 7C00              MOV     R4,#00H
0391 C3                CLR     C
0392 ED                MOV     A,R5
0393 9F                SUBB    A,R7
0394 EE                MOV     A,R6
0395 6480              XRL     A,#080H
0397 F8                MOV     R0,A
0398 EC                MOV     A,R4
0399 6480              XRL     A,#080H
039B 98                SUBB    A,R0
039C 503D              JNC     ?C0163
                                           ; SOURCE LINE # 858
039E 900000      R     MOV     DPTR,#k
03A1 E0                MOVX    A,@DPTR
03A2 FF                MOV     R7,A
03A3 7400        R     MOV     A,#LOW single_packet
03A5 2F                ADD     A,R7
03A6 F582              MOV     DPL,A
03A8 E4                CLR     A
03A9 3400        R     ADDC    A,#HIGH single_packet
03AB F583              MOV     DPH,A
03AD E0                MOVX    A,@DPTR
03AE FF                MOV     R7,A
03AF 900000      R     MOV     DPTR,#k
03B2 E0                MOVX    A,@DPTR
03B3 FE                MOV     R6,A
03B4 EE                MOV     A,R6
03B5 FD                MOV     R5,A
03B6 7C00              MOV     R4,#00H
03B8 900000      R     MOV     DPTR,#gl_c
03BB E0                MOVX    A,@DPTR
03BC FE                MOV     R6,A
03BD EE                MOV     A,R6
03BE FB                MOV     R3,A
03BF 7A00              MOV     R2,#00H
03C1 EB                MOV     A,R3
03C2 2D                ADD     A,R5
03C3 FD                MOV     R5,A
03C4 EA                MOV     A,R2
03C5 3C                ADDC    A,R4
03C6 FC                MOV     R4,A
03C7 7400        R     MOV     A,#LOW packet_data
03C9 2D                ADD     A,R5
03CA F582              MOV     DPL,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 120 

03CC 7400        R     MOV     A,#HIGH packet_data
03CE 3C                ADDC    A,R4
03CF F583              MOV     DPH,A
03D1 EF                MOV     A,R7
03D2 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 859
03D3 900000      R     MOV     DPTR,#k
03D6 E0                MOVX    A,@DPTR
03D7 04                INC     A
03D8 F0                MOVX    @DPTR,A
03D9 808D              SJMP    ?C0162
03DB         ?C0163:
                                           ; SOURCE LINE # 860
03DB 900000      R     MOV     DPTR,#k_imu
03DE E0                MOVX    A,@DPTR
03DF FF                MOV     R7,A
03E0 7400        E     MOV     A,#LOW IMU_connected
03E2 2F                ADD     A,R7
03E3 F582              MOV     DPL,A
03E5 E4                CLR     A
03E6 3400        E     ADDC    A,#HIGH IMU_connected
03E8 F583              MOV     DPH,A
03EA E0                MOVX    A,@DPTR
03EB FF                MOV     R7,A
03EC EF                MOV     A,R7
03ED 25E0              ADD     A,ACC
03EF 2400        E     ADD     A,#LOW single_imu_size
03F1 F582              MOV     DPL,A
03F3 E4                CLR     A
03F4 3400        E     ADDC    A,#HIGH single_imu_size
03F6 F583              MOV     DPH,A
03F8 E0                MOVX    A,@DPTR
03F9 FE                MOV     R6,A
03FA A3                INC     DPTR
03FB E0                MOVX    A,@DPTR
03FC FF                MOV     R7,A
03FD 900000      R     MOV     DPTR,#gl_c
0400 E0                MOVX    A,@DPTR
0401 2F                ADD     A,R7
0402 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 862
0403 7E00              MOV     R6,#00H
0405 7F16              MOV     R7,#016H
0407 7D00              MOV     R5,#00H
0409 7B01              MOV     R3,#01H
040B 7A00        R     MOV     R2,#HIGH single_packet
040D 7900        R     MOV     R1,#LOW single_packet
040F 120000      E     LCALL   ?C?MEMSET
                                           ; SOURCE LINE # 864
0412 900000      R     MOV     DPTR,#k_imu
0415 E0                MOVX    A,@DPTR
0416 04                INC     A
0417 F0                MOVX    @DPTR,A
0418 020000      R     LJMP    ?C0154
041B         ?C0155:
                                           ; SOURCE LINE # 867
041B 7B01              MOV     R3,#01H
041D 7A00        R     MOV     R2,#HIGH packet_data
041F 7900        R     MOV     R1,#LOW packet_data
0421 900000      E     MOV     DPTR,#imus_data_size
0424 E0                MOVX    A,@DPTR
0425 FE                MOV     R6,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 121 

0426 A3                INC     DPTR
0427 E0                MOVX    A,@DPTR
0428 FF                MOV     R7,A
0429 EF                MOV     A,R7
042A 14                DEC     A
042B FD                MOV     R5,A
042C 120000      R     LCALL   _LCRChecksum
042F 900000      E     MOV     DPTR,#imus_data_size
0432 E0                MOVX    A,@DPTR
0433 FC                MOV     R4,A
0434 A3                INC     DPTR
0435 E0                MOVX    A,@DPTR
0436 FD                MOV     R5,A
0437 7400        R     MOV     A,#LOW packet_data+0FFFFH
0439 2D                ADD     A,R5
043A F582              MOV     DPL,A
043C 7400        R     MOV     A,#HIGH packet_data+0FFFFH
043E 3C                ADDC    A,R4
043F F583              MOV     DPH,A
0441 EF                MOV     A,R7
0442 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 868
0443 7B01              MOV     R3,#01H
0445 7A00        R     MOV     R2,#HIGH packet_data
0447 7900        R     MOV     R1,#LOW packet_data
0449 900000      E     MOV     DPTR,#imus_data_size
044C E0                MOVX    A,@DPTR
044D FC                MOV     R4,A
044E A3                INC     DPTR
044F E0                MOVX    A,@DPTR
0450 FD                MOV     R5,A
0451 120000      R     LCALL   _commWrite
                                           ; SOURCE LINE # 869
0454 22                RET     
             ; FUNCTION cmd_get_imu_readings (END)

             ; FUNCTION cmd_get_sensors (BEGIN)
                                           ; SOURCE LINE # 871
                                           ; SOURCE LINE # 876
0000 900000      R     MOV     DPTR,#packet_data
0003 7488              MOV     A,#088H
0005 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 878
0006 900000      E     MOV     DPTR,#sensor_value_1
0009 E0                MOVX    A,@DPTR
000A FE                MOV     R6,A
000B A3                INC     DPTR
000C E0                MOVX    A,@DPTR
000D FF                MOV     R7,A
000E 900000      R     MOV     DPTR,#packet_data+01H
0011 EE                MOV     A,R6
0012 F0                MOVX    @DPTR,A
0013 A3                INC     DPTR
0014 EF                MOV     A,R7
0015 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 879
0016 900000      E     MOV     DPTR,#sensor_value_2
0019 E0                MOVX    A,@DPTR
001A FE                MOV     R6,A
001B A3                INC     DPTR
001C E0                MOVX    A,@DPTR
001D FF                MOV     R7,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/01/2019 12:07:26 PAGE 122 

001E 900000      R     MOV     DPTR,#packet_data+03H
0021 EE                MOV     A,R6
0022 F0                MOVX    @DPTR,A
0023 A3                INC     DPTR
0024 EF                MOV     A,R7
0025 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 881
0026 7B01              MOV     R3,#01H
0028 7A00        R     MOV     R2,#HIGH packet_data
002A 7900        R     MOV     R1,#LOW packet_data
002C 7D05              MOV     R5,#05H
002E 120000      R     LCALL   _LCRChecksum
0031 900000      R     MOV     DPTR,#packet_data+05H
0034 EF                MOV     A,R7
0035 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 883
0036 7B01              MOV     R3,#01H
0038 7A00        R     MOV     R2,#HIGH packet_data
003A 7900        R     MOV     R1,#LOW packet_data
003C 7D06              MOV     R5,#06H
003E 7C00              MOV     R4,#00H
0040 120000      R     LCALL   _commWrite
                                           ; SOURCE LINE # 885
0043 22                RET     
             ; FUNCTION cmd_get_sensors (END)



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =  10259    ----
   CONSTANT SIZE    =   2857    ----
   XDATA SIZE       =   1102    3945
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      20
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
